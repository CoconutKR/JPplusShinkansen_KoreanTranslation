# 1 "JPplusShinkansen.pnml"
/*---HEADER--*/

//Define the GRF
# 1 "src/header.pnml" 1
 grf {
	grfid:					"KR03";
	name:					string(STR_GRF_NAME);
	desc:					string(STR_GRF_DESC);
	version:				43;	// v0.4.3
	min_compatible_version: 43;	// v0.4.3
		//japanset3 removal
		param 4 {
			 param_japansetdisable {
					name: string(STR_PARAM_NAME_JAPANSETDISABLE);
					desc: string(STR_PARAM_DESC_JAPANSETDISABLE);
					type: bool;
					bit:  0;
					def_value: 0;
			 }
		}
		//replacement Shinkansen tracks
		param 6 {
			 param_tracks {
					name: string(STR_PARAM_NAME_TRACKS);
					desc: string(STR_PARAM_DESC_TRACKS);
					type: bool;
					bit:  0;
					def_value: 0;
			 }
		}
		//track fences
		param 3 {
			 param_fences {
					name: string(STR_PARAM_NAME_FENCES);
					desc: string(STR_PARAM_DESC_FENCES);
					type: bool;
					bit:  0;
					def_value: 0;
			 }
		}
		//basecosts
		param 0 {
				param_basecostbuy {
						type: int;
						name: string(STR_PARAM_NAME_BASECOSTMODBUY);
						desc: string(STR_PARAM_DESC_BASECOSTMODBUY);
						min_value: 0;
						max_value: 2;
						def_value: 1;
						names: {
												0: string(STR_PARAM_LOW);
												1: string(STR_PARAM_NORMAL);
												2: string(STR_PARAM_HIGH);
						};
				}
		}
		//runningcosts
		param 1 {
				param_basecostrun {
						type: int;
						name: string(STR_PARAM_NAME_BASECOSTMODRUN);
						desc: string(STR_PARAM_DESC_BASECOSTMODRUN);
						min_value: 0;
						max_value: 4;
						def_value: 2;
						names: {
												0: string(STR_PARAM_VLOW);
												1: string(STR_PARAM_LOW);
												2: string(STR_PARAM_NORMAL);
												3: string(STR_PARAM_HIGH);
												4: string(STR_PARAM_VHIGH);
						};
				}
		}
		//pax capacity
		param 2 {
				param_basecapacity {
						type: int;
						name: string(STR_PARAM_NAME_BASECAPACITY);
						desc: string(STR_PARAM_DESC_BASECAPACITY);
						min_value: 0;
						max_value: 3;
						def_value: 0;
						names: {
												0: string(STR_PARAM_REAL);
												1: string(STR_PARAM_1_25);
												2: string(STR_PARAM_1_50);
												3: string(STR_PARAM_DOUBLE);
						};
				}
		}
		//cargo decay
		param 5 {
			 param_cargodecay {
						type: int;
						name: string(STR_PARAM_NAME_DECAY);
						desc: string(STR_PARAM_DESC_DECAY);
						min_value: 0;
						max_value: 2;
						def_value: 0;
						names: {
												0: string(STR_PARAM_NORMAL);
												1: string(STR_PARAM_LOW);
												2: string(STR_PARAM_VLOW);
				};
			 
			}	
		}
		//sprite length
		param 7 {
				param_spritelength {
						type: int;
						name: string(STR_PARAM_NAME_SPRITELENGTH);
						desc: string(STR_PARAM_DESC_SPRITELENGTH);
						min_value: 0;
						max_value: 1;
						def_value: 0;
						names: {
												0: string(STR_PARAM_LENGTH_12);
												1: string(STR_PARAM_LENGTH_10);
						};
				}
		}
		// Doctor Yellow Usage
		param 8 {
				param_dryellow {
						type: int;
						name: string(STR_PARAM_NAME_DRYELLOW);
						desc: string(STR_PARAM_DESC_DRYELLOW);
						min_value: 0;
						max_value: 2;
						def_value: 0;
						names: {
												0: string(STR_PARAM_GIMMICK);
												1: string(STR_PARAM_MAIL);
												2: string(STR_PARAM_PASSENGERS);
						};
				}
		}

}

// Cargo table
cargotable {
	PASS,
	MAIL
}
# 1 "JPplusShinkansen.pnml" 4

// Templates
# 1 "src/template.pnml" 1
// Begin template

/* Dummy Template */

template template_dummy (x, y) {
  [0, 0, 2, 2, 0, 0, CROP]
  [0, 0, 2, 2, 0, 0, CROP]
  [0, 0, 2, 2, 0, 0, CROP]
  [0, 0, 2, 2, 0, 0, CROP]
  [0, 0, 2, 2, 0, 0, CROP]
  [0, 0, 2, 2, 0, 0, CROP]
  [0, 0, 2, 2, 0, 0, CROP]
  [0, 0, 2, 2, 0, 0, CROP]
}

/* Purchase Templates */

template template_purchase (x, y) {
		[]
	 	[]
	 	[]
	 	[]
	 	[]
	 	[]
    	[x, y, 75, 15, -28, -10]
		[]
}

template tmpl_purchase_dh (x, y) {
		[1 , 1, 1, 1, 0, 0, "src/trains/dummy/empty.png"]
	 	[1 , 1, 1, 1, 0, 0, "src/trains/dummy/empty.png"]
	 	[1 , 1, 1, 1, 0, 0, "src/trains/dummy/empty.png"]
	 	[1 , 1, 1, 1, 0, 0, "src/trains/dummy/empty.png"]
	 	[1 , 1, 1, 1, 0, 0, "src/trains/dummy/empty.png"]
	 	[1 , 1, 1, 1, 0, 0, "src/trains/dummy/empty.png"]
        [x, y, 76, 15, -14, -10]
		[1 , 1, 1, 1, 0, 0, "src/trains/dummy/empty.png"]
}
template tmpl_purchase_dh_32bpp (x, y) {
		[1 , 1, 1, 1, 0, 0, "src/trains/dummy/empty_32bpp.png"]
	 	[1 , 1, 1, 1, 0, 0, "src/trains/dummy/empty_32bpp.png"]
	 	[1 , 1, 1, 1, 0, 0, "src/trains/dummy/empty_32bpp.png"]
	 	[1 , 1, 1, 1, 0, 0, "src/trains/dummy/empty_32bpp.png"]
	 	[1 , 1, 1, 1, 0, 0, "src/trains/dummy/empty_32bpp.png"]
	 	[1 , 1, 1, 1, 0, 0, "src/trains/dummy/empty_32bpp.png"]
        [x, y, 75, 15, -14, -10]
		[1 , 1, 1, 1, 0, 0, "src/trains/dummy/empty_32bpp.png"]
}

/* EMU Templates */

/* 1212121212121212121212121212121212121212121212121212 */

template template_12_standard(x, y) {
    //left_x, upper_y, width, height, offset_x, offset_y
	//							more negative to shift left
	//											more negative to shift up
    [ x,		y,		8,		36,		-3,			-18]
    [ x+16,		y,		30,		29,		-18,		-19]
    [ x+54,		y,		48,		16,		-24,		-12]
    [ x+110,	y,		30,		29,		-10,		-19]
    [ x+148,	y,		8,		36,		-3,			-18]
    [ x+164,	y,		30,		29,		-18,		-19]
    [ x+202,	y,		48,		16,		-24,		-12]
    [ x+258,	y,		30,		29,		-10,		-19]
}

template template_12_cab_rev_standard(x, y) {
    //left_x, upper_y, width, height, offset_x, offset_y
	//							more negative to shift left
	//											more negative to shift up
    [ x+148,	y,		8,		36,		-3,			-18]
    [ x+164,	y,		30,		29,		-18,		-19]
    [ x+202,	y,		48,		16,		-24,		-12]
    [ x+258,	y,		30,		29,		-10,		-19]
    [ x,		y,		8,		36,		-3,			-18]
    [ x+16,		y,		30,		29,		-18,		-19]
    [ x+54,		y,		48,		16,		-24,		-12]
    [ x+110,	y,		30,		29,		-10,		-19]
}

template template_12_reversed(x, y) {
    //left_x, upper_y, width, height, offset_x, offset_y
	//							more negative to shift left
	//											more negative to shift up
    [ x+148,	y,		8,		36,		-3,			-18]
    [ x+164,	y,		30,		29,		-18,		-19]
    [ x+202,	y,		48,		16,		-24,		-12]
    [ x+258,	y,		30,		29,		-10,		-19]
    [ x,		y,		8,		36,		-3,			-18]
    [ x+16,		y,		30,		29,		-18,		-19]
    [ x+54,		y,		48,		16,		-24,		-12]
    [ x+110,	y,		30,		29,		-10,		-19]
}

template template_12_cab_rev_reversed(x, y) {
    //left_x, upper_y, width, height, offset_x, offset_y
	//							more negative to shift left
	//											more negative to shift up
    [ x,		y,		8,		36,		-3,			-18]
    [ x+16,		y,		30,		29,		-18,		-19]
    [ x+54,		y,		48,		16,		-24,		-12]
    [ x+110,	y,		30,		29,		-10,		-19]
    [ x+148,	y,		8,		36,		-3,			-18]
    [ x+164,	y,		30,		29,		-18,		-19]
    [ x+202,	y,		48,		16,		-24,		-12]
    [ x+258,	y,		30,		29,		-10,		-19]
}

/* 10101010101010101010101010101010101010101010101010 */

template template_10_standard(x, y) {
    //left_x, upper_y, width, height, offset_x, offset_y
	//							more negative to shift left
	//											more negative to shift up
    [ x,		y,		8,		36,		-3,			-18]
    [ x+16,		y,		26,		29,		-22,		-17]
    [ x+54,		y,		40,		16,		-20,		-12]
    [ x+110,	y,		26,		29,		-2,		    -17]
    [ x+148,	y,		8,		36,		-3,			-18]
    [ x+164,	y,		26,		29,		-20,		-18]
    [ x+202,	y,		40,		16,		-20,		-12]
    [ x+258,	y,		26,		29,		-2,		    -17]
}

template template_10_cab_rev_standard(x, y) {
    //left_x, upper_y, width, height, offset_x, offset_y
	//							more negative to shift left
	//											more negative to shift up
    [ x+148,	y,		8,		36,		-3,			-18]
    [ x+164,	y,		26,		29,		-22,		-17]
    [ x+202,	y,		40,		16,		-20,		-12]
    [ x+258,	y,		26,		29,		-2,		    -17]
    [ x,    	y,		8,		36,		-3,			-18]
    [ x+16, 	y,		26,		29,		-20,		-18]
    [ x+54, 	y,		40,		16,		-20,		-12]
    [ x+110,	y,		26,		29,		-2,		    -17]
}

template template_10_reversed(x, y) {
    //left_x, upper_y, width, height, offset_x, offset_y
	//							more negative to shift left
	//											more negative to shift up
    [ x+148,	y,		8,		36,		-3,			-18]
    [ x+164,	y,		26,		29,		-24,		-16]
    [ x+202,	y,		40,		16,		-20,		-12]
    [ x+258,	y,		26,		29,		-6,		    -19]
    [ x,    	y,		8,		36,		-3,			-18]
    [ x+16, 	y,		26,		29,		-22,		-17]
    [ x+54, 	y,		40,		16,		-20,		-12]
    [ x+110,	y,		26,		29,		-6,		    -19]
}

template template_10_cab_rev_reversed(x, y) {
    //left_x, upper_y, width, height, offset_x, offset_y
	//							more negative to shift left
	//											more negative to shift up
    [ x,		y,		8,		36,		-3,			-18]
    [ x+16,		y,		26,		29,		-24,		-16]
    [ x+54,		y,		40,		16,		-20,		-12]
    [ x+110,	y,		26,		29,		-6,		    -19]
    [ x+148,	y,		8,		36,		-3,			-18]
    [ x+164,	y,		26,		29,		-22,		-17]
    [ x+202,	y,		40,		16,		-20,		-12]
    [ x+258,	y,		26,		29,		-6,		    -19]
}


/* 888888888888888888888888888888888888888888888888888888 */


// Not Reversed
template template_8_standard(x, y) {
    //left_x, upper_y, width, height, offset_x, offset_y
	//							more negative to shift left
	//											more negative to shift up
    [ x,		y,		8,		36,		-3,			-20]
    [ x+20,		y,		22,		27,		-14,		-19]
    [ x+62,		y,		32,		16,		-16,		-12]
    [ x+114,	y,		22,		27,		-8, 		-20]
    [ x+148,	y,		8,		36,		-3,			-20]
    [ x+168,	y,		22,		27,		-14,		-19]
    [ x+210,	y,		32,		16,		-16,		-12]
    [ x+262,	y,		22,		27,		-8,		    -20]
}

template template_8_cab_rev_standard(x, y) {
    //left_x, upper_y, width, height, offset_x, offset_y
	//							more negative to shift left
	//											more negative to shift up
    [ x+148,	y,		8,		36,		-3,			-20]
    [ x+168,	y,		22,		27,		-14,		-19]
    [ x+210,	y,		32,		16,		-16,		-12]
    [ x+262,	y,		22,		27,		-8, 		-20]
    [ x,	    y,		8,		36,		-3,			-20]
    [ x+20,	    y,		22,		27,		-14,		-19]
    [ x+62,	    y,		32,		16,		-16,		-12]
    [ x+114,	y,		22,		27,		-8,		    -20]
}

template template_8_reversed(x, y) {
    //left_x, upper_y, width, height, offset_x, offset_y
	//							more negative to shift left
	//											more negative to shift up
    [ x+148,	y,		8,		36,		-3,			-20]
    [ x+168,	y,		22,		27,		-14,		-19]
    [ x+210,	y,		32,		16,		-16,		-12]
    [ x+262,	y,		22,		27,		-8, 		-20]
    [ x,		y,		8,		36,		-3,			-20]
    [ x+20,		y,		22,		27,		-14,		-19]
    [ x+62,		y,		32,		16,		-16,		-12]
    [ x+114,	y,		22,		27,		-8,	    	-20]
}

template template_8_cab_rev_reversed(x, y) {
    //left_x, upper_y, width, height, offset_x, offset_y
	//							more negative to shift left
	//											more negative to shift up
    [ x,	    y,		8,		36,		-3,			-20]
    [ x+20,	    y,		22,		27,		-14,		-19]
    [ x+62,	    y,		32,		16,		-16,		-12]
    [ x+114,	y,		22,		27,		-8, 		-20]
    [ x+148,	y,		8,		36,		-3,			-20]
    [ x+168,	y,		22,		27,		-14,		-19]
    [ x+210,	y,		32,		16,		-16,		-12]
    [ x+262,	y,		22,		27,		-8,	    	-20]
}

template template_2_standard(x, y) {
    //left_x, upper_y, width, height, offset_x, offset_y
	//							more negative to shift left
	//											more negative to shift up
    [ x,		y,		8,		16,		-3,			-14]		// |
    [ x+16,		y,		10,		16,		-6,		-12]		// /
    [ x+54,		y,		8,		16,		6,		-12]	// >
    [ x+110,	y,		10,		16,		8,			-7]		// \
    [ x+148,	y,		8,		16,		-3,			-4]		// |
    [ x+164,	y,		10,		16,		-16,		-7]		// /
    [ x+202,	y,		8,		16,		-14,		-12]	// <
    [ x+258,	y,		10,		16,		-2,		-12]		// \
}

template template_2_cab_rev_standard(x, y) {
    //left_x, upper_y, width, height, offset_x, offset_y
	//							more negative to shift left
	//											more negative to shift up
    [ x+148,	y,		8,		16,		-3,			-14]		// V
    [ x+164,	y,		10,		16,		-6,		-12]		// /
    [ x+202,	y,		8,		16,		6,		-12]	// <
    [ x+258,	y,		10,		16,		8,			-7]		// \
	[ x,		y,		8,		16,		-3,			-4]		// /\
    [ x+16,		y,		10,		16,		-16,		-7]		// /
    [ x+54,		y,		8,		16,		-14,		-12]	// >
    [ x+110,	y,		10,		16,		-2,		-12]		// \
    
}

template template_2_reversed(x, y) {
    //left_x, upper_y, width, height, offset_x, offset_y
	//							more negative to shift left
	//											more negative to shift up
    [ x+148,	y,		8,		16,		-3,			-12]
    [ x+164,	y,		10,		16,		-6,			-12]
    [ x+202,	y,		8,		16,		6,			-12]
    [ x+258,	y,		10,		16,		8,			-7]
	[ x,		y,		8,		16,		-3,			-6]
    [ x+16,		y,		10,		16,		-16,		-7]
    [ x+54,		y,		8,		16,		-14,		-12]	
    [ x+110,	y,		10,		16,		-2,			-12]
   
}

template template_2_cab_rev_reversed(x, y) {
    //left_x, upper_y, width, height, offset_x, offset_y
	//							more negative to shift left
	//											more negative to shift up
	[ x,		y,		8,		16,		-3,			-12]
    [ x+16,		y,		10,		16,		-6,			-12]
    [ x+54,		y,		8,		16,		6,			-12]
    [ x+110,	y,		10,		16,		8,			-7]
	[ x+148,	y,		8,		16,		-3,			-6]
    [ x+164,	y,		10,		16,		-16,		-7]
    [ x+202,	y,		8,		16,		-14,		-12]
    [ x+258,	y,		10,		16,		-2,			-12]
}

template template_12_on_2_standard(x, y) {
    //left_x, upper_y, width, height, offset_x, offset_y
	//							more negative to shift left
	//											more negative to shift up
    [ x,		y,		8,		36,		-3,			-22]
    [ x+16,		y,		30,		29,		-18,		-19]
    [ x+54,		y,		48,		16,		-18,		-12]
    [ x+110,	y,		30,		29,		-4,			-16]
    [ x+148,	y,		8,		36,		-3,			-16]
    [ x+164,	y,		30,		29,		-24,		-16]
    [ x+202,	y,		48,		16,		-30,		-12]
    [ x+258,	y,		30,		29,		-10,		-19]
}

template template_12_on_2_cab_rev_standard(x, y) {
    //left_x, upper_y, width, height, offset_x, offset_y
	//							more negative to shift left
	//											more negative to shift up
    [ x+148,	y,		8,		36,		-3,			-22]
    [ x+164,	y,		30,		29,		-18,		-19]
    [ x+202,	y,		48,		16,		-18,		-12]
    [ x+258,	y,		30,		29,		-4,			-16]
    [ x,		y,		8,		36,		-3,			-16]
    [ x+16,		y,		30,		29,		-24,		-16]
    [ x+54,		y,		48,		16,		-30,		-12]
    [ x+110,	y,		30,		29,		-10,		-19]
}


template template_12_on_2_reversed(x, y) {
    //left_x, upper_y, width, height, offset_x, offset_y
	//							more negative to shift left
	//											more negative to shift up
    [ x+148,	y,		8,		36,		-3,			-20]
    [ x+164,	y,		30,		29,		-18,		-19]
    [ x+202,	y,		48,		16,		-18,		-12]
    [ x+258,	y,		30,		29,		-4,			-16]
    [ x,		y,		8,		36,		-3,			-18]
    [ x+16,		y,		30,		29,		-24,		-16]
    [ x+54,		y,		48,		16,		-30,		-12]
    [ x+110,	y,		30,		29,		-10,		-19]
}

template template_12_on_2_cab_rev_reversed(x, y) {
    //left_x, upper_y, width, height, offset_x, offset_y
	//							more negative to shift left
	//											more negative to shift up
    [ x,		y,		8,		36,		-3,			-20]
    [ x+16,		y,		30,		29,		-18,		-19]
    [ x+54,		y,		48,		16,		-18,		-12]
    [ x+110,	y,		30,		29,		-4,			-16]
    [ x+148,	y,		8,		36,		-3,			-18]
    [ x+164,	y,		30,		29,		-24,		-16]
    [ x+202,	y,		48,		16,		-30,		-12]
    [ x+258,	y,		30,		29,		-10,		-19]
}

template template_10_on_2_standard(x, y) {
    //left_x, upper_y, width, height, offset_x, offset_y
	//							more negative to shift left
	//											more negative to shift up
    [ x,		y,		8,		36,		-3,			-22]
    [ x+16,		y,		26,		29,		-18,		-19]
    [ x+54,		y,		40,		16,		-18,		-12]
    [ x+110,	y,		26,		29,		-4,			-18]
    [ x+148,	y,		8,		36,		-3,			-20]
    [ x+164,	y,		26,		29,		-20,		-18]
    [ x+202,	y,		40,		16,		-22,		-12]
    [ x+258,	y,		26,		29,		-6,			-19]
}

template template_10_on_2_cab_rev_standard(x, y) {
    //left_x, upper_y, width, height, offset_x, offset_y
	//							more negative to shift left
	//											more negative to shift up
    [ x+148,	y,		8,		36,		-3,			-22]
    [ x+164,	y,		26,		29,		-18,		-19]
    [ x+202,	y,		40,		16,		-18,		-12]
    [ x+258,	y,		26,		29,		-4,			-18]
    [ x,		y,		8,		36,		-3,			-20]
    [ x+16,		y,		26,		29,		-20,		-18]
    [ x+54,		y,		40,		16,		-22,		-12]
    [ x+110,	y,		26,		29,		-6,			-19]
}


template template_10_on_2_reversed(x, y) {
    //left_x, upper_y, width, height, offset_x, offset_y
	//							more negative to shift left
	//											more negative to shift up
    [ x+148,	y,		8,		36,		-3,			-20]
    [ x+164,	y,		26,		29,		-18,		-19]
    [ x+202,	y,		40,		16,		-18,		-12]
    [ x+258,	y,		26,		29,		-4,			-18]
    [ x,		y,		8,		36,		-3,			-20]
    [ x+16,		y,		26,		29,		-20,		-18]
    [ x+54,		y,		40,		16,		-22,		-12]
    [ x+110,	y,		26,		29,		-6,			-19]
}

template template_10_on_2_cab_rev_reversed(x, y) {
    //left_x, upper_y, width, height, offset_x, offset_y
	//							more negative to shift left
	//											more negative to shift up
    [ x,		y,		8,		36,		-3,			-20]
    [ x+16,		y,		26,		29,		-18,		-19]
    [ x+54,		y,		40,		16,		-18,		-12]
    [ x+110,	y,		26,		29,		-4,			-18]
    [ x+148,	y,		8,		36,		-3,			-20]
    [ x+164,	y,		26,		29,		-20,		-18]
    [ x+202,	y,		40,		16,		-22,		-12]
    [ x+258,	y,		26,		29,		-6,			-19]
}

template template_8_on_2_standard(x, y) {
    //left_x, upper_y, width, height, offset_x, offset_y
	//							more negative to shift left
	//											more negative to shift up
    [ x,		y,		8,		36,		-3,			-22]
    [ x+20,		y,		22,		27,		-18,		-17]
    [ x+62,		y,		32,		16,		-18,		-12]
    [ x+114,	y,		22,		27,		-4,			-18]
    [ x+148,	y,		8,		36,		-3,			-24]
    [ x+168,	y,		22,		27,		-16,		-18]
    [ x+210,	y,		32,		16,		-14,		-12]
    [ x+262,	y,		22,		27,		-2,			-17]
}

template template_8_on_2_cab_rev_standard(x, y) {
    //left_x, upper_y, width, height, offset_x, offset_y
	//							more negative to shift left
	//											more negative to shift up
    [ x+148,	y,		8,		36,		-3,			-22]
    [ x+168,	y,		22,		27,		-18,		-17]
    [ x+210,	y,		32,		16,		-18,		-12]
    [ x+262,	y,		22,		27,		-4,			-18]
    [ x,		y,		8,		36,		-3,			-24]
    [ x+20,		y,		22,		27,		-16,		-18]
    [ x+62,		y,		32,		16,		-14,		-12]
    [ x+114,	y,		22,		27,		-2,			-17]
}

template template_8_on_2_reversed(x, y) {
    //left_x, upper_y, width, height, offset_x, offset_y
	//							more negative to shift left
	//											more negative to shift up
    [ x+148,	y,		8,		36,		-3,			-20]
    [ x+168,	y,		22,		27,		-18,		-17]
    [ x+210,	y,		32,		16,		-16,		-12]
    [ x+262,	y,		22,		27,		-4,			-18]
    [ x,		y,		8,		36,		-3,			-24]
    [ x+20,		y,		22,		27,		-16,		-18]
    [ x+62,		y,		32,		16,		-14,		-12]
    [ x+114,	y,		22,		27,		-2,			-17]
}

template template_8_on_2_cab_rev_reversed(x, y) {
    //left_x, upper_y, width, height, offset_x, offset_y
	//							more negative to shift left
	//											more negative to shift up
    [ x,		y,		8,		36,		-3,			-20]
    [ x+20,		y,		22,		27,		-18,		-17]
    [ x+62,		y,		32,		16,		-16,		-12]
    [ x+114,	y,		22,		27,		-4,			-18]
    [ x+148,	y,		8,		36,		-3,			-24]
    [ x+168,	y,		22,		27,		-16,		-18]
    [ x+210,	y,		32,		16,		-14,		-12]
    [ x+262,	y,		22,		27,		-2,			-17]
}

/* TRACKS */

// Overlay
template japan_rails_overlay() {
    //left_x, upper_y, width, height, offset_x, offset_y
    [   0,    200,       40,    21,     -19,         5]
    [  48,    200,       40,    21,     -19,         5]
    [  96,    200,       40,     7,     -19,         4]
    [ 144,    200,       40,     7,     -19,        20]
    [ 192,    200,       12,    19,      11,         6]
    [ 224,    200,       12,    19,     -21,         6]
	//Slopes
    [ 256,    200,       64,    39,     -31,        -8]
    [ 336,    200,       64,    23,     -31,         0]
	[ 416,    200,       64,    23,     -31,         0]
    [ 496,    200,       64,    39,     -31,        -8]
}

// Underlay
template japan_rails_underlay() {
    //left_x, upper_y, width, height, offset_x, offset_y
    [   0,    300,       64,    31,     -31,         0]
    [  80,    300,       64,    31,     -31,         0]
    [ 160,    300,       64,    31,     -31,         0]
    [ 240,    300,       64,    31,     -31,         0]
    [ 320,    300,       64,    31,     -31,         0]
    [ 400,    300,       64,    31,     -31,         0]
	//Slopes
    [ 0,      400,       64,    39,     -31,        -8]
    [ 80,     400,       64,    23,     -31,         0]
	[ 160,    400,       64,    23,     -31,         0]
    [ 240,    400,       64,    39,     -31,        -8]
	//Crossings
	[ 320,   400,       64,    31,     -31,         0]
	[   0,   500,       64,    31,     -31,         0]
    [  80,   500,       64,    31,     -31,         0]
    [ 160,   500,       64,    31,     -31,         0]
    [ 240,   500,       64,    31,     -31,         0]
    [ 320,   500,       64,    31,     -31,         0]
}

// Depots
template japan_rails_depot() {
	//left_x, upper_y, width, height, offset_x, offset_y
	[  0,  0, 16, 11,  17,   4]
	[ 32,  0, 64, 45,  -9, -29]
	[112,  0, 16, 11, -31,   4]
	[144,  0, 64, 45, -53, -29]
	[224,  0, 64, 45, -53, -29]
	[304,  0, 64, 45,  -9, -29]
}

template japan_rails_depot_snow() {
	//left_x, upper_y, width, height, offset_x, offset_y
	[  0,  100, 16, 11,  17,   4, WHITE]
	[ 32,  100, 64, 45,  -9, -29, WHITE]
	[112,  100, 16, 11, -31,   4, WHITE]
	[144,  100, 64, 45, -53, -29, WHITE]
	[224,  100, 64, 45, -53, -29, WHITE]
	[304,  100, 64, 45,  -9, -29, WHITE]
}

// Bridges
template japan_rails_bridge() {
	//left_x, upper_y, width, height, offset_x, offset_y
	[   0,    700,       64,    31,       -31,        0]
	[  80,    700,       64,    31,       -31,        0]
	//Slopes
	[ 160,    700,       64,    39,       -31,       -8]
	[ 240,    700,       64,    23,       -31,        0]
	[ 320,    700,       64,    23,       -31,        0]
	[ 400,    700,       64,    39,       -31,       -8]
}

//Tunnel
template japan_rails_tunnel() {
	//left_x, upper_y, width, height, offset_x, offset_y
    [   0,    600,       64,    39,       -31,        -8]
    [  80,    600,       64,    23,       -31,        -8]
    [  160,   600,       64,    23,       -31,        -8]
    [  240,   600,       64,    39,       -31,        -8]
}

template japan_rails_tunnel_overlay() {
	//left_x, upper_y, width, height, offset_x, offset_y
    [ 320, 		600,       64,    39,       -31,        -38]
    [ 400,    	600,       64,    31,       -31,        -38]
    [ 480,   	600,       64,    31,       -31,        -38]
    [ 560,   	600,       64,    39,       -31,        -38]
}

// Catenary Poles
template japan_rails_pylons_brown() {
	[      0,       100,     10,     19,       -8, 	 -19]
	[     16,       100,     9,     21,        0, 		 -21]
	[     32,       100,     10,     19,        0, 	 -19]
	[     48,       100,     9,     21,       -7, 		 -21]
	[     64,       100,     3,      18,        0,  	 -19]
	[     80,       100,     3,      21,        0,  	 -21]
	[     96,       100,     10,     19, 	     -2,  	 -17]
	[    112,       100,     10,     19,       -7, 		 -15]
}

template japan_rails_pylons_blue() {
	[      0,       0,      10,     19,       -8, 	 -19]
	[     16,       0,      9,     21,        0, 		 -21]
	[     32,       0,      10,     19,        0, 	 -19]
	[     48,       0,      9,     21,       -7, 		 -21]
	[     64,       0,      3,      18,        0,  	 -19]
	[     80,       0,      3,      21,        0,  	 -21]
	[     96,       0,      10,     19, 	     -2,  	 -17]
	[    112,       0,      10,     19,       -7, 		 -15]
}

// Catenary Wires
template japan_rails_wires() {
	[0,		0,  	32, 20, -29, -6]
	[48,	0,  	32, 20,  -1, -6]
	[96,	0,  	32,  5,  -1, -6]
	[144,	0,  	1,  20,   0, -7]
	[160,	0,  	32, 28, -29, -6]
	[208,	0,  	32, 13,  -1,  2]
	[256,	0,  	32, 13, -29,  2]
	[304,	0,  	32, 28,  -1, -6]
	[352,	0, 		32, 19, -29, -5]
	[400,	0, 		32, 19,  -1, -5]
	[448,	0, 		32,  5,  -1, -6]
	[496,	0, 		1,  20,   0, -7]
	[512,	0, 		32, 27, -29, -5]
	[560,	0, 		32, 12,  -1,  3]
	[608,	0, 		32, 12, -29,  3]
	[656,	0, 		32, 27,  -1, -5]
	[704,	0, 		32, 20, -29, -6]
	[0, 	50, 	32,	20,  -1, -6]
	[48, 	50, 	32,  5,  -1, -6]
	[96, 	50, 	1,  20,   0, -7]
	[112, 	50, 	32, 28, -29, -6]
	[160, 	50, 	32, 13,  -1,  2]
	[208, 	50, 	32,	13, -29,  2]
	[256, 	50, 	32, 28,  -1, -6]
	[304, 	50, 	16, 11, -29,  3]
	[336, 	50, 	16, 12,  -1, -6]
	[368, 	50, 	16, 12, -13, -6]
	[400, 	50, 	16, 11,  15,  3]
}

// Fences

template japan_rails_fences() {
	[0,		0, 		33, 22,	-31, -6]
	[48,	0, 		33, 22,	0, -6]
	[96,	0, 		2,  38,	0, 	-22]
	[112,	0, 		65,  6,	-31, -6]
	[192,	0, 		33, 14,	-31, -6]
	[240, 	0, 		33, 14,	0, 	-6]
	[288,	0, 		33, 30,	-31, -14]
	[336, 	0, 		33, 30,	0, -14]
}

template japan_rails_fences_empty() {
	[1, 1, 1, 1, 0, 0]
	[1, 1, 1, 1, 0, 0]
	[1, 1, 1, 1, 0, 0]
	[1, 1, 1, 1, 0, 0]
	[1, 1, 1, 1, 0, 0]
	[1, 1, 1, 1, 0, 0]
	[1, 1, 1, 1, 0, 0]
	[1, 1, 1, 1, 0, 0]
}

// GUI

template japan_rails_gui_ttd() {
	[0,		0, 		20, 20,	0, 	0]
	[32,	0, 		20, 20,	0, 	0]
	[64,	0, 		20, 20,	0, 	0]
	[96,	0, 		20, 20,	0, 	0]
	[128,	0, 		20, 20,	0, 	0]
	[160, 	0, 		20, 20,	0, 	0]
	[192, 	0, 		20, 20,	0, 	0]
	[224, 	0, 		20, 20,	0, 	0]
	[256, 	0, 		38, 30, -4, -12]	// -4 15
	[304, 	0, 		72, 44, -16,-8]
	[384, 	0, 		44,	34, -21, -2]
	[448, 	0, 		72, 44, -16, -36]
	[528, 	0, 		56, 43, 0,  0]
	[592, 	0, 		32, 32, 0,  0]
	[640, 	0, 		32, 32, 0,  0]
	[688, 	0, 		32, 32, 0,  0]
}

template japan_rails_gui_gfx() {
	[0,		0, 		20, 20,	0, 	0]
	[32,	0, 		20, 20,	0, 	0]
	[64,	0, 		20, 20,	0, 	0]
	[96,	0, 		20, 20,	0, 	0]
	[128,	0, 		20, 20,	0, 	0]
	[160, 	0, 		20, 20,	0, 	0]
	[192, 	0, 		20, 20,	0, 	0]
	[224, 	0, 		20, 20,	0, 	0]
	[256, 	0, 		20, 29, 0,  0]
	[304, 	0, 		26, 28, 0,  0]
	[384, 	0, 		27,	26, 0,  0]
	[448, 	0, 		26, 28, 0,  0]
	[528, 	0, 		26, 28, 0,  0]
	[592, 	0, 		32, 32, 0,  0]
	[640, 	0, 		27, 30, 0,  0]
	[688, 	0, 		29, 28, 0,  0]
}

// End template
# 1 "JPplusShinkansen.pnml" 4

//Helpers
# 1 "src/basecosts.pnml" 1
basecost {
	PR_BUILD_VEHICLE_TRAIN : 	param_basecostbuy -1;
	PR_BUILD_VEHICLE_WAGON: 	param_basecostbuy +3;
	PR_RUNNING_TRAIN_STEAM: 	param_basecostrun +1;
	PR_RUNNING_TRAIN_DIESEL:	param_basecostrun +1;
	PR_RUNNING_TRAIN_ELECTRIC:	param_basecostrun +1;
}
# 1 "JPplusShinkansen.pnml" 4
# 1 "src/tracks.pnml" 1
// Begin Tracks

// Shinkansen Tracks

// Overlay
spriteset(ss_norm_overlay_shin_01,	"src/tracks/shin_01.png") {japan_rails_overlay()}
spriteset(ss_snow_overlay_shin_01,	"src/tracks/shin_01_snow.png") {japan_rails_overlay()}
spriteset(ss_norm_overlay_shin_02,	"src/tracks/shin_02.png") {japan_rails_overlay()}
spriteset(ss_snow_overlay_shin_02,	"src/tracks/shin_02_snow.png") {japan_rails_overlay()}

switch(FEAT_RAILTYPES, SELF, sw_overlay_shin_01, terrain_type) {
	TILETYPE_SNOW: ss_snow_overlay_shin_01;
	ss_norm_overlay_shin_01;
}

switch(FEAT_RAILTYPES, SELF, sw_overlay_shin_02, terrain_type) {
	TILETYPE_SNOW: ss_snow_overlay_shin_02;
	ss_norm_overlay_shin_02;
}

// Underlay
spriteset(ss_norm_underlay_shin_01,	"src/tracks/shin_01.png") {japan_rails_underlay()}
spriteset(ss_snow_underlay_shin_01,	"src/tracks/shin_01_snow.png") {japan_rails_underlay()}
spriteset(ss_norm_underlay_shin_02,	"src/tracks/shin_02.png") {japan_rails_underlay()}
spriteset(ss_snow_underlay_shin_02,	"src/tracks/shin_02_snow.png") {japan_rails_underlay()}

switch(FEAT_RAILTYPES, SELF, sw_underlay_shin_01, terrain_type) {
	TILETYPE_SNOW: ss_snow_underlay_shin_01;
	ss_norm_underlay_shin_01;
}

switch(FEAT_RAILTYPES, SELF, sw_underlay_shin_02, terrain_type) {
	TILETYPE_SNOW: ss_snow_underlay_shin_02;
	ss_norm_underlay_shin_02;
}


// Depot
spriteset(ss_depot_shin_01_norm, 	"src/tracks/depots_shin_01.png") {japan_rails_depot()}	
spriteset(ss_depot_shin_01_snow, 	"src/tracks/depots_shin_01.png") {japan_rails_depot_snow()}	
spriteset(ss_depot_shin_02_norm, 	"src/tracks/depots_shin_02.png") {japan_rails_depot()}
spriteset(ss_depot_shin_02_snow, 	"src/tracks/depots_shin_02.png") {japan_rails_depot_snow()}		

switch(FEAT_RAILTYPES, SELF, sw_depot_shin_01, terrain_type) {
	TILETYPE_SNOW: ss_depot_shin_01_snow;
	ss_depot_shin_01_norm;
}

switch(FEAT_RAILTYPES, SELF, sw_depot_shin_02, terrain_type) {
	TILETYPE_SNOW: ss_depot_shin_02_snow;
	ss_depot_shin_02_norm;
}

// Bridges
spriteset(ss_norm_bridge_shin_01,	"src/tracks/shin_01.png") {japan_rails_bridge()}
spriteset(ss_norm_bridge_shin_02,	"src/tracks/shin_02.png") {japan_rails_bridge()}

// Tunnels
spriteset(ss_shin_norm_tunnel,	"src/tracks/shin_01.png") {japan_rails_tunnel()}
spriteset(ss_shin_snow_tunnel,	"src/tracks/shin_01_snow.png") {japan_rails_tunnel()}
spriteset(ss_shin_norm_tunnel_overlay,	"src/tracks/shin_01.png") {japan_rails_tunnel_overlay()}
spriteset(ss_shin_snow_tunnel_overlay,	"src/tracks/shin_01_snow.png") {japan_rails_tunnel_overlay()}

switch(FEAT_RAILTYPES, SELF, sw_tunnel, terrain_type) {
	TILETYPE_SNOW: ss_shin_snow_tunnel;
	ss_shin_norm_tunnel;
}

switch(FEAT_RAILTYPES, SELF, sw_tunnel_overlay, terrain_type) {
	TILETYPE_SNOW: ss_shin_snow_tunnel_overlay;
	ss_shin_norm_tunnel_overlay;
}

// Catenary
spriteset(ss_wires, 				"src/tracks/catwire.png") {japan_rails_wires()}
spriteset(ss_poles, 				"src/tracks/catpoles.png") {japan_rails_pylons_blue()}	

// Fences
spriteset(ss_fences, 				"src/tracks/fences.png") {japan_rails_fences()}
spriteset(ss_fences_empty, 			"src/tracks/fences.png") {japan_rails_fences_empty()}

switch(FEAT_RAILTYPES, SELF, sw_fences, param_fences) {
    0: ss_fences;
	1: ss_fences_empty;
}

// GUI
spriteset(ss_shin_01_gui_ttd,	"src/tracks/shin_01.png") {japan_rails_gui_ttd()}
spriteset(ss_shin_02_gui_ttd,	"src/tracks/shin_02.png") {japan_rails_gui_ttd()}

if (param_japansetdisable == 1 && param_tracks == 1 ){

/*
    item(FEAT_RAILTYPES) {
    property {
        label: "SAEE";
        compatible_railtype_list: ["DABN", "DABE", "ELRL", "SUBE", "SACE", "SAEE", "SBEE", "SAB3", "SUB3", "RAIL", "SAAN"];
        powered_railtype_list:    ["DABE", "ELRL", "SUBE", "SACE", "SAEE", "SBEE"];                 

    }
}

    item(FEAT_RAILTYPES) {
    property {
        label: "SBEE";
        compatible_railtype_list: ["DABN", "DABE", "ELRL", "SUBE", "SACE", "SAEE", "SBEE", "SAB3", "SUB3", "RAIL", "SAAN"];
        powered_railtype_list:    ["DABE", "ELRL", "SUBE", "SACE", "SAEE", "SBEE"];       
        speed_limit: 0 km/h;

    }
}
*/
item(FEAT_RAILTYPES) {
    property {
        label: "ELRL";
        compatible_railtype_list: ["HSSN", "MDSN", "DABN", "DABE", "RAIL", "ELRL", "SACE", "SAEE", "SBEE", "SUBE", "SAB3", "SUB3", "SAAN"];
        powered_railtype_list:    ["HSSN", "MDSN", "DABE", "ELRL", "SACE", "SAEE", "SBEE", "SUBE"]; 

    }
}

item(FEAT_RAILTYPES) {
    property {
        label:                      "HSSN";								
        name:                       string(STR_NAME_HSSN);
        menu_text:                  string(STR_MENU_HSSN);
        build_window_caption:       string(STR_CAPT_HSSN);
		toolbar_caption:			string(STR_TOOL_HSSN);
        autoreplace_text:           string(STR_AUTO_HSSN);
        new_engine_text:            string(STR_NEWE_HSSN);
        compatible_railtype_list: 	["HSSN", "MDSN", "SAEE", "SBEE", "SAAE", "SABN", "RAIL", "SBCN", "SADN", "SBCE", "SADE", "ELRL", "SAC3", "SACZ", "SUCE", "SUC3"];
		powered_railtype_list:    	["HSSN", "MDSN", "SAEE", "SBEE", "SAAE", "SBCE", "SADE", "ELRL", "SACZ", "SUCE"];       
		speed_limit: 				241 km/h;
		railtype_flags: 			bitmask(RAILTYPE_FLAG_CATENARY,RAILTYPE_FLAG_NO_LEVEL_CROSSING,RAILTYPE_FLAG_DISALLOW_90DEG);
		introduction_date: 			date(1964,1,1);
		construction_cost: 			750;
		maintenance_cost:  			60;

    }
	graphics {
		track_overlay: 				sw_overlay_shin_01;
		underlay:					sw_underlay_shin_01;
		tunnels:					sw_tunnel;
		tunnel_overlay:				sw_tunnel_overlay;
		bridge_surfaces: 			ss_norm_bridge_shin_01;
		depots:						sw_depot_shin_01;
		//level_crossings:  		switch_dg_crossing; 			// No Level Crossing Allowed  
		fences:						sw_fences;
		gui:						ss_shin_01_gui_ttd;
		catenary_wire:				ss_wires;
		catenary_pylons:			ss_poles;
	}
}

item(FEAT_RAILTYPES) {
    property {
        label:                      "MDSN";								
        name:                       string(STR_NAME_MDSN);
        menu_text:                  string(STR_MENU_MDSN);
        build_window_caption:       string(STR_CAPT_MDSN);
		toolbar_caption:			string(STR_TOOL_MDSN);
        autoreplace_text:           string(STR_AUTO_MDSN);
        new_engine_text:            string(STR_NEWE_MDSN);
        compatible_railtype_list: 	["HSSN", "MDSN", "SAEE", "SBEE", "SAAE", "SABN", "RAIL", "SBCN", "SADN", "SBCE", "SADE", "ELRL", "SAC3", "SACZ", "SUCE", "SUC3"];
		powered_railtype_list:    	["HSSN", "MDSN", "SAEE", "SBEE", "SAAE", "SBCE", "SADE", "ELRL", "SACZ", "SUCE"];       
		speed_limit: 				0 km/h;
		railtype_flags: 			bitmask(RAILTYPE_FLAG_CATENARY,RAILTYPE_FLAG_NO_LEVEL_CROSSING,RAILTYPE_FLAG_DISALLOW_90DEG);
		introduction_date: 			date(1990,1,1);
		construction_cost: 			1250;
		maintenance_cost:  			100;

    }
	graphics {
		track_overlay: 				sw_overlay_shin_02;
		underlay:					sw_underlay_shin_02;
		tunnels:					sw_tunnel;
		tunnel_overlay:				sw_tunnel_overlay;
		bridge_surfaces: 			ss_norm_bridge_shin_02;
		depots:						sw_depot_shin_02;
		//level_crossings:  		switch_dg_crossing; 			// No Level Crossing Allowed  
		fences:						sw_fences;
		gui:						ss_shin_02_gui_ttd;
		catenary_wire:				ss_wires;
		catenary_pylons:			ss_poles;
	}
}

}
// End Tracks
# 1 "JPplusShinkansen.pnml" 4
# 1 "src/railtypetable.pnml" 1
// Begin railtypetable

// https://newgrf-specs.tt-wiki.net/wiki/TracktypeLabels
/*
railtypetable {
	RAIL,
	ELRL,
	SHINKANSEN: [
		SADE, 		// JapanSet Tracks - International Mode - Highspeed line
		SAEE, 		// JapanSet Tracks - Japanese Mode - Shinkansen highspeed
		SBEE, 		// JapanSet Tracks - Japanese Mode - Modern Shinkansen highspeed
		SUBE,		// JapanSet Tracks - Japanese Mode - Urban Standard Guage (Electrified)
		SDAE, 		// U&ReRMM 2 - High-Speed Line
		SEAE,		// U&ReRMM 2 - Modern High-Speed Line
		SFAE,		// U&ReRMM 2 - Very High-Speed Line
		SHAE,		// SUKTS - Very High Speed
		ELRL],		// Backup	
		
	MINI_SHINKANSEN: [
		SACE,		// JapanSet Tracks - Modern Standard Guage (Electrified)
		SADE, 		// JapanSet Tracks - International Mode - Highspeed line
		SAEE, 		// JapanSet Tracks - Japanese Mode - Shinkansen highspeed
		SBEE, 		// JapanSet Tracks - Japanese Mode - Modern Shinkansen highspeed
		SUBE,		// JapanSet Tracks - Japanese Mode - Urban Standard Guage (Electrified)
		SDAE, 		// U&ReRMM 2 - High-Speed Line
		SEAE,		// U&ReRMM 2 - Modern High-Speed Line
		SFAE,		// U&ReRMM 2 - Very High-Speed Line
		SHAE,		// SUKTS - Very High Speed
		ELRL],		// Backup		
}
*/

railtypetable {
	RAIL,
	ELRL,
	SHINKANSEN: [SAAE, ELRL],
	MINI_SHINKANSEN: [SAAE, ELRL],
	SC_MAGLEV: [LCAI, LCAE, MGLV],
}

// End railtypetable
# 1 "JPplusShinkansen.pnml" 4
# 1 "src/functions.pnml" 1
/* Begin Functions */

switch (FEAT_TRAINS, PARENT, func_is_reversed, vehicle_is_reversed) {return;}

switch (FEAT_TRAINS, PARENT, NumberCarsInConsist, num_vehs_in_consist / 3) {return;}

switch (FEAT_TRAINS, SELF, RunningCostFactor, current_speed) {
        0: return 1/10 ;        	// Stopped
        1..15: return 1/4 ;        	// Moving below ~33.5 mph
        return 1; 				    // Track speed
    }

switch (FEAT_TRAINS, SELF, CapacityFactor, param_basecapacity) {
        1: return 5/4;       		// 1.25x Real World Capacity
        2: return 3/2;       		// 1.5x Real World Capacity
        3: return 2;                // 2x Real World Capacity 
        return 1;          		    // 1x Real World Capacity
    }

switch (FEAT_TRAINS, SELF, sw_visual_effect_and_powered, ((position_in_articulated_veh == 0) && !func_is_reversed()) || ((position_in_articulated_veh_from_end == 0) && func_is_reversed()) ) {
	1: return visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 0, ENABLE_WAGON_POWER);
	return visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
}

/*	CARGO DECAY	*/
if (param_cargodecay == 0) {
	param_decay_express = 256;
}
if (param_cargodecay == 1) {
	param_decay_express = 384;
}
if (param_cargodecay >= 2) {
	param_decay_express = 512;
}

/*	LOADING SPEEDS	*/
if (param_basecapacity == 0) {
	param_loading_1D = 8;       // 1 door //
	param_loading_2D = 4;      // 2 doors //
}
if (param_basecapacity == 1) {
	param_loading_1D = 8;       // 1 door //
	param_loading_2D = 4;      // 2 doors //
}
if (param_basecapacity == 2) {
	param_loading_1D = 8;       // 1 door //
	param_loading_2D = 4;      // 2 doors //
}

/* LENGTHS */

// Standard 2-8-2 Length
    switch (FEAT_TRAINS, SELF, sw_length_2_8_2, position_in_articulated_veh % 3) {
        1: return 8;
        return 2;
    }

// Standard 1-8-1 Length
    switch (FEAT_TRAINS, SELF, sw_length_1_8_1, position_in_articulated_veh % 3) {
        1: return 8;
        return 1;
    }

switch (FEAT_TRAINS, SELF, sw_param_length, param_spritelength) {
        1: sw_length_1_8_1;		    // Length 10
        sw_length_2_8_2;			// Length 12
    }

/* End Functions */ 
# 1 "JPplusShinkansen.pnml" 4

//IDs
# 1 "src/vehicleid.pnml" 1
// Assign IDs

// Mucars
item(FEAT_TRAINS, mu_car_ms, 1111) {}
item(FEAT_TRAINS, mu_car_full, 1112) {}
item(FEAT_TRAINS, mu_car_mail, 1113) {}

item(FEAT_TRAINS, series_0, 123) {}
item(FEAT_TRAINS, series_922, 922) {}
item(FEAT_TRAINS, series_100, 124) {}
// 200 Series Shinkansen
item(FEAT_TRAINS, series_200, 200) {}
item(FEAT_TRAINS, series_200_sharknose, 201) {}

item(FEAT_TRAINS, series_300, 300) {}
item(FEAT_TRAINS, series_400, 400) {}
item(FEAT_TRAINS, series_500, 500) {}
item(FEAT_TRAINS, series_700, 700) {}
item(FEAT_TRAINS, series_923, 923) {}
// N700 Series Shinkansen
item(FEAT_TRAINS, series_n700, 707) {}
item(FEAT_TRAINS, series_n700a, 708) {}
item(FEAT_TRAINS, series_n700s, 709) {}
item(FEAT_TRAINS, series_n700_kyushu, 778) {}

item(FEAT_TRAINS, series_800, 800) {}
item(FEAT_TRAINS, series_e1, 1551) {}
item(FEAT_TRAINS, series_e2, 1552) {}
item(FEAT_TRAINS, series_e3, 2003) {}
item(FEAT_TRAINS, series_e4, 2004) {}
item(FEAT_TRAINS, series_e5, 2005) {} 
item(FEAT_TRAINS, series_e6, 2006) {}
item(FEAT_TRAINS, series_e5e6, 2056) {}
item(FEAT_TRAINS, series_e7, 2007) {}
item(FEAT_TRAINS, series_e8, 2008) {}

item(FEAT_TRAINS, series_l0, 125) {}

item(FEAT_TRAINS, series_test_700, 707) {}

// Sort the Order in the Purchase Menu below
sort(FEAT_TRAINS, [

/* Not JR East */
125,    // L0 Series Shinkansen
123,    // 0 Series Shinkansen
922,    // 922 Series Shinkansen
124,    // 100 Series Shinkansen
300,    // 300 Series Shinkansen
500,    // 500 Series Shinkansen
700,    // 700 Series Shinkansen
923,    // 923 Series Shinkansen
707,    // N700 Series Shinkansen
708,    // N700A Series Shinkansen
709,    // N700S Series Shinkansen
800,    // 800 Series Shinkansen

/* JR East */
200,    // 200 Series Shinkansen
400,    // 400 Series Shinkansen
1551,   // E1 Series Shinkansen (Max)
1552,   // E2 Series Shinkansen
2003,   // E3 Series Shinkansen
2004,   // E4 Series Shinkansen (Max)
2005,   // E5 Series Shinkansen
2056,   // E5/E6 Shinakansen
2006,   // E6 Series Shinkansen
2007,   // E7/W7 Series Shinkansen
2008,   // E8 Series Shinkansen

/*MU Cars*/
mu_car_full,
mu_car_mail,
mu_car_ms,

]);
# 1 "JPplusShinkansen.pnml" 4

// Dummy
# 1 "src/dummy.pnml" 1
 // begin dummy

 // https://www.tt-forums.net/viewtopic.php?f=68&t=53511

spriteset (dummy_sprites, "src/trains/dummy/empty.png")
{
  [0, 0, 2, 2, 0, 0, CROP]
}

 // end dummy
# 1 "JPplusShinkansen.pnml" 4
// Mucar
# 1 "src/mucar.pnml" 1
// Begin mucar

/* MINI-SHINKANSEN */

spriteset (set_mu_car_mini_purchase,    "src/trains/dummy/mucarbuy.png") 	{template_purchase (0, 0)}
spriteset (set_mu_car_base,       	"src/trains/dummy/mucar.png")     	{template_8_standard(1,1)}

item(FEAT_TRAINS, mu_car_ms) {
    /* Define properties first, make sure to set all of them */
    property {
        name:                         string(MUCAR_MINI);
        misc_flags:                   bitmask(TRAIN_FLAG_2CC);
        introduction_date:            date(1800,1,1);
        climates_available:           ALL_CLIMATES;
        model_life:                   VEHICLE_NEVER_EXPIRES;
        vehicle_life:                 60;
        loading_speed:                0;
        cost_factor:                  189;
        running_cost_factor:          6;
        speed:                        0 km/h;
        power:                        0 hp;
        cargo_capacity:               1;
        weight:                       0 ton;
        tractive_effort_coefficient:  0.3;
        air_drag_coefficient:         0;
        reliability_decay:            20;
        refittable_cargo_classes:     bitmask(CC_PASSENGERS);
        cargo_age_period:             185;
        refit_cost:                   0;
        track_type:                   MINI_SHINKANSEN;
        ai_special_flag:              AI_FLAG_PASSENGER;
        running_cost_base:            RUNNING_COST_ELECTRIC;
        engine_class:                 ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
        sprite_id:                    SPRITE_ID_NEW_TRAIN;
        dual_headed:                  0;
        length:                       8;
        extra_power_per_wagon:        0;
        bitmask_vehicle_info:         0;
    }
    /* Define graphics and callbacks
     * Setting all callbacks is not needed, only define what is used */
    graphics {
	    purchase:                     set_mu_car_mini_purchase;
        additional_text:			  return string(MUCAR_MINI_DESC);
        set_mu_car_base;
    }
}

/* FULL SHINKANSEN */

spriteset (ss_mucar_full_12_purchase,      "src/trains/dummy/mucarfullbuy.png") {template_purchase (0, 0)}
spriteset (ss_mucar_full_10_purchase,      "src/trains/dummy/mucar10buy.png") {template_purchase (0, 0)}

spriteset (ss_mucar_full_12,       	        "src/trains/dummy/mucar_full.png") {template_12_standard(1,1)}
spriteset (ss_mucar_full_10,       	        "src/trains/dummy/mucar_10.png") {template_10_standard(1,1)}

switch (FEAT_TRAINS, SELF, sw_buy_mucar_full, param_spritelength) {
        1: ss_mucar_full_10_purchase;		// Length 10
        ss_mucar_full_12_purchase;			// Length 12
    }

switch (FEAT_TRAINS, SELF, sw_graphics_mucar_full, param_spritelength) {
        1: ss_mucar_full_10;		// Length 10
        ss_mucar_full_12;			// Length 12
    }


switch (FEAT_TRAINS, SELF, sw_mucar_full_graphics, position_in_articulated_veh) {				
		1:  sw_graphics_mucar_full; 				
		dummy_sprites;
	}

/* --- Articulated part callback  --- */
switch(FEAT_TRAINS, SELF, sw_mucar_full_articulated_part, extra_callback_info1) {
	1: return mu_car_full;
    2: return mu_car_full;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

item(FEAT_TRAINS, mu_car_full) {
    /* Define properties first, make sure to set all of them */
    property {
        name:                           string(MUCAR_FULL);
        misc_flags:                     bitmask(TRAIN_FLAG_2CC);
        introduction_date:              date(1800,1,1);
        climates_available:             ALL_CLIMATES;
        model_life:                     VEHICLE_NEVER_EXPIRES;
        vehicle_life:                   60;
        loading_speed:                  0;
        cost_factor:                    189;
        running_cost_factor:            18;
        speed:                          0 km/h;
        power:                          0 hp;
        cargo_capacity:                 1;
        weight:                         0 ton;
        tractive_effort_coefficient:    0.3;
        air_drag_coefficient:           0;
        reliability_decay:              20;
        refittable_cargo_classes:       bitmask(CC_PASSENGERS);
        cargo_age_period:               185;
        refit_cost:                     0;
        track_type:                     SHINKANSEN;
        ai_special_flag:                AI_FLAG_PASSENGER;
        running_cost_base:              RUNNING_COST_ELECTRIC;
        engine_class:                   ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered:      visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
        sprite_id:                      SPRITE_ID_NEW_TRAIN;
        dual_headed:                    0;
        //length:                       8;
        extra_power_per_wagon:          0;
        bitmask_vehicle_info:           0;
    }
    /* Define graphics and callbacks
     * Setting all callbacks is not needed, only define what is used */
    graphics {
		default:                        sw_mucar_full_graphics;                     
        purchase:                       sw_buy_mucar_full;
        additional_text:			    return string(MUCAR_FULL_DESC);
        articulated_part:               sw_mucar_full_articulated_part;
        length:                         sw_param_length; 
        cargo_capacity:                 0;
    }
}

// MAGLEV

spriteset (ss_mucar_maglev_12_purchase,      "src/trains/dummy/mucar_maglev_12_buy.png") {template_purchase (0, 0)}
spriteset (ss_mucar_maglev_10_purchase,      "src/trains/dummy/mucar_maglev_10_buy.png") {template_purchase (0, 0)}

spriteset (ss_mucar_maglev_12,       	     "src/trains/dummy/mucar_maglev_12.png") {template_12_standard(1,1)}
spriteset (ss_mucar_maglev_10,       	     "src/trains/dummy/mucar_maglev_10.png") {template_10_standard(1,1)}

switch (FEAT_TRAINS, SELF, sw_buy_mucar_maglev, param_spritelength) {
        1: ss_mucar_maglev_10_purchase;		// Length 10
        ss_mucar_maglev_12_purchase;			// Length 12
    }

switch (FEAT_TRAINS, SELF, sw_graphics_mucar_maglev, param_spritelength) {
        1: ss_mucar_maglev_10;		// Length 10
        ss_mucar_maglev_12;			// Length 12
    }


switch (FEAT_TRAINS, SELF, sw_mucar_maglev_graphics, position_in_articulated_veh) {				
		1:  sw_graphics_mucar_maglev; 				
		dummy_sprites;
	}

/* --- Articulated part callback  --- */
switch(FEAT_TRAINS, SELF, sw_mucar_maglev_articulated_part, extra_callback_info1) {
	1: return mu_car_maglev;
    2: return mu_car_maglev;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

item(FEAT_TRAINS, mu_car_maglev) {
    /* Define properties first, make sure to set all of them */
    property {
        name:                           string(MUCAR_MAGLEV);
        introduction_date:              date(2027,1,1);
        climates_available:             ALL_CLIMATES;
        model_life:                     VEHICLE_NEVER_EXPIRES;
        vehicle_life:                   60;
        loading_speed:                  0;
        cost_factor:                    189;
        running_cost_factor:            18;
        speed:                          0 km/h;
        power:                          0 hp;
        cargo_capacity:                 1;
        weight:                         0 ton;
        tractive_effort_coefficient:    0.3;
        air_drag_coefficient:           0;
        reliability_decay:              20;
        refittable_cargo_classes:       bitmask(CC_PASSENGERS);
        cargo_age_period:               185;
        refit_cost:                     0;
        track_type:                     SC_MAGLEV;
        ai_special_flag:                AI_FLAG_PASSENGER;
        running_cost_base:              RUNNING_COST_ELECTRIC;
        engine_class:                   ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered:      visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
        sprite_id:                      SPRITE_ID_NEW_TRAIN;
        dual_headed:                    0;
        //length:                       8;
        extra_power_per_wagon:          0;
        bitmask_vehicle_info:           0;
    }
    /* Define graphics and callbacks
     * Setting all callbacks is not needed, only define what is used */
    graphics {
		default:                        sw_mucar_maglev_graphics;                     
        purchase:                       sw_buy_mucar_maglev;
        additional_text:			    return string(MUCAR_MAGLEV_DESC);
        articulated_part:               sw_mucar_maglev_articulated_part;
        length:                         sw_param_length; 
        cargo_capacity:                 0;
    }
}


spriteset (ss_mucar_mail_12_purchase,      "src/trains/dummy/mucarbuy_mail_12.png") {template_purchase (0, 0)}
spriteset (ss_mucar_mail_10_purchase,      "src/trains/dummy/mucarbuy_mail_10.png") {template_purchase (0, 0)}

spriteset (ss_mucar_mail_12,       	        "src/trains/dummy/mucar_mail_12.png") {template_12_standard(1,1)}
spriteset (ss_mucar_mail_10,       	        "src/trains/dummy/mucar_mail_10.png") {template_10_standard(1,1)}

switch (FEAT_TRAINS, SELF, sw_buy_mucar_mail, param_spritelength) {
        1: ss_mucar_mail_10_purchase;		// Length 10
        ss_mucar_mail_12_purchase;			// Length 12
    }

switch (FEAT_TRAINS, SELF, sw_graphics_mucar_mail, param_spritelength) {
        1: ss_mucar_mail_10;		// Length 10
        ss_mucar_mail_12;			// Length 12
    }


switch (FEAT_TRAINS, SELF, sw_mucar_mail_graphics, position_in_articulated_veh) {				
		1:  sw_graphics_mucar_mail; 				
		dummy_sprites;
	}

/* --- Articulated part callback  --- */
switch(FEAT_TRAINS, SELF, sw_mucar_mail_articulated_part, extra_callback_info1) {
	1: return mu_car_mail;
    2: return mu_car_mail;
    return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
}

if (param_dryellow == 1) {

item(FEAT_TRAINS, mu_car_mail) {
    /* Define properties first, make sure to set all of them */
    property {
        name:                         string(MUCAR_MAIL);
        introduction_date:            date(1800,1,1);
        climates_available:           ALL_CLIMATES;
        model_life:                   VEHICLE_NEVER_EXPIRES;
        vehicle_life:                 60;
        loading_speed:                0;
        cost_factor:                  189;
        running_cost_factor:          18;
        speed:                        0 km/h;
        power:                        0 hp;
        cargo_capacity:               1;
        weight:                       0 ton;
        tractive_effort_coefficient:  0.3;
        air_drag_coefficient:         0;
        reliability_decay:            20;
        refittable_cargo_classes:     bitmask(CC_MAIL);
        cargo_age_period:             185;
        refit_cost:                   0;
        track_type:                   SHINKANSEN;
        ai_special_flag:              AI_FLAG_PASSENGER;
        running_cost_base:            RUNNING_COST_ELECTRIC;
        engine_class:                 ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered:    visual_effect_and_powered(VISUAL_EFFECT_DISABLE, 0, DISABLE_WAGON_POWER);
        sprite_id:                    SPRITE_ID_NEW_TRAIN;
        dual_headed:                  0;
        //length:                       8;
        extra_power_per_wagon:        0;
        bitmask_vehicle_info:         0;
    }
    /* Define graphics and callbacks
     * Setting all callbacks is not needed, only define what is used */
    graphics {
		default:                        sw_mucar_mail_graphics;                     
        purchase:                       sw_buy_mucar_mail;
        additional_text:			    return string(MUCAR_MAIL_DESC);
        articulated_part:               sw_mucar_mail_articulated_part;
        length:                         sw_param_length;  
    }
}
}

// End mucar
# 1 "JPplusShinkansen.pnml" 4

//Final Settings
# 1 "src/grfintegration.pnml" 1
// Begin grfintegration

//set depot vehicle width to 32px to avoid overlap
train_width_32_px = 1;
//align train properly in depot window
traininfo_y_offset = 2;

// TTD check //
if (ttd_platform != PLATFORM_OPENTTD || openttd_version < version_openttd(1, 2, 0, 22723)) {
	error(FATAL, REQUIRES_OPENTTD, string(GRF_OTTDVER));
}

// 8bpp //
if (ttd_platform != PLATFORM_OPENTTD || openttd_version < version_openttd(1, 2, 0, 22723)) {
	error(FATAL, string(GRF_OTTDVER));
}

// Warn if "JapanSet3: Trains isn't optimal" //
/*
if (((grf_current_status("SZ\0D\00") == 0) && (grf_current_status("DP\30\00") == 0)) || ((grf_future_status("SZ\0D\00") == 0) && (grf_future_status("DP\30\00") == 0)) || ((grf_order_behind("SZ\0D\00") == 0) && (grf_order_behind("DP\30\00") == 0))) {
	error( WARNING, string(GRF_JAPANSET));
}

if (grf_order_behind("BS\42\13") == 0) {
	error(FATAL, string(GRF_JPPLUSSET));
}

if (((grf_order_behind("EN\21\01") == 0) && (grf_order_behind("BS\07\20") != 0)) || ((grf_future_status("EN\21\01") == 0) && (grf_future_status("BS\07\20") == 0)) || ((grf_current_status("EN\21\01") != 0) && (grf_current_status("BS\07\20") == 0))) {
	error(WARNING, string(GRF_NATSSET));
}

if (grf_order_behind("SZ\0D\00") == 0) {
	error(WARNING, string(GRF_JAPANSETTRAINS));
}

if (grf_order_behind("JD\A1\E1") == 0) {
	error(WARNING, string(GRF_JAPANSECRETORDER));
}
*/
// End grfintegration
# 1 "JPplusShinkansen.pnml" 4

/*---NON-JR EAST TRAINS---*/
# 1 "src/trains/0_series/0_series.pnml" 1

# 1 "src/trains/0_series/pnml/0_series_menu.pnml" 1
/* SUBTYPES */

    // From 1964 to 2002
    switch(FEAT_TRAINS, SELF, sw_0_series_1964_subtype_text, cargo_subtype) {
        0: return string(LV_YEAR_DEP_LIVERY);
	    1: return string(LV_0_SERIES_ORIGINAL);
        2: return string(LV_0_SERIES_NOSE);
        3: return string(LV_0_SERIES_ORIGINAL_2CC);
        return CB_RESULT_NO_TEXT;
        }

    // Note - there is a purchase sprite change in 1987 (JNR -> JR)
    
    // From 2002 onwards - introduction of Kodama Livery
    switch(FEAT_TRAINS, SELF, sw_0_series_2002_subtype_text, cargo_subtype) {
        0: return string(LV_YEAR_DEP_LIVERY);
	    1: return string(LV_0_SERIES_ORIGINAL);
        2: return string(LV_0_SERIES_NOSE);
        3: return string(LV_0_SERIES_ORIGINAL_2CC);
        4: return string(LV_0_SERIES_KODAMA);
        return CB_RESULT_NO_TEXT;
        }
    
    // Cargo Subtype List
    switch(FEAT_TRAINS, SELF, sw_0_series_year_dep_subtype_text, current_year) {
        0..2001: sw_0_series_1964_subtype_text;
        sw_0_series_2002_subtype_text;
    }

/* Purchase Menu */
    spriteset (ss_0_series_buy_original_livery_12,	        	    "src/trains/dummy/purchase.png") {template_purchase(0, 0)}
    spriteset (ss_0_series_buy_kodama_livery_12,	        	    "src/trains/dummy/purchase.png") {template_purchase(0, 0)}
    spriteset (ss_0_series_buy_original_1987_12,	        	    "src/trains/dummy/purchase.png") {template_purchase(0, 0)}

	spriteset (ss_0_series_buy_original_livery_10,	        	    "src/trains/dummy/purchase.png") {template_purchase(0, 0)}
    spriteset (ss_0_series_buy_kodama_livery_10,	        	    "src/trains/dummy/purchase.png") {template_purchase(0, 0)}
    spriteset (ss_0_series_buy_original_1987_10,	        	    "src/trains/dummy/purchase.png") {template_purchase(0, 0)}

    alternative_sprites(ss_0_series_buy_original_livery_12,         ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/purchase_original.png") {template_purchase(0, 0)}
    alternative_sprites(ss_0_series_buy_kodama_livery_12,     	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/purchase_kodama.png") {template_purchase(0, 0)}
    alternative_sprites(ss_0_series_buy_original_1987_12,           ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/purchase_original_v2.png") {template_purchase(0, 0)}

	alternative_sprites(ss_0_series_buy_original_livery_10,         ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/purchase_original.png") {template_purchase(0, 0)}
    alternative_sprites(ss_0_series_buy_kodama_livery_10,     	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/purchase_kodama.png") {template_purchase(0, 0)}
    alternative_sprites(ss_0_series_buy_original_1987_10,           ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/purchase_original_v2.png") {template_purchase(0, 0)}

		switch (FEAT_TRAINS, SELF, ss_0_series_buy_original_livery, param_spritelength) {
			1: ss_0_series_buy_original_livery_10;					// Length 10
			ss_0_series_buy_original_livery_12;						// Length 12
		}
		/* Not used
		switch (FEAT_TRAINS, SELF, ss_0_series_buy_kodama_livery, param_spritelength) {
			1: ss_0_series_buy_kodama_livery_10;					// Length 10
			ss_0_series_buy_kodama_livery_12;						// Length 12
		}
		*/
		switch (FEAT_TRAINS, SELF, ss_0_series_buy_original_1987, param_spritelength) {
			1: ss_0_series_buy_original_1987_10;					// Length 10
			ss_0_series_buy_original_1987_12;						// Length 12
		}

    switch(FEAT_TRAINS, SELF, sw_0_series_year_dep_purchase, current_year) {
        0..1986: ss_0_series_buy_original_livery;                   // JNR
        ss_0_series_buy_original_1987;                              // JR West & JR Central
    }
# 1 "src/trains/0_series/0_series.pnml" 2
# 1 "src/trains/0_series/pnml/sprites/0_series_cab01.pnml" 1
/* cab01 */

// FORWARDS

// 0 Series Original Strip Livery
spriteset(ss_0_series_cab01f_original_livery_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_0_series_cab01f_original_livery_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_0_series_cab01f_original_livery_12,      ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/original.png") {template_12_standard(1,1)}
alternative_sprites(ss_0_series_cab01f_original_livery_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/10/original.png") {template_10_standard(1,1)}		

switch (FEAT_TRAINS, SELF, sw_0_series_cab01f_original_livery, param_spritelength) {
	1: ss_0_series_cab01f_original_livery_10;				    // Length 10
	ss_0_series_cab01f_original_livery_12;				        // Length 12
}

// 0 Series Kodama Strip Livery
spriteset(ss_0_series_cab01f_kodama_livery_12,             	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_0_series_cab01f_kodama_livery_10,             	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_0_series_cab01f_kodama_livery_12,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/kodama.png") {template_12_standard(1,1)}
alternative_sprites(ss_0_series_cab01f_kodama_livery_10,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/10/kodama.png") {template_10_standard(1,1)}

switch (FEAT_TRAINS, SELF, sw_0_series_cab01f_kodama_livery, param_spritelength) {
	1: ss_0_series_cab01f_kodama_livery_10;				        // Length 10
	ss_0_series_cab01f_kodama_livery_12;					    // Length 12
}

// 0 Series Nose Livery
spriteset(ss_0_series_cab01f_nose_livery_12,             	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_0_series_cab01f_nose_livery_10,             	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_0_series_cab01f_nose_livery_12,     	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/nose.png") {template_12_standard(1,1)}
alternative_sprites(ss_0_series_cab01f_nose_livery_10,     	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/10/nose.png") {template_10_standard(1,1)}

switch (FEAT_TRAINS, SELF, sw_0_series_cab01f_nose_livery, param_spritelength) {
	1: ss_0_series_cab01f_nose_livery_10;				        // Length 10
	ss_0_series_cab01f_nose_livery_12;					        // Length 12
}

// 0 Series 2cc Livery
spriteset(ss_0_series_cab01f_2cc_livery_12,             	    "src/trains/0_series/12/original_2cc.png") {template_12_standard(1,1)}
spriteset(ss_0_series_cab01f_2cc_livery_10,             	    "src/trains/0_series/10/original_2cc.png") {template_10_standard(1,1)}

switch (FEAT_TRAINS, SELF, sw_0_series_cab01f_2cc_livery, param_spritelength) {
	1: ss_0_series_cab01f_2cc_livery_10;				        // Length 10
	ss_0_series_cab01f_2cc_livery_12;					        // Length 12
}

// Year Dependent Livery
switch(FEAT_TRAINS, SELF, sw_0_series_cab01f_year_dep_livery, build_year) {
        0..2001: sw_0_series_cab01f_original_livery;
        2002..9999: sw_0_series_cab01f_kodama_livery;
        sw_0_series_cab01f_original_livery;
    }

    switch(FEAT_TRAINS, PARENT, sw_0_series_cab01f, cargo_subtype) {
        1: sw_0_series_cab01f_original_livery;
        2: sw_0_series_cab01f_nose_livery;
        3: sw_0_series_cab01f_2cc_livery;
        4: sw_0_series_cab01f_kodama_livery;
        sw_0_series_cab01f_year_dep_livery;
    }

// BACKWARDS

// 0 Series Original Strip Livery
spriteset(ss_0_series_cab01b_original_livery_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_0_series_cab01b_original_livery_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_0_series_cab01b_original_livery_12,      ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/original.png") {template_12_reversed(1,41)}
alternative_sprites(ss_0_series_cab01b_original_livery_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/10/original.png") {template_10_reversed(1,41)}		

switch (FEAT_TRAINS, SELF, sw_0_series_cab01b_original_livery, param_spritelength) {
	1: ss_0_series_cab01b_original_livery_10;				    // Length 10
	ss_0_series_cab01b_original_livery_12;				        // Length 12
}

// 0 Series Kodama Strip Livery
spriteset(ss_0_series_cab01b_kodama_livery_12,             	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_0_series_cab01b_kodama_livery_10,             	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_0_series_cab01b_kodama_livery_12,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/kodama.png") {template_12_reversed(1,41)}
alternative_sprites(ss_0_series_cab01b_kodama_livery_10,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/10/kodama.png") {template_10_reversed(1,41)}

switch (FEAT_TRAINS, SELF, sw_0_series_cab01b_kodama_livery, param_spritelength) {
	1: ss_0_series_cab01b_kodama_livery_10;				        // Length 10
	ss_0_series_cab01b_kodama_livery_12;					    // Length 12
}

// 0 Series Nose Livery
spriteset(ss_0_series_cab01b_nose_livery_12,             	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_0_series_cab01b_nose_livery_10,             	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_0_series_cab01b_nose_livery_12,     	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/nose.png") {template_12_reversed(1,41)}
alternative_sprites(ss_0_series_cab01b_nose_livery_10,     	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/10/nose.png") {template_10_reversed(1,41)}

switch (FEAT_TRAINS, SELF, sw_0_series_cab01b_nose_livery, param_spritelength) {
	1: ss_0_series_cab01b_nose_livery_10;				        // Length 10
	ss_0_series_cab01b_nose_livery_12;					        // Length 12
}

// 0 Series 2cc Livery
spriteset(ss_0_series_cab01b_2cc_livery_12,             	    "src/trains/0_series/12/original_2cc.png") {template_12_reversed(1,41)}
spriteset(ss_0_series_cab01b_2cc_livery_10,             	    "src/trains/0_series/10/original_2cc.png") {template_10_reversed(1,41)}

switch (FEAT_TRAINS, SELF, sw_0_series_cab01b_2cc_livery, param_spritelength) {
	1: ss_0_series_cab01b_2cc_livery_10;				        // Length 10
	ss_0_series_cab01b_2cc_livery_12;					        // Length 12
}

// Year Dependent Livery
switch(FEAT_TRAINS, SELF, sw_0_series_cab01b_year_dep_livery, build_year) {
        0..2001: sw_0_series_cab01b_original_livery;
        2002..9999: sw_0_series_cab01b_kodama_livery;
        sw_0_series_cab01b_original_livery;
    }

    switch(FEAT_TRAINS, PARENT, sw_0_series_cab01b, cargo_subtype) {
        1: sw_0_series_cab01b_original_livery;
        2: sw_0_series_cab01b_nose_livery;
        3: sw_0_series_cab01b_2cc_livery;
        4: sw_0_series_cab01b_kodama_livery;
        sw_0_series_cab01b_year_dep_livery;
    }
# 1 "src/trains/0_series/0_series.pnml" 2
# 1 "src/trains/0_series/pnml/sprites/0_series_cab02.pnml" 1
/* cab02 */

// FORWARDS

// 0 Series Original Strip Livery
spriteset(ss_0_series_cab02f_original_livery_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_0_series_cab02f_original_livery_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_0_series_cab02f_original_livery_12,      ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/original.png") {template_12_cab_rev_standard(1,121)}
alternative_sprites(ss_0_series_cab02f_original_livery_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/10/original.png") {template_10_cab_rev_standard(1,121)}		

switch (FEAT_TRAINS, SELF, sw_0_series_cab02f_original_livery, param_spritelength) {
	1: ss_0_series_cab02f_original_livery_10;				    // Length 10
	ss_0_series_cab02f_original_livery_12;				        // Length 12
}

// 0 Series Kodama Strip Livery
spriteset(ss_0_series_cab02f_kodama_livery_12,             	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_0_series_cab02f_kodama_livery_10,             	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_0_series_cab02f_kodama_livery_12,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/kodama.png") {template_12_cab_rev_standard(1,121)}
alternative_sprites(ss_0_series_cab02f_kodama_livery_10,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/10/kodama.png") {template_10_cab_rev_standard(1,121)}

switch (FEAT_TRAINS, SELF, sw_0_series_cab02f_kodama_livery, param_spritelength) {
	1: ss_0_series_cab02f_kodama_livery_10;				        // Length 10
	ss_0_series_cab02f_kodama_livery_12;					    // Length 12
}

// 0 Series Nose Livery
spriteset(ss_0_series_cab02f_nose_livery_12,             	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_0_series_cab02f_nose_livery_10,             	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_0_series_cab02f_nose_livery_12,     	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/nose.png") {template_12_cab_rev_standard(1,121)}
alternative_sprites(ss_0_series_cab02f_nose_livery_10,     	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/10/nose.png") {template_10_cab_rev_standard(1,121)}

switch (FEAT_TRAINS, SELF, sw_0_series_cab02f_nose_livery, param_spritelength) {
	1: ss_0_series_cab02f_nose_livery_10;				        // Length 10
	ss_0_series_cab02f_nose_livery_12;					        // Length 12
}

// 0 Series 2cc Livery
spriteset(ss_0_series_cab02f_2cc_livery_12,             	    "src/trains/0_series/12/original_2cc.png") {template_12_cab_rev_standard(1,121)}
spriteset(ss_0_series_cab02f_2cc_livery_10,             	    "src/trains/0_series/10/original_2cc.png") {template_10_cab_rev_standard(1,121)}

switch (FEAT_TRAINS, SELF, sw_0_series_cab02f_2cc_livery, param_spritelength) {
	1: ss_0_series_cab02f_2cc_livery_10;				        // Length 10
	ss_0_series_cab02f_2cc_livery_12;					        // Length 12
}

// Year Dependent Livery
switch(FEAT_TRAINS, SELF, sw_0_series_cab02f_year_dep_livery, build_year) {
        0..2001: sw_0_series_cab02f_original_livery;
        2002..9999: sw_0_series_cab02f_kodama_livery;
        sw_0_series_cab02f_original_livery;
    }

    switch(FEAT_TRAINS, PARENT, sw_0_series_cab02f, cargo_subtype) {
        1: sw_0_series_cab02f_original_livery;
        2: sw_0_series_cab02f_nose_livery;
        3: sw_0_series_cab02f_2cc_livery;
        4: sw_0_series_cab02f_kodama_livery;
        sw_0_series_cab02f_year_dep_livery;
    }

// BACKWARDS

// 0 Series Original Strip Livery
spriteset(ss_0_series_cab02b_original_livery_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_0_series_cab02b_original_livery_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_0_series_cab02b_original_livery_12,      ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/original.png") {template_12_cab_rev_reversed(1,81)}
alternative_sprites(ss_0_series_cab02b_original_livery_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/10/original.png") {template_10_cab_rev_reversed(1,81)}		

switch (FEAT_TRAINS, SELF, sw_0_series_cab02b_original_livery, param_spritelength) {
	1: ss_0_series_cab02b_original_livery_10;				    // Length 10
	ss_0_series_cab02b_original_livery_12;				        // Length 12
}

// 0 Series Kodama Strip Livery
spriteset(ss_0_series_cab02b_kodama_livery_12,             	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_0_series_cab02b_kodama_livery_10,             	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_0_series_cab02b_kodama_livery_12,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/kodama.png") {template_12_cab_rev_reversed(1,81)}
alternative_sprites(ss_0_series_cab02b_kodama_livery_10,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/10/kodama.png") {template_10_cab_rev_reversed(1,81)}

switch (FEAT_TRAINS, SELF, sw_0_series_cab02b_kodama_livery, param_spritelength) {
	1: ss_0_series_cab02b_kodama_livery_10;				        // Length 10
	ss_0_series_cab02b_kodama_livery_12;					    // Length 12
}

// 0 Series Nose Livery
spriteset(ss_0_series_cab02b_nose_livery_12,             	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_0_series_cab02b_nose_livery_10,             	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_0_series_cab02b_nose_livery_12,     	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/nose.png") {template_12_cab_rev_reversed(1,81)}
alternative_sprites(ss_0_series_cab02b_nose_livery_10,     	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/10/nose.png") {template_10_cab_rev_reversed(1,81)}

switch (FEAT_TRAINS, SELF, sw_0_series_cab02b_nose_livery, param_spritelength) {
	1: ss_0_series_cab02b_nose_livery_10;				        // Length 10
	ss_0_series_cab02b_nose_livery_12;					        // Length 12
}

// 0 Series 2cc Livery
spriteset(ss_0_series_cab02b_2cc_livery_12,             	    "src/trains/0_series/12/original_2cc.png") {template_12_cab_rev_reversed(1,81)}
spriteset(ss_0_series_cab02b_2cc_livery_10,             	    "src/trains/0_series/10/original_2cc.png") {template_10_cab_rev_reversed(1,81)}

switch (FEAT_TRAINS, SELF, sw_0_series_cab02b_2cc_livery, param_spritelength) {
	1: ss_0_series_cab02b_2cc_livery_10;				        // Length 10
	ss_0_series_cab02b_2cc_livery_12;					        // Length 12
}

// Year Dependent Livery
switch(FEAT_TRAINS, SELF, sw_0_series_cab02b_year_dep_livery, build_year) {
        0..2001: sw_0_series_cab02b_original_livery;
        2002..9999: sw_0_series_cab02b_kodama_livery;
        sw_0_series_cab02b_original_livery;
    }

    switch(FEAT_TRAINS, PARENT, sw_0_series_cab02b, cargo_subtype) {
        1: sw_0_series_cab02b_original_livery;
        2: sw_0_series_cab02b_nose_livery;
        3: sw_0_series_cab02b_2cc_livery;
        4: sw_0_series_cab02b_kodama_livery;
        sw_0_series_cab02b_year_dep_livery;
    }
# 1 "src/trains/0_series/0_series.pnml" 2
# 1 "src/trains/0_series/pnml/sprites/0_series_cab03.pnml" 1
/* cab03 */

// FORWARDS

// 0 Series Original Strip Livery
spriteset(ss_0_series_cab03f_original_livery_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_0_series_cab03f_original_livery_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_0_series_cab03f_original_livery_12,      ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/original.png") {template_12_cab_rev_standard(1,41)}
alternative_sprites(ss_0_series_cab03f_original_livery_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/10/original.png") {template_10_cab_rev_standard(1,41)}		

switch (FEAT_TRAINS, SELF, sw_0_series_cab03f_original_livery, param_spritelength) {
	1: ss_0_series_cab03f_original_livery_10;				    // Length 10
	ss_0_series_cab03f_original_livery_12;				        // Length 12
}

// 0 Series Kodama Strip Livery
spriteset(ss_0_series_cab03f_kodama_livery_12,             	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_0_series_cab03f_kodama_livery_10,             	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_0_series_cab03f_kodama_livery_12,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/kodama.png") {template_12_cab_rev_standard(1,41)}
alternative_sprites(ss_0_series_cab03f_kodama_livery_10,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/10/kodama.png") {template_10_cab_rev_standard(1,41)}

switch (FEAT_TRAINS, SELF, sw_0_series_cab03f_kodama_livery, param_spritelength) {
	1: ss_0_series_cab03f_kodama_livery_10;				        // Length 10
	ss_0_series_cab03f_kodama_livery_12;					    // Length 12
}

// 0 Series Nose Livery
spriteset(ss_0_series_cab03f_nose_livery_12,             	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_0_series_cab03f_nose_livery_10,             	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_0_series_cab03f_nose_livery_12,     	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/nose.png") {template_12_cab_rev_standard(1,41)}
alternative_sprites(ss_0_series_cab03f_nose_livery_10,     	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/10/nose.png") {template_10_cab_rev_standard(1,41)}

switch (FEAT_TRAINS, SELF, sw_0_series_cab03f_nose_livery, param_spritelength) {
	1: ss_0_series_cab03f_nose_livery_10;				        // Length 10
	ss_0_series_cab03f_nose_livery_12;					        // Length 12
}

// 0 Series 2cc Livery
spriteset(ss_0_series_cab03f_2cc_livery_12,             	    "src/trains/0_series/12/original_2cc.png") {template_12_cab_rev_standard(1,41)}
spriteset(ss_0_series_cab03f_2cc_livery_10,             	    "src/trains/0_series/10/original_2cc.png") {template_10_cab_rev_standard(1,41)}

switch (FEAT_TRAINS, SELF, sw_0_series_cab03f_2cc_livery, param_spritelength) {
	1: ss_0_series_cab03f_2cc_livery_10;				        // Length 10
	ss_0_series_cab03f_2cc_livery_12;					        // Length 12
}

// Year Dependent Livery
switch(FEAT_TRAINS, SELF, sw_0_series_cab03f_year_dep_livery, build_year) {
        0..2001: sw_0_series_cab03f_original_livery;
        2002..9999: sw_0_series_cab03f_kodama_livery;
        sw_0_series_cab03f_original_livery;
    }

    switch(FEAT_TRAINS, PARENT, sw_0_series_cab03f, cargo_subtype) {
        1: sw_0_series_cab03f_original_livery;
        2: sw_0_series_cab03f_nose_livery;
        3: sw_0_series_cab03f_2cc_livery;
        4: sw_0_series_cab03f_kodama_livery;
        sw_0_series_cab03f_year_dep_livery;
    }

// BACKWARDS

// 0 Series Original Strip Livery
spriteset(ss_0_series_cab03b_original_livery_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_0_series_cab03b_original_livery_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_0_series_cab03b_original_livery_12,      ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/original.png") {template_12_cab_rev_reversed(1,1)}
alternative_sprites(ss_0_series_cab03b_original_livery_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/10/original.png") {template_10_cab_rev_reversed(1,1)}		

switch (FEAT_TRAINS, SELF, sw_0_series_cab03b_original_livery, param_spritelength) {
	1: ss_0_series_cab03b_original_livery_10;				    // Length 10
	ss_0_series_cab03b_original_livery_12;				        // Length 12
}

// 0 Series Kodama Strip Livery
spriteset(ss_0_series_cab03b_kodama_livery_12,             	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_0_series_cab03b_kodama_livery_10,             	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_0_series_cab03b_kodama_livery_12,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/kodama.png") {template_12_cab_rev_reversed(1,1)}
alternative_sprites(ss_0_series_cab03b_kodama_livery_10,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/10/kodama.png") {template_10_cab_rev_reversed(1,1)}

switch (FEAT_TRAINS, SELF, sw_0_series_cab03b_kodama_livery, param_spritelength) {
	1: ss_0_series_cab03b_kodama_livery_10;				        // Length 10
	ss_0_series_cab03b_kodama_livery_12;					    // Length 12
}

// 0 Series Nose Livery
spriteset(ss_0_series_cab03b_nose_livery_12,             	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_0_series_cab03b_nose_livery_10,             	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_0_series_cab03b_nose_livery_12,     	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/nose.png") {template_12_cab_rev_reversed(1,1)}
alternative_sprites(ss_0_series_cab03b_nose_livery_10,     	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/10/nose.png") {template_10_cab_rev_reversed(1,1)}

switch (FEAT_TRAINS, SELF, sw_0_series_cab03b_nose_livery, param_spritelength) {
	1: ss_0_series_cab03b_nose_livery_10;				        // Length 10
	ss_0_series_cab03b_nose_livery_12;					        // Length 12
}

// 0 Series 2cc Livery
spriteset(ss_0_series_cab03b_2cc_livery_12,             	    "src/trains/0_series/12/original_2cc.png") {template_12_cab_rev_reversed(1,1)}
spriteset(ss_0_series_cab03b_2cc_livery_10,             	    "src/trains/0_series/10/original_2cc.png") {template_10_cab_rev_reversed(1,1)}

switch (FEAT_TRAINS, SELF, sw_0_series_cab03b_2cc_livery, param_spritelength) {
	1: ss_0_series_cab03b_2cc_livery_10;				        // Length 10
	ss_0_series_cab03b_2cc_livery_12;					        // Length 12
}

// Year Dependent Livery
switch(FEAT_TRAINS, SELF, sw_0_series_cab03b_year_dep_livery, build_year) {
        0..2001: sw_0_series_cab03b_original_livery;
        2002..9999: sw_0_series_cab03b_kodama_livery;
        sw_0_series_cab03b_original_livery;
    }

    switch(FEAT_TRAINS, PARENT, sw_0_series_cab03b, cargo_subtype) {
        1: sw_0_series_cab03b_original_livery;
        2: sw_0_series_cab03b_nose_livery;
        3: sw_0_series_cab03b_2cc_livery;
        4: sw_0_series_cab03b_kodama_livery;
        sw_0_series_cab03b_year_dep_livery;
    }
# 1 "src/trains/0_series/0_series.pnml" 2
# 1 "src/trains/0_series/pnml/sprites/0_series_coach.pnml" 1
/* coach */

// FORWARDS

// 0 Series Original Strip Livery
spriteset(ss_0_series_coachf_original_livery_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_0_series_coachf_original_livery_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_0_series_coachf_original_livery_12,      ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/original.png") {template_12_standard(1,201)}
alternative_sprites(ss_0_series_coachf_original_livery_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/10/original.png") {template_10_standard(1,201)}		

switch (FEAT_TRAINS, SELF, sw_0_series_coachf_original_livery, param_spritelength) {
	1: ss_0_series_coachf_original_livery_10;				    // Length 10
	ss_0_series_coachf_original_livery_12;				        // Length 12
}

// 0 Series Kodama Strip Livery
spriteset(ss_0_series_coachf_kodama_livery_12,             	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_0_series_coachf_kodama_livery_10,             	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_0_series_coachf_kodama_livery_12,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/kodama.png") {template_12_standard(1,201)}
alternative_sprites(ss_0_series_coachf_kodama_livery_10,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/10/kodama.png") {template_10_standard(1,201)}

switch (FEAT_TRAINS, SELF, sw_0_series_coachf_kodama_livery, param_spritelength) {
	1: ss_0_series_coachf_kodama_livery_10;				        // Length 10
	ss_0_series_coachf_kodama_livery_12;					    // Length 12
}

// 0 Series Nose Livery
spriteset(ss_0_series_coachf_nose_livery_12,             	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_0_series_coachf_nose_livery_10,             	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_0_series_coachf_nose_livery_12,     	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/nose.png") {template_12_standard(1,201)}
alternative_sprites(ss_0_series_coachf_nose_livery_10,     	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/10/nose.png") {template_10_standard(1,201)}

switch (FEAT_TRAINS, SELF, sw_0_series_coachf_nose_livery, param_spritelength) {
	1: ss_0_series_coachf_nose_livery_10;				        // Length 10
	ss_0_series_coachf_nose_livery_12;					        // Length 12
}

// 0 Series 2cc Livery
spriteset(ss_0_series_coachf_2cc_livery_12,             	    "src/trains/0_series/12/original_2cc.png") {template_12_standard(1,201)}
spriteset(ss_0_series_coachf_2cc_livery_10,             	    "src/trains/0_series/10/original_2cc.png") {template_10_standard(1,201)}

switch (FEAT_TRAINS, SELF, sw_0_series_coachf_2cc_livery, param_spritelength) {
	1: ss_0_series_coachf_2cc_livery_10;				        // Length 10
	ss_0_series_coachf_2cc_livery_12;					        // Length 12
}

// Year Dependent Livery
switch(FEAT_TRAINS, SELF, sw_0_series_coachf_year_dep_livery, build_year) {
        0..2001: sw_0_series_coachf_original_livery;
        2002..9999: sw_0_series_coachf_kodama_livery;
        sw_0_series_coachf_original_livery;
    }

    switch(FEAT_TRAINS, PARENT, sw_0_series_coachf, cargo_subtype) {
        1: sw_0_series_coachf_original_livery;
        2: sw_0_series_coachf_nose_livery;
        3: sw_0_series_coachf_2cc_livery;
        4: sw_0_series_coachf_kodama_livery;
        sw_0_series_coachf_year_dep_livery;
    }

// BACKWARDS

// 0 Series Original Strip Livery
spriteset(ss_0_series_coachb_original_livery_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_0_series_coachb_original_livery_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_0_series_coachb_original_livery_12,      ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/original.png") {template_12_reversed(1,201)}
alternative_sprites(ss_0_series_coachb_original_livery_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/10/original.png") {template_10_reversed(1,201)}		

switch (FEAT_TRAINS, SELF, sw_0_series_coachb_original_livery, param_spritelength) {
	1: ss_0_series_coachb_original_livery_10;				    // Length 10
	ss_0_series_coachb_original_livery_12;				        // Length 12
}

// 0 Series Kodama Strip Livery
spriteset(ss_0_series_coachb_kodama_livery_12,             	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_0_series_coachb_kodama_livery_10,             	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_0_series_coachb_kodama_livery_12,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/kodama.png") {template_12_reversed(1,201)}
alternative_sprites(ss_0_series_coachb_kodama_livery_10,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/10/kodama.png") {template_10_reversed(1,201)}

switch (FEAT_TRAINS, SELF, sw_0_series_coachb_kodama_livery, param_spritelength) {
	1: ss_0_series_coachb_kodama_livery_10;				        // Length 10
	ss_0_series_coachb_kodama_livery_12;					    // Length 12
}

// 0 Series Nose Livery
spriteset(ss_0_series_coachb_nose_livery_12,             	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_0_series_coachb_nose_livery_10,             	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_0_series_coachb_nose_livery_12,     	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/nose.png") {template_12_reversed(1,201)}
alternative_sprites(ss_0_series_coachb_nose_livery_10,     	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/10/nose.png") {template_10_reversed(1,201)}

switch (FEAT_TRAINS, SELF, sw_0_series_coachb_nose_livery, param_spritelength) {
	1: ss_0_series_coachb_nose_livery_10;				        // Length 10
	ss_0_series_coachb_nose_livery_12;					        // Length 12
}

// 0 Series 2cc Livery
spriteset(ss_0_series_coachb_2cc_livery_12,             	    "src/trains/0_series/12/original_2cc.png") {template_12_reversed(1,201)}
spriteset(ss_0_series_coachb_2cc_livery_10,             	    "src/trains/0_series/10/original_2cc.png") {template_10_reversed(1,201)}

switch (FEAT_TRAINS, SELF, sw_0_series_coachb_2cc_livery, param_spritelength) {
	1: ss_0_series_coachb_2cc_livery_10;				        // Length 10
	ss_0_series_coachb_2cc_livery_12;					        // Length 12
}

// Year Dependent Livery
switch(FEAT_TRAINS, SELF, sw_0_series_coachb_year_dep_livery, build_year) {
        0..2001: sw_0_series_coachb_original_livery;
        2002..9999: sw_0_series_coachb_kodama_livery;
        sw_0_series_coachb_original_livery;
    }

    switch(FEAT_TRAINS, PARENT, sw_0_series_coachb, cargo_subtype) {
        1: sw_0_series_coachb_original_livery;
        2: sw_0_series_coachb_nose_livery;
        3: sw_0_series_coachb_2cc_livery;
        4: sw_0_series_coachb_kodama_livery;
        sw_0_series_coachb_year_dep_livery;
    }
# 1 "src/trains/0_series/0_series.pnml" 2
# 1 "src/trains/0_series/pnml/sprites/0_series_panto.pnml" 1
/* panto */

// FORWARDS

// 0 Series Original Strip Livery
spriteset(ss_0_series_pantof_original_livery_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_0_series_pantof_original_livery_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_0_series_pantof_original_livery_12,      ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/original.png") {template_12_standard(1,161)}
alternative_sprites(ss_0_series_pantof_original_livery_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/10/original.png") {template_10_standard(1,161)}		

switch (FEAT_TRAINS, SELF, sw_0_series_pantof_original_livery, param_spritelength) {
	1: ss_0_series_pantof_original_livery_10;				    // Length 10
	ss_0_series_pantof_original_livery_12;				        // Length 12
}

// 0 Series Kodama Strip Livery
spriteset(ss_0_series_pantof_kodama_livery_12,             	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_0_series_pantof_kodama_livery_10,             	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_0_series_pantof_kodama_livery_12,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/kodama.png") {template_12_standard(1,161)}
alternative_sprites(ss_0_series_pantof_kodama_livery_10,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/10/kodama.png") {template_10_standard(1,161)}

switch (FEAT_TRAINS, SELF, sw_0_series_pantof_kodama_livery, param_spritelength) {
	1: ss_0_series_pantof_kodama_livery_10;				        // Length 10
	ss_0_series_pantof_kodama_livery_12;					    // Length 12
}

// 0 Series Nose Livery
spriteset(ss_0_series_pantof_nose_livery_12,             	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_0_series_pantof_nose_livery_10,             	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_0_series_pantof_nose_livery_12,     	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/nose.png") {template_12_standard(1,161)}
alternative_sprites(ss_0_series_pantof_nose_livery_10,     	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/10/nose.png") {template_10_standard(1,161)}

switch (FEAT_TRAINS, SELF, sw_0_series_pantof_nose_livery, param_spritelength) {
	1: ss_0_series_pantof_nose_livery_10;				        // Length 10
	ss_0_series_pantof_nose_livery_12;					        // Length 12
}

// 0 Series 2cc Livery
spriteset(ss_0_series_pantof_2cc_livery_12,             	    "src/trains/0_series/12/original_2cc.png") {template_12_standard(1,161)}
spriteset(ss_0_series_pantof_2cc_livery_10,             	    "src/trains/0_series/10/original_2cc.png") {template_10_standard(1,161)}

switch (FEAT_TRAINS, SELF, sw_0_series_pantof_2cc_livery, param_spritelength) {
	1: ss_0_series_pantof_2cc_livery_10;				        // Length 10
	ss_0_series_pantof_2cc_livery_12;					        // Length 12
}

// Year Dependent Livery
switch(FEAT_TRAINS, SELF, sw_0_series_pantof_year_dep_livery, build_year) {
        0..2001: sw_0_series_pantof_original_livery;
        2002..9999: sw_0_series_pantof_kodama_livery;
        sw_0_series_pantof_original_livery;
    }

    switch(FEAT_TRAINS, PARENT, sw_0_series_pantof, cargo_subtype) {
        1: sw_0_series_pantof_original_livery;
        2: sw_0_series_pantof_nose_livery;
        3: sw_0_series_pantof_2cc_livery;
        4: sw_0_series_pantof_kodama_livery;
        sw_0_series_pantof_year_dep_livery;
    }

// BACKWARDS

// 0 Series Original Strip Livery
spriteset(ss_0_series_pantob_original_livery_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_0_series_pantob_original_livery_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_0_series_pantob_original_livery_12,      ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/original.png") {template_12_reversed(1,161)}
alternative_sprites(ss_0_series_pantob_original_livery_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/10/original.png") {template_10_reversed(1,161)}		

switch (FEAT_TRAINS, SELF, sw_0_series_pantob_original_livery, param_spritelength) {
	1: ss_0_series_pantob_original_livery_10;				    // Length 10
	ss_0_series_pantob_original_livery_12;				        // Length 12
}

// 0 Series Kodama Strip Livery
spriteset(ss_0_series_pantob_kodama_livery_12,             	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_0_series_pantob_kodama_livery_10,             	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_0_series_pantob_kodama_livery_12,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/kodama.png") {template_12_reversed(1,161)}
alternative_sprites(ss_0_series_pantob_kodama_livery_10,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/10/kodama.png") {template_10_reversed(1,161)}

switch (FEAT_TRAINS, SELF, sw_0_series_pantob_kodama_livery, param_spritelength) {
	1: ss_0_series_pantob_kodama_livery_10;				        // Length 10
	ss_0_series_pantob_kodama_livery_12;					    // Length 12
}

// 0 Series Nose Livery
spriteset(ss_0_series_pantob_nose_livery_12,             	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_0_series_pantob_nose_livery_10,             	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_0_series_pantob_nose_livery_12,     	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/nose.png") {template_12_reversed(1,161)}
alternative_sprites(ss_0_series_pantob_nose_livery_10,     	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/10/nose.png") {template_10_reversed(1,161)}

switch (FEAT_TRAINS, SELF, sw_0_series_pantob_nose_livery, param_spritelength) {
	1: ss_0_series_pantob_nose_livery_10;				        // Length 10
	ss_0_series_pantob_nose_livery_12;					        // Length 12
}

// 0 Series 2cc Livery
spriteset(ss_0_series_pantob_2cc_livery_12,             	    "src/trains/0_series/12/original_2cc.png") {template_12_reversed(1,161)}
spriteset(ss_0_series_pantob_2cc_livery_10,             	    "src/trains/0_series/10/original_2cc.png") {template_10_reversed(1,161)}

switch (FEAT_TRAINS, SELF, sw_0_series_pantob_2cc_livery, param_spritelength) {
	1: ss_0_series_pantob_2cc_livery_10;				        // Length 10
	ss_0_series_pantob_2cc_livery_12;					        // Length 12
}

// Year Dependent Livery
switch(FEAT_TRAINS, SELF, sw_0_series_pantob_year_dep_livery, build_year) {
        0..2001: sw_0_series_pantob_original_livery;
        2002..9999: sw_0_series_pantob_kodama_livery;
        sw_0_series_pantob_original_livery;
    }

    switch(FEAT_TRAINS, PARENT, sw_0_series_pantob, cargo_subtype) {
        1: sw_0_series_pantob_original_livery;
        2: sw_0_series_pantob_nose_livery;
        3: sw_0_series_pantob_2cc_livery;
        4: sw_0_series_pantob_kodama_livery;
        sw_0_series_pantob_year_dep_livery;
    }
# 1 "src/trains/0_series/0_series.pnml" 2
# 1 "src/trains/0_series/pnml/0_series_formations.pnml" 1
/* Midcars */

switch (FEAT_TRAINS, SELF, sw_0_series_backwards, position_in_consist_from_end % 6) {				
		4:  sw_0_series_pantob;
		sw_0_series_coachb;				
	}

switch (FEAT_TRAINS, SELF, sw_0_series_forwards, position_in_consist % 6) {				
		4:  sw_0_series_pantof;
		sw_0_series_coachf;				
	}

switch (FEAT_TRAINS, PARENT, sw_0_series_midcars, vehicle_is_reversed) {				
		0:  sw_0_series_forwards;
		sw_0_series_backwards;				
	}

/* Cab selection */

    // Rear cab
    switch (FEAT_TRAINS, PARENT, sw_0_series_rear_not_reversed, num_vehs_in_consist % 2) {				
            1:  sw_0_series_cab03f;                 // Odd
            sw_0_series_cab02f;		                // Even		
        }

    switch (FEAT_TRAINS, PARENT, sw_0_series_rear, vehicle_is_reversed) {				
            1:  sw_0_series_cab01b;                 // Must be cab01	
            sw_0_series_rear_not_reversed;          // Not reversed - so choose odd or even	
        }

    // Lead cab
    switch (FEAT_TRAINS, PARENT, sw_0_series_lead_reversed, num_vehs_in_consist % 2) {				
            1:  sw_0_series_cab03b;                 // Odd
            sw_0_series_cab02b;		                // Even		
        }
    
    switch (FEAT_TRAINS, PARENT, sw_0_series_lead, vehicle_is_reversed) {				
            1:  sw_0_series_lead_reversed;          // Reversed - so choose odd or even lead
            sw_0_series_cab01f;                     // Must be cab01	
        }

/* Find the cabs */
    switch (FEAT_TRAINS, SELF, sw_0_series_lead_or_rear, position_in_consist) {				
            1:  sw_0_series_lead;
            sw_0_series_rear;				
        }
    
    switch (FEAT_TRAINS, SELF, sw_0_series_ends, position_in_consist == 1 || position_in_consist_from_end == 1) {				
            1:  sw_0_series_lead_or_rear;
            sw_0_series_midcars;				
        }
# 1 "src/trains/0_series/0_series.pnml" 2
# 1 "src/trains/0_series/pnml/0_series_item.pnml" 1
switch (FEAT_TRAINS, SELF, sw_0_series_graphics, position_in_consist % 3) {				
		1:  sw_0_series_ends; 				
		dummy_sprites;
	}

switch (FEAT_TRAINS, SELF, sw_0_series_articulated_part, extra_callback_info1) {
		1 .. 2: return series_0;									
		return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
	}

/*---Coupling Switch---*/
switch(FEAT_TRAINS, SELF, sw_0_series_attach_vehid, [vehicle_type_id == mu_car_full]) {
 0: return string(ONLY_ADD_MUCAR);
}

/*---Length Check---*/
switch (FEAT_TRAINS, SELF, sw_0_series_stop_start, num_vehs_in_consist < 12) {				
		1:  return string(STR_LENGTH_ERROR); 				
		return CB_RESULT_NO_TEXT; 
	}

/* SPEED */
    switch (FEAT_TRAINS, SELF, sw_0_series_speed, current_year) {
	    0..1986: return 210;                        // Until 1986, Speed = 210 km/h
	    return 220;                                 // After 1986, Speed = 220 km/h
    }

item(FEAT_TRAINS, series_0) {
	property {
		/* Menu */
        name: 							string(STR_NAME_0_SERIES);
        sprite_id:                      SPRITE_ID_NEW_TRAIN; 		// required to enable new graphics
        misc_flags:                     bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_TILT, TRAIN_FLAG_AUTOREFIT, TRAIN_FLAG_2CC);
		running_cost_base:              RUNNING_COST_ELECTRIC;
		engine_class:                   ENGINE_CLASS_ELECTRIC;
        /* Availability */
		climates_available:             ALL_CLIMATES;
		introduction_date:              date(1964,10,01);           // Date of launch
		model_life:                     1987 - 1964;		        // Constructed until 1986, in service to 2008
		vehicle_life:                   30;							// Same as JapanSet
        track_type:                     SHINKANSEN;
		/* Cargo */
        reliability_decay:              5;
		refittable_cargo_classes:       bitmask(CC_PASSENGERS);
		refit_cost:                     0;
		default_cargo_type:             PASS;
        ai_special_flag:                AI_FLAG_PASSENGER;
		cargo_capacity:                 1;							// 
		loading_speed:                  50;                         // Changed by callback						
		cargo_age_period:               278; 						// Default 185 x 1.5
		/* Stats */
        speed:                          211 km/h;                   // Changed by callback
        power:                          8050 kW;	                // Changed by callback				
		weight:                         1464 ton;                   // Changed by callback					
		tractive_effort_coefficient:    0.3;                        // Standard
		air_drag_coefficient:			0;
	}
	graphics {
		/* Menu */
        additional_text:                string(STR_DESC_0_SERIES);
        cargo_subtype_text:             sw_0_series_year_dep_subtype_text;
		can_attach_wagon:				sw_0_series_attach_vehid;
		start_stop:						sw_0_series_stop_start;
        purchase_weight:                61;
        purchase_power:                 248 * 4;
        /* Graphics */
        default:                        sw_0_series_graphics;
		purchase:                       sw_0_series_year_dep_purchase;
		articulated_part:               sw_0_series_articulated_part;
        visual_effect_and_powered:      sw_visual_effect_and_powered;
		/* Stats */
        length:                        	sw_param_length;
        speed:							sw_0_series_speed;
		weight:                         NumberCarsInConsist() * 61;
        power:                          NumberCarsInConsist() * 248 * 4;	// 185 kW
        cargo_capacity:                 28 * CapacityFactor();															
		loading_speed:					28 * CapacityFactor() / param_loading_2D;					// Capacity divided by door loading factor
		cargo_age_period:				param_decay_express;
        cost_factor:                    125;
		running_cost_factor:            (300 + 125 * NumberCarsInConsist() ) * RunningCostFactor();
		purchase_running_cost_factor:   300 + 125 * NumberCarsInConsist();
	}
	/*Multiple Unit Car*/
	
      livery_override(mu_car_full){
        default:                        sw_0_series_graphics;
        cargo_capacity:                 28 * CapacityFactor();
        cargo_age_period:				param_decay_express;
        loading_speed:					28 * CapacityFactor() / param_loading_2D;
		articulated_part:				sw_mucar_full_articulated_part;
		length:							sw_param_length;
		//power:						// Apply power in graphics block to calculate power based on number of motorised cars correctly
		//weight:						// Apply weight to graphics block to calculate Max T.E. correctly
        //running_cost_factor:            sw_0_series_running_costs;
      }
}
# 1 "src/trains/0_series/0_series.pnml" 2
# 1 "JPplusShinkansen.pnml" 4
# 1 "src/trains/0_series/922_series.pnml" 1
/* Begin 923 Series */

/* SUBTYPES */

    // None

/* GRAPHICS */

    /* Purchase Menu */
    spriteset (ss_922_series_buy_livery_12,	        	  "src/trains/dummy/purchase.png") {template_purchase(0, 0)}
	spriteset (ss_922_series_buy_livery_10,	        	  "src/trains/dummy/purchase.png") {template_purchase(0, 0)}

    alternative_sprites(ss_922_series_buy_livery_12,         ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/purchase_922_series.png") {template_purchase(0, 0)}
	alternative_sprites(ss_922_series_buy_livery_10,         ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/purchase_922_series.png") {template_purchase(0, 0)}


		switch (FEAT_TRAINS, SELF, ss_922_series_buy, param_spritelength) {
			1: ss_922_series_buy_livery_10;					// Length 10
			ss_922_series_buy_livery_12;						// Length 12
		}

    /* EMU Parts */

    /* "CAB" */
    spriteset(ss_922_series_cab_livery_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
    spriteset(ss_922_series_cab_rev_livery_12,    		    "src/trains/dummy/empty.png") {template_dummy(0,0)}

	spriteset(ss_922_series_cab_livery_10,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
    spriteset(ss_922_series_cab_rev_livery_10,    		    "src/trains/dummy/empty.png") {template_dummy(0,0)}


    // 922 Series
    alternative_sprites(ss_922_series_cab_livery_12,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/922_series.png") {template_12_standard(1,1)}
    alternative_sprites(ss_922_series_cab_rev_livery_12,     ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/922_series.png") {template_12_reversed(1,41)}
	alternative_sprites(ss_922_series_cab_livery_10,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/10/922_series.png") {template_10_standard(1,1)}
    alternative_sprites(ss_922_series_cab_rev_livery_10,     ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/10/922_series.png") {template_10_reversed(1,41)}		


		switch (FEAT_TRAINS, SELF, ss_922_series_cab, param_spritelength) {
			1: ss_922_series_cab_livery_10;					// Length 10
			ss_922_series_cab_livery_12;						// Length 12
		}

		switch (FEAT_TRAINS, SELF, ss_922_series_cab_rev, param_spritelength) {
			1: ss_922_series_cab_rev_livery_10;				// Length 10
			ss_922_series_cab_rev_livery_12;					// Length 12
		}

    /* "CAB" w/ PANTOS*/
    spriteset(ss_922_series_cabwp_livery_12,             	"src/trains/dummy/empty.png") {template_dummy(0,0)}
    spriteset(ss_922_series_cabwp_rev_livery_12,    		    "src/trains/dummy/empty.png") {template_dummy(0,0)}

	spriteset(ss_922_series_cabwp_livery_10,             	"src/trains/dummy/empty.png") {template_dummy(0,0)}
    spriteset(ss_922_series_cabwp_rev_livery_10,    		    "src/trains/dummy/empty.png") {template_dummy(0,0)}

    // 0 Series Original Strip Livery
    alternative_sprites(ss_922_series_cabwp_livery_12,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/922_series.png") {template_12_standard(1,81)}
    alternative_sprites(ss_922_series_cabwp_rev_livery_12,   ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/922_series.png") {template_12_reversed(1,121)}
	alternative_sprites(ss_922_series_cabwp_livery_10,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/10/922_series.png") {template_10_standard(1,81)}
    alternative_sprites(ss_922_series_cabwp_rev_livery_10,   ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/10/922_series.png") {template_10_reversed(1,121)}		

		switch (FEAT_TRAINS, SELF, ss_922_series_cabwp, param_spritelength) {
			1: ss_922_series_cabwp_livery_10;				// Length 10
			ss_922_series_cabwp_livery_12;					// Length 12
		}

		switch (FEAT_TRAINS, SELF, ss_922_series_cabwp_rev, param_spritelength) {
			1: ss_922_series_cabwp_rev_livery_10;			// Length 10
			ss_922_series_cabwp_rev_livery_12;				// Length 12
		}


    /* COACH */
    spriteset(ss_922_series_coach_livery_12,             	"src/trains/dummy/empty.png") {template_dummy(0,0)}
    spriteset(ss_922_series_coach_rev_livery_12,    		    "src/trains/dummy/empty.png") {template_dummy(0,0)}

	spriteset(ss_922_series_coach_livery_10,             	"src/trains/dummy/empty.png") {template_dummy(0,0)}
    spriteset(ss_922_series_coach_rev_livery_10,    		    "src/trains/dummy/empty.png") {template_dummy(0,0)}

    // 0 Series Original Strip Livery
    alternative_sprites(ss_922_series_coach_livery_12,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/922_series.png") {template_12_standard(1,201)}
    alternative_sprites(ss_922_series_coach_rev_livery_12,   ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/922_series.png") {template_12_reversed(1,201)}
	alternative_sprites(ss_922_series_coach_livery_10,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/10/922_series.png") {template_10_standard(1,201)}
    alternative_sprites(ss_922_series_coach_rev_livery_10,   ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/10/922_series.png") {template_10_reversed(1,201)}


		switch (FEAT_TRAINS, SELF, ss_922_series_coach, param_spritelength) {
			1: ss_922_series_coach_livery_10;				// Length 10
			ss_922_series_coach_livery_12;					// Length 12
		}

		switch (FEAT_TRAINS, SELF, ss_922_series_coach_rev, param_spritelength) {
			1: ss_922_series_coach_rev_livery_10;			// Length 10
			ss_922_series_coach_rev_livery_12;				// Length 12
		}

    // PANTO COACH
    spriteset(ss_922_series_panto_livery_12,          		"src/trains/dummy/empty.png") {template_dummy(0,0)}
    spriteset(ss_922_series_panto_rev_livery_12, 		    "src/trains/dummy/empty.png") {template_dummy(0,0)}

	spriteset(ss_922_series_panto_livery_10,          		"src/trains/dummy/empty.png") {template_dummy(0,0)}
    spriteset(ss_922_series_panto_rev_livery_10, 		    "src/trains/dummy/empty.png") {template_dummy(0,0)}

    // 0 Series Original Strip Livery
    alternative_sprites(ss_922_series_panto_livery_12,       ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/922_series.png") {template_12_standard(1,161)}
    alternative_sprites(ss_922_series_panto_rev_livery_12,   ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/12/922_series.png") {template_12_reversed(1,161)}
	alternative_sprites(ss_922_series_panto_livery_10,       ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/10/922_series.png") {template_10_standard(1,161)}
    alternative_sprites(ss_922_series_panto_rev_livery_10,   ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/0_series/10/922_series.png") {template_10_reversed(1,161)}	

		switch (FEAT_TRAINS, SELF, ss_922_series_panto, param_spritelength) {
			1: ss_922_series_panto_livery_10;				// Length 10
			ss_922_series_panto_livery_12;					// Length 12
		}

		switch (FEAT_TRAINS, SELF, ss_922_series_panto_rev, param_spritelength) {
			1: ss_922_series_panto_rev_livery_10;			// Length 10
			ss_922_series_panto_rev_livery_12;				// Length 12
		}

/* LIVERIES */

    // Single Livery


/* FORMATIONS */

switch (FEAT_TRAINS, SELF, sw_922_series_backwards, position_in_consist_from_end % 6) {				
		4:  ss_922_series_panto_rev;
		ss_922_series_coach_rev;				
	}

switch (FEAT_TRAINS, SELF, sw_922_series_forwards, position_in_consist % 6) {				
		4:  ss_922_series_panto;
		ss_922_series_coach;				
	}

switch (FEAT_TRAINS, PARENT, sw_922_series_midcars, vehicle_is_reversed) {				
		0:  sw_922_series_forwards;
		sw_922_series_backwards;				
	}

// Back Car Pantocheck
switch (FEAT_TRAINS, PARENT, sw_922_series_back_evenreversecheck, vehicle_is_reversed) {				
		0:  ss_922_series_cabwp_rev;
		ss_922_series_cab_rev;				
	}

switch (FEAT_TRAINS, SELF, sw_922_series_back_oddevencheck, num_vehs_in_consist % 2) {				
		0:  sw_922_series_back_evenreversecheck;
		ss_922_series_cab_rev;				
	}

switch (FEAT_TRAINS, SELF, sw_922_series_back, position_in_consist_from_end) {				
		1:  sw_922_series_back_oddevencheck;
		sw_922_series_midcars;				
	}

// Front Car Pantocheck
switch (FEAT_TRAINS, SELF, sw_922_series_front_oddevencheck, num_vehs_in_consist % 2) {				
		1:  ss_922_series_cab;
		ss_922_series_cabwp;				
	}

switch (FEAT_TRAINS, PARENT, sw_922_series_front_reversecheck, vehicle_is_reversed) {				
		0:  ss_922_series_cab;
		sw_922_series_front_oddevencheck;				
	}

switch (FEAT_TRAINS, SELF, sw_922_series_front, position_in_consist) {				
		1:  sw_922_series_front_reversecheck;
		sw_922_series_back;				
	}

// GRAPHICS
switch (FEAT_TRAINS, SELF, sw_922_series_graphics, position_in_consist % 3) {				
		1:  sw_922_series_front; 				
		dummy_sprites;
	}

switch (FEAT_TRAINS, SELF, sw_922_series_articulated_part, extra_callback_info1) {
		1 .. 2: return series_922;									
		return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
	}

/*---Coupling Switch---*/
switch(FEAT_TRAINS, SELF, sw_922_series_attach_vehid, [vehicle_type_id == mu_car_full]) {
 0: return string(ONLY_ADD_MUCAR);
}

/*---Length Check---*/
switch (FEAT_TRAINS, SELF, sw_922_series_stop_start, num_vehs_in_consist < 12) {				
		1:  return string(STR_LENGTH_ERROR); 				
		return CB_RESULT_NO_TEXT; 
	}

/*---Running Cost Factor---*/
switch (FEAT_TRAINS, PARENT, sw_922_series_running_cost_factor, param_dryellow ) {				
		1: (150 + 60 * NumberCarsInConsist() ) * RunningCostFactor();		// Mail
		2: (300 + 125 * NumberCarsInConsist() ) * RunningCostFactor();		// Passengers
		return 0;			
	}

/* SPEED */
    switch (FEAT_TRAINS, SELF, sw_922_series_speed, current_year) {
	    0..1986: return 210;                        // Until 1986, Speed = 210 km/h
	    return 220;                                 // After 1986, Speed = 220 km/h
    }

if (param_dryellow == 0) { // GIMMICK

item(FEAT_TRAINS, series_922) {
	property {
		/* Menu */
        name: 							string(STR_NAME_922_SERIES);
        sprite_id:                      SPRITE_ID_NEW_TRAIN; 		// required to enable new graphics
        misc_flags:                     bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_TILT, TRAIN_FLAG_AUTOREFIT);
		running_cost_base:              RUNNING_COST_ELECTRIC;
		engine_class:                   ENGINE_CLASS_ELECTRIC;
        variant_group:					123;
        /* Availability */
		climates_available:             ALL_CLIMATES;
		introduction_date:              date(1964,10,01);           // Date of launch
		model_life:                     1987 - 1964;		        // Constructed until 1986, in service to 2008
		vehicle_life:                   30;							// Same as JapanSet
        track_type:                     SHINKANSEN;
        extra_flags:					bitmask(VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW);
		/* Cargo */
        reliability_decay:              5;
		refittable_cargo_classes:       bitmask(CC_PASSENGERS);
		refit_cost:                     0;
		default_cargo_type:             PASS;
        ai_special_flag:                AI_FLAG_PASSENGER;
		cargo_capacity:                 1;							// 
		loading_speed:                  50;                         // Changed by callback						
		cargo_age_period:               278; 						// Default 185 x 1.5
		/* Stats */
        speed:                          211 km/h;                   // Changed by callback
        power:                          8050 kW;	                // Changed by callback				
		weight:                         1464 ton;                   // Changed by callback					
		tractive_effort_coefficient:    0.3;                        // Standard
		air_drag_coefficient:			0;
	}
	graphics {
		/* Menu */
        additional_text:                string(STR_DESC_922_SERIES_GIMMICK);
        //cargo_subtype_text:             sw_922_series_year_dep_subtype_text;
		can_attach_wagon:				sw_922_series_attach_vehid;
		start_stop:						sw_922_series_stop_start;
        purchase_weight:                61;
        purchase_power:                 248 * 4;
        /* Graphics */
        default:                        sw_922_series_graphics;
		purchase:                       ss_922_series_buy;
		articulated_part:               sw_922_series_articulated_part;
        visual_effect_and_powered:      sw_visual_effect_and_powered;
		/* Stats */
        length:                        	sw_param_length;
        speed:							sw_922_series_speed;
		weight:                         NumberCarsInConsist() * 61;
        power:                          NumberCarsInConsist() * 248 * 4;	// 185 kW
        cargo_capacity:                 28 * CapacityFactor();															
		loading_speed:					28 * CapacityFactor() / param_loading_2D;					// Capacity divided by door loading factor
		cargo_age_period:				param_decay_express;
        cost_factor:                    125;
		running_cost_factor:            0;
		purchase_running_cost_factor:   0;
	}
	/*Multiple Unit Car*/
	
      livery_override(mu_car_full){
        default:                        sw_922_series_graphics;
        cargo_capacity:                 0;
        cargo_age_period:				param_decay_express;
        loading_speed:					25;
		articulated_part:				sw_mucar_full_articulated_part;
		length:							sw_param_length;
        running_cost_factor:            0;
      }
}}

// MAIL
if (param_dryellow == 1) {

item(FEAT_TRAINS, series_922) {
	property {
		/* Menu */
        name: 							string(STR_NAME_922_SERIES);
        sprite_id:                      SPRITE_ID_NEW_TRAIN; 		// required to enable new graphics
        misc_flags:                     bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_TILT, TRAIN_FLAG_AUTOREFIT);
		running_cost_base:              RUNNING_COST_ELECTRIC;
		engine_class:                   ENGINE_CLASS_ELECTRIC;
        variant_group:					123;
        /* Availability */
		climates_available:             ALL_CLIMATES;
		introduction_date:              date(1964,10,01);           // Date of launch
		model_life:                     1987 - 1964;		        // Constructed until 1986, in service to 2008
		vehicle_life:                   30;							// Same as JapanSet
        track_type:                     SHINKANSEN;
        extra_flags:					bitmask(VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW);
		/* Cargo */
        reliability_decay:              5;
		refittable_cargo_classes:       bitmask(CC_MAIL);
		refit_cost:                     0;
		default_cargo_type:             MAIL;
		cargo_capacity:                 1;							// 
		loading_speed:                  50;                         // Changed by callback						
		cargo_age_period:               278; 						// Default 185 x 1.5
		/* Stats */
        speed:                          211 km/h;                   // Changed by callback
        power:                          8050 kW;	                // Changed by callback				
		weight:                         1464 ton;                   // Changed by callback					
		tractive_effort_coefficient:    0.3;                        // Standard
		air_drag_coefficient:			0;
	}
	graphics {
		/* Menu */
        additional_text:                string(STR_DESC_922_SERIES_MAIL);
        //cargo_subtype_text:             sw_922_series_year_dep_subtype_text;
		can_attach_wagon:				sw_922_series_attach_vehid;
		start_stop:						sw_922_series_stop_start;
        purchase_weight:                61;
        purchase_power:                 248 * 4;
        /* Graphics */
        default:                        sw_922_series_graphics;
		purchase:                       ss_922_series_buy;
		articulated_part:               sw_922_series_articulated_part;
        visual_effect_and_powered:      sw_visual_effect_and_powered;
		/* Stats */
        length:                        	sw_param_length;
        speed:							sw_922_series_speed;
		weight:                         NumberCarsInConsist() * 61;
        power:                          NumberCarsInConsist() * 248 * 4;	// 185 kW
        cargo_capacity:                 28 * CapacityFactor();															
		loading_speed:					28 * CapacityFactor() / param_loading_2D;					// Capacity divided by door loading factor
		cargo_age_period:				param_decay_express;
        cost_factor:                    125;
		running_cost_factor:            sw_922_series_running_cost_factor;
		purchase_running_cost_factor:   300 + 125 * NumberCarsInConsist();
	}
	/*Multiple Unit Car*/
	
      livery_override(mu_car_full){
        default:                        sw_922_series_graphics;
        cargo_capacity:                 40 * CapacityFactor();
        cargo_age_period:				param_decay_express;
        loading_speed:					40 * CapacityFactor() / param_loading_2D;
		articulated_part:				sw_mucar_full_articulated_part;
		length:							sw_param_length;
      }
}}

// PASSENGERS
if (param_dryellow == 2)  {

item(FEAT_TRAINS, series_922) {
	property {
		/* Menu */
        name: 							string(STR_NAME_922_SERIES);
        sprite_id:                      SPRITE_ID_NEW_TRAIN; 		// required to enable new graphics
        misc_flags:                     bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_TILT, TRAIN_FLAG_AUTOREFIT);
		running_cost_base:              RUNNING_COST_ELECTRIC;
		engine_class:                   ENGINE_CLASS_ELECTRIC;
        variant_group:					123;
        /* Availability */
		climates_available:             ALL_CLIMATES;
		introduction_date:              date(1964,10,01);           // Date of launch
		model_life:                     1987 - 1964;		        // Constructed until 1986, in service to 2008
		vehicle_life:                   30;							// Same as JapanSet
        track_type:                     SHINKANSEN;
        extra_flags:					bitmask(VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW);
		/* Cargo */
        reliability_decay:              5;
		refittable_cargo_classes:       bitmask(CC_PASSENGERS);
		refit_cost:                     0;
		default_cargo_type:             PASS;
        ai_special_flag:                AI_FLAG_PASSENGER;
		cargo_capacity:                 1;							// 
		loading_speed:                  50;                         // Changed by callback						
		cargo_age_period:               278; 						// Default 185 x 1.5
		/* Stats */
        speed:                          211 km/h;                   // Changed by callback
        power:                          8050 kW;	                // Changed by callback				
		weight:                         1464 ton;                   // Changed by callback					
		tractive_effort_coefficient:    0.3;                        // Standard
		air_drag_coefficient:			0;
	}
	graphics {
		/* Menu */
        additional_text:                string(STR_DESC_922_SERIES);
        //cargo_subtype_text:             sw_922_series_year_dep_subtype_text;
		can_attach_wagon:				sw_922_series_attach_vehid;
		start_stop:						sw_922_series_stop_start;
        purchase_weight:                61;
        purchase_power:                 248 * 4;
        /* Graphics */
        default:                        sw_922_series_graphics;
		purchase:                       ss_922_series_buy;
		articulated_part:               sw_922_series_articulated_part;
        visual_effect_and_powered:      sw_visual_effect_and_powered;
		/* Stats */
        length:                        	sw_param_length;
        speed:							sw_922_series_speed;
		weight:                         NumberCarsInConsist() * 61;
        power:                          NumberCarsInConsist() * 248 * 4;	// 185 kW
        cargo_capacity:                 28 * CapacityFactor();															
		loading_speed:					28 * CapacityFactor() / param_loading_2D;					// Capacity divided by door loading factor
		cargo_age_period:				param_decay_express;
        cost_factor:                    125;
		running_cost_factor:            sw_922_series_running_cost_factor;
		purchase_running_cost_factor:   300 + 125 * NumberCarsInConsist();
	}
	/*Multiple Unit Car*/
	
      livery_override(mu_car_full){
        default:                        sw_922_series_graphics;
        cargo_capacity:                 28 * CapacityFactor();
        cargo_age_period:				param_decay_express;
        loading_speed:					28 * CapacityFactor() / param_loading_2D;
		articulated_part:				sw_mucar_full_articulated_part;
		length:							sw_param_length;
      }
}}

/* End 922 series */
# 1 "JPplusShinkansen.pnml" 4
# 1 "src/trains/n700_series/n700_series.pnml" 1

# 1 "src/trains/n700_series/pnml/n700_series_menu.pnml" 1
/* Purchase Menu */
    spriteset (ss_n700_series_buy,	        			"src/trains/dummy/purchase.png") {template_purchase(0, 0)}
    alternative_sprites(ss_n700_series_buy,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/buy_n700.png") {template_purchase(0, 0)}

/*---Cargo Subtype Menu---*/
    switch(FEAT_TRAINS, SELF, sw_n700_series_subtype_text, cargo_subtype) {
            0: return string(LV_N700_SERIES_N700);          	// N700
            1: return string(LV_N700_SERIES_N700_2CC);          // 2cc
            2: return string(LV_N700_SERIES_KYUSHU);          	// Kyushu
            return CB_RESULT_NO_TEXT;
            }
# 1 "src/trains/n700_series/n700_series.pnml" 2
# 1 "src/trains/n700_series/pnml/sprites/n700_series_cab01.pnml" 1
/* cab01 */

// FORWARDS

// N700 Series Original
spriteset(ss_n700_series_cab01f_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_cab01f_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_cab01f_original_12,      ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/n700.png") {template_12_standard(1,1)}
alternative_sprites(ss_n700_series_cab01f_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/n700.png") {template_10_standard(1,1)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_cab01f_original, param_spritelength) {
	1: ss_n700_series_cab01f_original_10;				    // Length 10
	ss_n700_series_cab01f_original_12;				        // Length 12
}

// N700 Series 2cc
spriteset(ss_n700_series_cab01f_original_2cc_12,            "src/trains/n700_series/12/n700_2cc.png") {template_12_standard(1,1)}
spriteset(ss_n700_series_cab01f_original_2cc_10,            "src/trains/n700_series/10/n700_2cc.png") {template_10_standard(1,1)}

switch (FEAT_TRAINS, SELF, sw_n700_series_cab01f_original_2cc, param_spritelength) {
	1: ss_n700_series_cab01f_original_2cc_10;				 // Length 10
	ss_n700_series_cab01f_original_2cc_12;					 // Length 12
}

// N700 Series Kyushu Rail Star
spriteset(ss_n700_series_cab01f_kyushu_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_cab01f_kyushu_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_cab01f_kyushu_12,        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/kyushu.png") {template_12_standard(1,1)}
alternative_sprites(ss_n700_series_cab01f_kyushu_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/kyushu.png") {template_10_standard(1,1)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_cab01f_kyushu, param_spritelength) {
	1: ss_n700_series_cab01f_kyushu_10;				        // Length 10
	ss_n700_series_cab01f_kyushu_12;				        // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_n700_series_cab01f, cargo_subtype) {
        1: sw_n700_series_cab01f_original_2cc;
        2: sw_n700_series_cab01f_kyushu;
        sw_n700_series_cab01f_original;
    }

// BACKWARDS

// N700 Series Original
spriteset(ss_n700_series_cab01b_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_cab01b_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_cab01b_original_12,      ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/n700.png") {template_12_reversed(1,41)}
alternative_sprites(ss_n700_series_cab01b_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/n700.png") {template_10_reversed(1,41)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_cab01b_original, param_spritelength) {
	1: ss_n700_series_cab01b_original_10;				    // Length 10
	ss_n700_series_cab01b_original_12;				        // Length 12
}

// N700 Series Original 2cc
spriteset(ss_n700_series_cab01b_original_2cc_12,            "src/trains/n700_series/12/n700_2cc.png") {template_12_reversed(1,41)}
spriteset(ss_n700_series_cab01b_original_2cc_10,            "src/trains/n700_series/10/n700_2cc.png") {template_10_reversed(1,41)}

switch (FEAT_TRAINS, SELF, sw_n700_series_cab01b_original_2cc, param_spritelength) {
	1: ss_n700_series_cab01b_original_2cc_10;				 // Length 10
	ss_n700_series_cab01b_original_2cc_12;					 // Length 12
}

// N700 Series Kyushu
spriteset(ss_n700_series_cab01b_kyushu_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_cab01b_kyushu_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_cab01b_kyushu_12,         ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/kyushu.png") {template_12_reversed(1,41)}
alternative_sprites(ss_n700_series_cab01b_kyushu_10,	     ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/kyushu.png") {template_10_reversed(1,41)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_cab01b_kyushu, param_spritelength) {
	1: ss_n700_series_cab01b_kyushu_10;				        // Length 10
	ss_n700_series_cab01b_kyushu_12;				        // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_n700_series_cab01b, cargo_subtype) {
        1: sw_n700_series_cab01b_original_2cc;
        2: sw_n700_series_cab01b_kyushu;
        sw_n700_series_cab01b_original;
    }
# 1 "src/trains/n700_series/n700_series.pnml" 2
# 1 "src/trains/n700_series/pnml/sprites/n700_series_cab02.pnml" 1
/* cab02 */

// FORWARDS

// N700 Series Original
spriteset(ss_n700_series_cab02f_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_cab02f_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_cab02f_original_12,      ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/n700.png") {template_12_cab_rev_standard(1,41)}
alternative_sprites(ss_n700_series_cab02f_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/n700.png") {template_10_cab_rev_standard(1,41)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_cab02f_original, param_spritelength) {
	1: ss_n700_series_cab02f_original_10;				    // Length 10
	ss_n700_series_cab02f_original_12;				        // Length 12
}

// N700 Series 2cc
spriteset(ss_n700_series_cab02f_original_2cc_12,            "src/trains/n700_series/12/n700_2cc.png") {template_12_cab_rev_standard(1,41)}
spriteset(ss_n700_series_cab02f_original_2cc_10,            "src/trains/n700_series/10/n700_2cc.png") {template_10_cab_rev_standard(1,41)}

switch (FEAT_TRAINS, SELF, sw_n700_series_cab02f_original_2cc, param_spritelength) {
	1: ss_n700_series_cab02f_original_2cc_10;				 // Length 10
	ss_n700_series_cab02f_original_2cc_12;					 // Length 12
}

// N700 Series Kyushu Rail Star
spriteset(ss_n700_series_cab02f_kyushu_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_cab02f_kyushu_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_cab02f_kyushu_12,        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/kyushu.png") {template_12_cab_rev_standard(1,41)}
alternative_sprites(ss_n700_series_cab02f_kyushu_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/kyushu.png") {template_10_cab_rev_standard(1,41)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_cab02f_kyushu, param_spritelength) {
	1: ss_n700_series_cab02f_kyushu_10;				        // Length 10
	ss_n700_series_cab02f_kyushu_12;				        // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_n700_series_cab02f, cargo_subtype) {
        1: sw_n700_series_cab02f_original_2cc;
        2: sw_n700_series_cab02f_kyushu;
        sw_n700_series_cab02f_original;
    }

// BACKWARDS

// N700 Series Original
spriteset(ss_n700_series_cab02b_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_cab02b_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_cab02b_original_12,      ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/n700.png") {template_12_cab_rev_reversed(1,1)}
alternative_sprites(ss_n700_series_cab02b_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/n700.png") {template_10_cab_rev_reversed(1,1)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_cab02b_original, param_spritelength) {
	1: ss_n700_series_cab02b_original_10;				    // Length 10
	ss_n700_series_cab02b_original_12;				        // Length 12
}

// N700 Series Original 2cc
spriteset(ss_n700_series_cab02b_original_2cc_12,            "src/trains/n700_series/12/n700_2cc.png") {template_12_cab_rev_reversed(1,1)}
spriteset(ss_n700_series_cab02b_original_2cc_10,            "src/trains/n700_series/10/n700_2cc.png") {template_10_cab_rev_reversed(1,1)}

switch (FEAT_TRAINS, SELF, sw_n700_series_cab02b_original_2cc, param_spritelength) {
	1: ss_n700_series_cab02b_original_2cc_10;				 // Length 10
	ss_n700_series_cab02b_original_2cc_12;					 // Length 12
}

// N700 Series Kyushu
spriteset(ss_n700_series_cab02b_kyushu_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_cab02b_kyushu_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_cab02b_kyushu_12,         ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/kyushu.png") {template_12_cab_rev_reversed(1,1)}
alternative_sprites(ss_n700_series_cab02b_kyushu_10,	     ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/kyushu.png") {template_10_cab_rev_reversed(1,1)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_cab02b_kyushu, param_spritelength) {
	1: ss_n700_series_cab02b_kyushu_10;				        // Length 10
	ss_n700_series_cab02b_kyushu_12;				        // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_n700_series_cab02b, cargo_subtype) {
        1: sw_n700_series_cab02b_original_2cc;
        2: sw_n700_series_cab02b_kyushu;
        sw_n700_series_cab02b_original;
    }
# 1 "src/trains/n700_series/n700_series.pnml" 2
# 1 "src/trains/n700_series/pnml/sprites/n700_series_coach.pnml" 1
/* coach */

// FORWARDS

// N700 Series Original
spriteset(ss_n700_series_coachf_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_coachf_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_coachf_original_12,      ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/n700.png") {template_12_standard(1,121)}
alternative_sprites(ss_n700_series_coachf_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/n700.png") {template_10_standard(1,121)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_coachf_original, param_spritelength) {
	1: ss_n700_series_coachf_original_10;				    // Length 10
	ss_n700_series_coachf_original_12;				        // Length 12
}

// N700 Series 2cc
spriteset(ss_n700_series_coachf_original_2cc_12,            "src/trains/n700_series/12/n700_2cc.png") {template_12_standard(1,121)}
spriteset(ss_n700_series_coachf_original_2cc_10,            "src/trains/n700_series/10/n700_2cc.png") {template_10_standard(1,121)}

switch (FEAT_TRAINS, SELF, sw_n700_series_coachf_original_2cc, param_spritelength) {
	1: ss_n700_series_coachf_original_2cc_10;				 // Length 10
	ss_n700_series_coachf_original_2cc_12;					 // Length 12
}

// N700 Series Kyushu
spriteset(ss_n700_series_coachf_kyushu_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_coachf_kyushu_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_coachf_kyushu_12,        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/kyushu.png") {template_12_standard(1,121)}
alternative_sprites(ss_n700_series_coachf_kyushu_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/kyushu.png") {template_10_standard(1,121)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_coachf_kyushu, param_spritelength) {
	1: ss_n700_series_coachf_kyushu_10;				        // Length 10
	ss_n700_series_coachf_kyushu_12;				        // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_n700_series_coachf, cargo_subtype) {
        1: sw_n700_series_coachf_original_2cc;
        2: sw_n700_series_coachf_kyushu;
        sw_n700_series_coachf_original;
    }

// BACKWARDS

// N700 Series Original
spriteset(ss_n700_series_coachb_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_coachb_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_coachb_original_12,      ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/n700.png") {template_12_reversed(1,121)}
alternative_sprites(ss_n700_series_coachb_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/n700.png") {template_10_reversed(1,121)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_coachb_original, param_spritelength) {
	1: ss_n700_series_coachb_original_10;				    // Length 10
	ss_n700_series_coachb_original_12;				        // Length 12
}

// N700 Series Original 2cc
spriteset(ss_n700_series_coachb_original_2cc_12,            "src/trains/n700_series/12/n700_2cc.png") {template_12_reversed(1,121)}
spriteset(ss_n700_series_coachb_original_2cc_10,            "src/trains/n700_series/10/n700_2cc.png") {template_10_reversed(1,121)}

switch (FEAT_TRAINS, SELF, sw_n700_series_coachb_original_2cc, param_spritelength) {
	1: ss_n700_series_coachb_original_2cc_10;				 // Length 10
	ss_n700_series_coachb_original_2cc_12;					 // Length 12
}

// N700 Series Kyushu
spriteset(ss_n700_series_coachb_kyushu_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_coachb_kyushu_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_coachb_kyushu_12,         ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/kyushu.png") {template_12_reversed(1,121)}
alternative_sprites(ss_n700_series_coachb_kyushu_10,	     ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/kyushu.png") {template_10_reversed(1,121)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_coachb_kyushu, param_spritelength) {
	1: ss_n700_series_coachb_kyushu_10;				        // Length 10
	ss_n700_series_coachb_kyushu_12;				        // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_n700_series_coachb, cargo_subtype) {
        1: sw_n700_series_coachb_original_2cc;
        2: sw_n700_series_coachb_kyushu;
        sw_n700_series_coachb_original;
    }
# 1 "src/trains/n700_series/n700_series.pnml" 2
# 1 "src/trains/n700_series/pnml/sprites/n700_series_pant1.pnml" 1
/* pant1 */

// FORWARDS

// N700 Series Original
spriteset(ss_n700_series_pant1f_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_pant1f_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_pant1f_original_12,      ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/n700.png") {template_12_standard(1,81)}
alternative_sprites(ss_n700_series_pant1f_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/n700.png") {template_10_standard(1,81)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_pant1f_original, param_spritelength) {
	1: ss_n700_series_pant1f_original_10;				    // Length 10
	ss_n700_series_pant1f_original_12;				        // Length 12
}

// N700 Series 2cc
spriteset(ss_n700_series_pant1f_original_2cc_12,            "src/trains/n700_series/12/n700_2cc.png") {template_12_standard(1,81)}
spriteset(ss_n700_series_pant1f_original_2cc_10,            "src/trains/n700_series/10/n700_2cc.png") {template_10_standard(1,81)}

switch (FEAT_TRAINS, SELF, sw_n700_series_pant1f_original_2cc, param_spritelength) {
	1: ss_n700_series_pant1f_original_2cc_10;				 // Length 10
	ss_n700_series_pant1f_original_2cc_12;					 // Length 12
}

// N700 Series Kyushu Rail Star
spriteset(ss_n700_series_pant1f_kyushu_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_pant1f_kyushu_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_pant1f_kyushu_12,        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/kyushu.png") {template_12_standard(1,81)}
alternative_sprites(ss_n700_series_pant1f_kyushu_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/kyushu.png") {template_10_standard(1,81)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_pant1f_kyushu, param_spritelength) {
	1: ss_n700_series_pant1f_kyushu_10;				        // Length 10
	ss_n700_series_pant1f_kyushu_12;				        // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_n700_series_pant1f, cargo_subtype) {
        1: sw_n700_series_pant1f_original_2cc;
        2: sw_n700_series_pant1f_kyushu;
        sw_n700_series_pant1f_original;
    }

// BACKWARDS

// N700 Series Original
spriteset(ss_n700_series_pant1b_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_pant1b_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_pant1b_original_12,      ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/n700.png") {template_12_reversed(1,81)}
alternative_sprites(ss_n700_series_pant1b_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/n700.png") {template_10_reversed(1,81)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_pant1b_original, param_spritelength) {
	1: ss_n700_series_pant1b_original_10;				    // Length 10
	ss_n700_series_pant1b_original_12;				        // Length 12
}

// N700 Series Original 2cc
spriteset(ss_n700_series_pant1b_original_2cc_12,            "src/trains/n700_series/12/n700_2cc.png") {template_12_reversed(1,81)}
spriteset(ss_n700_series_pant1b_original_2cc_10,            "src/trains/n700_series/10/n700_2cc.png") {template_10_reversed(1,81)}

switch (FEAT_TRAINS, SELF, sw_n700_series_pant1b_original_2cc, param_spritelength) {
	1: ss_n700_series_pant1b_original_2cc_10;				 // Length 10
	ss_n700_series_pant1b_original_2cc_12;					 // Length 12
}

// N700 Series Kyushu
spriteset(ss_n700_series_pant1b_kyushu_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_pant1b_kyushu_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_pant1b_kyushu_12,         ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/kyushu.png") {template_12_reversed(1,81)}
alternative_sprites(ss_n700_series_pant1b_kyushu_10,	     ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/kyushu.png") {template_10_reversed(1,81)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_pant1b_kyushu, param_spritelength) {
	1: ss_n700_series_pant1b_kyushu_10;				        // Length 10
	ss_n700_series_pant1b_kyushu_12;				        // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_n700_series_pant1b, cargo_subtype) {
        1: sw_n700_series_pant1b_original_2cc;
        2: sw_n700_series_pant1b_kyushu;
        sw_n700_series_pant1b_original;
    }
# 1 "src/trains/n700_series/n700_series.pnml" 2
# 1 "src/trains/n700_series/pnml/sprites/n700_series_pant2.pnml" 1
/* pant2 */

// FORWARDS

// N700 Series Original
spriteset(ss_n700_series_pant2f_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_pant2f_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_pant2f_original_12,      ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/n700.png") {template_12_cab_rev_standard(1,81)}
alternative_sprites(ss_n700_series_pant2f_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/n700.png") {template_10_cab_rev_standard(1,81)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_pant2f_original, param_spritelength) {
	1: ss_n700_series_pant2f_original_10;				    // Length 10
	ss_n700_series_pant2f_original_12;				        // Length 12
}

// N700 Series 2cc
spriteset(ss_n700_series_pant2f_original_2cc_12,            "src/trains/n700_series/12/n700_2cc.png") {template_12_cab_rev_standard(1,81)}
spriteset(ss_n700_series_pant2f_original_2cc_10,            "src/trains/n700_series/10/n700_2cc.png") {template_10_cab_rev_standard(1,81)}

switch (FEAT_TRAINS, SELF, sw_n700_series_pant2f_original_2cc, param_spritelength) {
	1: ss_n700_series_pant2f_original_2cc_10;				 // Length 10
	ss_n700_series_pant2f_original_2cc_12;					 // Length 12
}

// N700 Series Kyushu Rail Star
spriteset(ss_n700_series_pant2f_kyushu_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_pant2f_kyushu_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_pant2f_kyushu_12,        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/kyushu.png") {template_12_cab_rev_standard(1,81)}
alternative_sprites(ss_n700_series_pant2f_kyushu_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/kyushu.png") {template_10_cab_rev_standard(1,81)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_pant2f_kyushu, param_spritelength) {
	1: ss_n700_series_pant2f_kyushu_10;				        // Length 10
	ss_n700_series_pant2f_kyushu_12;				        // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_n700_series_pant2f, cargo_subtype) {
        1: sw_n700_series_pant2f_original_2cc;
        2: sw_n700_series_pant2f_kyushu;
        sw_n700_series_pant2f_original;
    }

// BACKWARDS

// N700 Series Original
spriteset(ss_n700_series_pant2b_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_pant2b_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_pant2b_original_12,      ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/n700.png") {template_12_cab_rev_reversed(1,81)}
alternative_sprites(ss_n700_series_pant2b_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/n700.png") {template_10_cab_rev_reversed(1,81)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_pant2b_original, param_spritelength) {
	1: ss_n700_series_pant2b_original_10;				    // Length 10
	ss_n700_series_pant2b_original_12;				        // Length 12
}

// N700 Series Original 2cc
spriteset(ss_n700_series_pant2b_original_2cc_12,            "src/trains/n700_series/12/n700_2cc.png") {template_12_cab_rev_reversed(1,81)}
spriteset(ss_n700_series_pant2b_original_2cc_10,            "src/trains/n700_series/10/n700_2cc.png") {template_10_cab_rev_reversed(1,81)}

switch (FEAT_TRAINS, SELF, sw_n700_series_pant2b_original_2cc, param_spritelength) {
	1: ss_n700_series_pant2b_original_2cc_10;				 // Length 10
	ss_n700_series_pant2b_original_2cc_12;					 // Length 12
}

// N700 Series Kyushu
spriteset(ss_n700_series_pant2b_kyushu_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_pant2b_kyushu_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_pant2b_kyushu_12,         ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/kyushu.png") {template_12_cab_rev_reversed(1,81)}
alternative_sprites(ss_n700_series_pant2b_kyushu_10,	     ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/kyushu.png") {template_10_cab_rev_reversed(1,81)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_pant2b_kyushu, param_spritelength) {
	1: ss_n700_series_pant2b_kyushu_10;				        // Length 10
	ss_n700_series_pant2b_kyushu_12;				        // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_n700_series_pant2b, cargo_subtype) {
        1: sw_n700_series_pant2b_original_2cc;
        2: sw_n700_series_pant2b_kyushu;
        sw_n700_series_pant2b_original;
    }
# 1 "src/trains/n700_series/n700_series.pnml" 2
# 1 "src/trains/n700_series/pnml/n700_series_formations.pnml" 1

/* Midcars */
    // coaches    
        switch (FEAT_TRAINS, PARENT, sw_n700_series_coaches, vehicle_is_reversed) {				
                1:  sw_n700_series_coachb;
                sw_n700_series_coachf;			
            }

    /* long */
        switch (FEAT_TRAINS, SELF, sw_n700_series_long_panto_backwards, position_in_consist_from_end == 13 ) {				
                1:  sw_n700_series_pant1b;
                sw_n700_series_pant2b;				
            }

        switch (FEAT_TRAINS, SELF, sw_n700_series_long_panto_forwards, position_in_consist == 13 ) {				
                1:  sw_n700_series_pant1f;
                sw_n700_series_pant2f;				
            }
        
        switch (FEAT_TRAINS, PARENT, sw_n700_series_long_panto_positions, vehicle_is_reversed) {				
                1:  sw_n700_series_long_panto_backwards;
                sw_n700_series_long_panto_forwards;			
            }

        switch (FEAT_TRAINS, SELF, sw_n700_series_long, position_in_consist == 13 || position_in_consist_from_end == 13) {				
                1:  sw_n700_series_long_panto_positions;
                sw_n700_series_coaches;				
            }

    /* penultimate pantos */
        switch (FEAT_TRAINS, SELF, sw_n700_series_penultimate_panto_backwards, position_in_consist_from_end == 4 ) {				
                1:  sw_n700_series_pant1b;
                sw_n700_series_pant2b;				
            }

        switch (FEAT_TRAINS, SELF, sw_n700_series_penultimate_panto_forwards, position_in_consist == 4 ) {				
                1:  sw_n700_series_pant1f;
                sw_n700_series_pant2f;				
            }
        
        switch (FEAT_TRAINS, PARENT, sw_n700_series_penultimate_panto_positions, vehicle_is_reversed) {				
                1:  sw_n700_series_penultimate_panto_backwards;
                sw_n700_series_penultimate_panto_forwards;			
            }

        switch (FEAT_TRAINS, SELF, sw_n700_series_penultimate_pantos, position_in_consist == 4 || position_in_consist_from_end == 4) {				
                1:  sw_n700_series_penultimate_panto_positions;
                sw_n700_series_coaches;				
            }

    /* panto_in_middle */
        // Backwards
        switch (FEAT_TRAINS, SELF, sw_n700_series_panto_in_middle_backwards, (position_in_consist == position_in_consist_from_end ) || (position_in_consist - 3 == position_in_consist_from_end)) {				
                0:  sw_n700_series_coachb;
                sw_n700_series_pant1b;
            }

        // Forwards
        switch (FEAT_TRAINS, SELF, sw_n700_series_panto_in_middle_forwards, (position_in_consist == position_in_consist_from_end ) || (position_in_consist - 3 == position_in_consist_from_end)) {				
                0:  sw_n700_series_coachf;
                sw_n700_series_pant1f;				
            }

        switch (FEAT_TRAINS, PARENT, sw_n700_series_panto_in_middle, vehicle_is_reversed) {				
                1:  sw_n700_series_panto_in_middle_backwards;
                sw_n700_series_panto_in_middle_forwards;				
            }

    /* Midcar selection */
    switch (FEAT_TRAINS, SELF, sw_n700_series_midcars, num_vehs_in_consist ) {				
			1..21:  sw_n700_series_panto_in_middle;
            22..39:  sw_n700_series_penultimate_pantos;
			sw_n700_series_long;				
		}

/* Cab selection */
    // Rear cab
    switch (FEAT_TRAINS, PARENT, sw_n700_series_rear, vehicle_is_reversed) {				
            1:  sw_n700_series_cab01b;                   // cab01	
            sw_n700_series_cab02f;                       // cab02
        }

    // Lead cab
    switch (FEAT_TRAINS, PARENT, sw_n700_series_lead, vehicle_is_reversed) {				
            1:  sw_n700_series_cab02b;                   // cab02
            sw_n700_series_cab01f;                       // cab01	
        }

/* Find the cabs */
    switch (FEAT_TRAINS, SELF, sw_n700_series_lead_or_rear, position_in_consist) {				
            1:  sw_n700_series_lead;
            sw_n700_series_rear;				
        }
    
    switch (FEAT_TRAINS, SELF, sw_n700_series_ends, position_in_consist == 1 || position_in_consist_from_end == 1) {				
            1:  sw_n700_series_lead_or_rear;
            sw_n700_series_midcars;				
        }
# 1 "src/trains/n700_series/n700_series.pnml" 2
# 1 "src/trains/n700_series/pnml/n700_series_item.pnml" 1
switch (FEAT_TRAINS, SELF, sw_n700_series_graphics, position_in_consist % 3) {				
		1:  sw_n700_series_ends; 				
		dummy_sprites;
	}

switch (FEAT_TRAINS, SELF, sw_n700_series_articulated_part, extra_callback_info1) {
		1 .. 2: return series_n700;									
		return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
	}

/*---Coupling Switch---*/
switch(FEAT_TRAINS, SELF, sw_n700_series_attach_vehid, [vehicle_type_id == mu_car_full]) {
 0: return string(ONLY_ADD_MUCAR);
}

/*---Length Check---*/
switch (FEAT_TRAINS, SELF, sw_n700_series_stop_start, num_vehs_in_consist < 12) {				
		1:  return string(STR_LENGTH_ERROR); 				
		return CB_RESULT_NO_TEXT; 
	}


item(FEAT_TRAINS, series_n700) {
	property {
		/* Menu */
        name: 							string(STR_NAME_N700_SERIES);
        sprite_id:                      SPRITE_ID_NEW_TRAIN; 		// required to enable new graphics
		misc_flags:                     bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU, TRAIN_FLAG_TILT, TRAIN_FLAG_AUTOREFIT, TRAIN_FLAG_SPRITE_STACK);
        running_cost_base:              RUNNING_COST_ELECTRIC;
		engine_class:                   ENGINE_CLASS_ELECTRIC;
        /* Availability */
        climates_available:             ALL_CLIMATES;
		introduction_date:              date(2007,07,01);
		model_life:                     VEHICLE_NEVER_EXPIRES;		//
		vehicle_life:                   30;							// 
		track_type:                     SHINKANSEN;
        /* Cargo */
        reliability_decay:              5;
		refittable_cargo_classes:       bitmask(CC_PASSENGERS);
		refit_cost:                     0;
		default_cargo_type:             PASS;
		ai_special_flag:                AI_FLAG_PASSENGER;
        cargo_capacity:                 1;							// 
		loading_speed:                  50;							
		cargo_age_period:               278; 						// Default 185 x 1.5
		/* Stats */
		speed:                          301 km/h;				    // Overwritten by callback
    	power:                          22900 kW;					// Overwritten by callback
		weight:                         648 tons;					// Overwritten by callback
		tractive_effort_coefficient:    0.3;

	}
	graphics {
		/* Menu */
        additional_text:                string(STR_DESC_N700_SERIES);
        cargo_subtype_text:             sw_n700_series_subtype_text;
		can_attach_wagon:				sw_n700_series_attach_vehid;
		start_stop:						sw_n700_series_stop_start;
        purchase_weight:                44;
        purchase_power:                 409 * 4;
        /* Graphics */
        default:                        sw_n700_series_graphics;
		purchase:                       ss_n700_series_buy;
		articulated_part:               sw_n700_series_articulated_part;
		visual_effect_and_powered:      sw_visual_effect_and_powered;
        /* Stats */
        length:                         sw_param_length;
        weight:                         NumberCarsInConsist() * 44;
        power:                         	max (( NumberCarsInConsist() - 2 ) , 0 )* 409 * 4;
		cargo_capacity:                 28 * CapacityFactor();															
		loading_speed:					28 * CapacityFactor() / param_loading_2D;					// Capacity divided by door loading factor
		cost_factor:                    138;
		running_cost_factor:            (300 + 125 * NumberCarsInConsist() ) * RunningCostFactor();
		purchase_running_cost_factor:   300 + 125 * NumberCarsInConsist();
	}
	/*Multiple Unit Car*/
	
      livery_override(mu_car_full){
        default:                        sw_n700_series_graphics;
        cargo_capacity:                 28 * CapacityFactor();	
        cargo_age_period:				param_decay_express;
        loading_speed:                  28 * CapacityFactor() / param_loading_2D;
		articulated_part:				sw_mucar_full_articulated_part;
		length:							sw_param_length;
		//power:						// Apply power in graphics block to calculate power based on number of motorised cars correctly
		//weight:						// Apply weight to graphics block to calculate Max T.E. correctly
        //running_cost_factor:            sw_n700_series_running_costs;
      }
}
# 1 "src/trains/n700_series/n700_series.pnml" 2
# 1 "JPplusShinkansen.pnml" 4
# 1 "src/trains/n700_series/n700a_series.pnml" 1

# 1 "src/trains/n700_series/pnml/n700a_series_menu.pnml" 1
/* Subtypes */

	switch(FEAT_TRAINS, SELF, sw_n700a_series_subtype_text, cargo_subtype) {
		0: return string(LV_N700_SERIES_N700A);                            
		1: return string(LV_N700_SERIES_N700A_2CC);                      
		return CB_RESULT_NO_TEXT;
		}

/* Purchase Menu */
    spriteset (ss_n700a_series_buy,	        				"src/trains/dummy/purchase.png") {template_purchase(0, 0)}
    alternative_sprites(ss_n700a_series_buy,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/buy_n700a.png") {template_purchase(0, 0)}
# 1 "src/trains/n700_series/n700a_series.pnml" 2
# 1 "src/trains/n700_series/pnml/sprites/n700_series_caba1.pnml" 1
/* caba1 */

// FORWARDS

// N700 Series Original
spriteset(ss_n700_series_caba1f_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_caba1f_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_caba1f_original_12,      ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/n700a.png") {template_12_standard(1,1)}
alternative_sprites(ss_n700_series_caba1f_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/n700a.png") {template_10_standard(1,1)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_caba1f_original, param_spritelength) {
	1: ss_n700_series_caba1f_original_10;				    // Length 10
	ss_n700_series_caba1f_original_12;				        // Length 12
}

// N700 Series 2cc
spriteset(ss_n700_series_caba1f_original_2cc_12,            "src/trains/n700_series/12/n700a_2cc.png") {template_12_standard(1,1)}
spriteset(ss_n700_series_caba1f_original_2cc_10,            "src/trains/n700_series/10/n700a_2cc.png") {template_10_standard(1,1)}

switch (FEAT_TRAINS, SELF, sw_n700_series_caba1f_original_2cc, param_spritelength) {
	1: ss_n700_series_caba1f_original_2cc_10;				 // Length 10
	ss_n700_series_caba1f_original_2cc_12;					 // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_n700_series_caba1f, cargo_subtype) {
        1: sw_n700_series_caba1f_original_2cc;
        sw_n700_series_caba1f_original;
    }

// BACKWARDS

// N700 Series Original
spriteset(ss_n700_series_caba1b_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_caba1b_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_caba1b_original_12,      ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/n700a.png") {template_12_reversed(1,41)}
alternative_sprites(ss_n700_series_caba1b_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/n700a.png") {template_10_reversed(1,41)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_caba1b_original, param_spritelength) {
	1: ss_n700_series_caba1b_original_10;				    // Length 10
	ss_n700_series_caba1b_original_12;				        // Length 12
}

// N700 Series Original 2cc
spriteset(ss_n700_series_caba1b_original_2cc_12,            "src/trains/n700_series/12/n700a_2cc.png") {template_12_reversed(1,41)}
spriteset(ss_n700_series_caba1b_original_2cc_10,            "src/trains/n700_series/10/n700a_2cc.png") {template_10_reversed(1,41)}

switch (FEAT_TRAINS, SELF, sw_n700_series_caba1b_original_2cc, param_spritelength) {
	1: ss_n700_series_caba1b_original_2cc_10;				 // Length 10
	ss_n700_series_caba1b_original_2cc_12;					 // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_n700_series_caba1b, cargo_subtype) {
        1: sw_n700_series_caba1b_original_2cc;
        sw_n700_series_caba1b_original;
    }
# 1 "src/trains/n700_series/n700a_series.pnml" 2
# 1 "src/trains/n700_series/pnml/sprites/n700_series_caba2.pnml" 1
/* caba2 */

// FORWARDS

// N700 Series Original
spriteset(ss_n700_series_caba2f_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_caba2f_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_caba2f_original_12,      ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/n700a.png") {template_12_cab_rev_standard(1,41)}
alternative_sprites(ss_n700_series_caba2f_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/n700a.png") {template_10_cab_rev_standard(1,41)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_caba2f_original, param_spritelength) {
	1: ss_n700_series_caba2f_original_10;				    // Length 10
	ss_n700_series_caba2f_original_12;				        // Length 12
}

// N700 Series 2cc
spriteset(ss_n700_series_caba2f_original_2cc_12,            "src/trains/n700_series/12/n700a_2cc.png") {template_12_cab_rev_standard(1,41)}
spriteset(ss_n700_series_caba2f_original_2cc_10,            "src/trains/n700_series/10/n700a_2cc.png") {template_10_cab_rev_standard(1,41)}

switch (FEAT_TRAINS, SELF, sw_n700_series_caba2f_original_2cc, param_spritelength) {
	1: ss_n700_series_caba2f_original_2cc_10;				 // Length 10
	ss_n700_series_caba2f_original_2cc_12;					 // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_n700_series_caba2f, cargo_subtype) {
        1: sw_n700_series_caba2f_original_2cc;
        sw_n700_series_caba2f_original;
    }

// BACKWARDS

// N700 Series Original
spriteset(ss_n700_series_caba2b_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_caba2b_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_caba2b_original_12,      ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/n700a.png") {template_12_cab_rev_reversed(1,1)}
alternative_sprites(ss_n700_series_caba2b_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/n700a.png") {template_10_cab_rev_reversed(1,1)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_caba2b_original, param_spritelength) {
	1: ss_n700_series_caba2b_original_10;				    // Length 10
	ss_n700_series_caba2b_original_12;				        // Length 12
}

// N700 Series Original 2cc
spriteset(ss_n700_series_caba2b_original_2cc_12,            "src/trains/n700_series/12/n700a_2cc.png") {template_12_cab_rev_reversed(1,1)}
spriteset(ss_n700_series_caba2b_original_2cc_10,            "src/trains/n700_series/10/n700a_2cc.png") {template_10_cab_rev_reversed(1,1)}

switch (FEAT_TRAINS, SELF, sw_n700_series_caba2b_original_2cc, param_spritelength) {
	1: ss_n700_series_caba2b_original_2cc_10;				 // Length 10
	ss_n700_series_caba2b_original_2cc_12;					 // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_n700_series_caba2b, cargo_subtype) {
        1: sw_n700_series_caba2b_original_2cc;
        sw_n700_series_caba2b_original;
    }
# 1 "src/trains/n700_series/n700a_series.pnml" 2
# 1 "src/trains/n700_series/pnml/n700a_series_formations.pnml" 1

/* Midcars */
    // coaches    
        switch (FEAT_TRAINS, PARENT, sw_n700a_series_coaches, vehicle_is_reversed) {				
                1:  sw_n700_series_coachb;
                sw_n700_series_coachf;			
            }

    /* long */
        switch (FEAT_TRAINS, SELF, sw_n700a_series_long_panto_backwards, position_in_consist_from_end == 13 ) {				
                1:  sw_n700_series_pant1b;
                sw_n700_series_pant2b;				
            }

        switch (FEAT_TRAINS, SELF, sw_n700a_series_long_panto_forwards, position_in_consist == 13 ) {				
                1:  sw_n700_series_pant1f;
                sw_n700_series_pant2f;				
            }
        
        switch (FEAT_TRAINS, PARENT, sw_n700a_series_long_panto_positions, vehicle_is_reversed) {				
                1:  sw_n700a_series_long_panto_backwards;
                sw_n700a_series_long_panto_forwards;			
            }

        switch (FEAT_TRAINS, SELF, sw_n700a_series_long, position_in_consist == 13 || position_in_consist_from_end == 13) {				
                1:  sw_n700a_series_long_panto_positions;
                sw_n700a_series_coaches;				
            }

    /* penultimate pantos */
        switch (FEAT_TRAINS, SELF, sw_n700a_series_penultimate_panto_backwards, position_in_consist_from_end == 4 ) {				
                1:  sw_n700_series_pant1b;
                sw_n700_series_pant2b;				
            }

        switch (FEAT_TRAINS, SELF, sw_n700a_series_penultimate_panto_forwards, position_in_consist == 4 ) {				
                1:  sw_n700_series_pant1f;
                sw_n700_series_pant2f;				
            }
        
        switch (FEAT_TRAINS, PARENT, sw_n700a_series_penultimate_panto_positions, vehicle_is_reversed) {				
                1:  sw_n700a_series_penultimate_panto_backwards;
                sw_n700a_series_penultimate_panto_forwards;			
            }

        switch (FEAT_TRAINS, SELF, sw_n700a_series_penultimate_pantos, position_in_consist == 4 || position_in_consist_from_end == 4) {				
                1:  sw_n700a_series_penultimate_panto_positions;
                sw_n700a_series_coaches;				
            }

    /* panto_in_middle */
        // Backwards
        switch (FEAT_TRAINS, SELF, sw_n700a_series_panto_in_middle_backwards, (position_in_consist == position_in_consist_from_end ) || (position_in_consist - 3 == position_in_consist_from_end)) {				
                0:  sw_n700_series_coachb;
                sw_n700_series_pant1b;
            }

        // Forwards
        switch (FEAT_TRAINS, SELF, sw_n700a_series_panto_in_middle_forwards, (position_in_consist == position_in_consist_from_end ) || (position_in_consist - 3 == position_in_consist_from_end)) {				
                0:  sw_n700_series_coachf;
                sw_n700_series_pant1f;				
            }

        switch (FEAT_TRAINS, PARENT, sw_n700a_series_panto_in_middle, vehicle_is_reversed) {				
                1:  sw_n700a_series_panto_in_middle_backwards;
                sw_n700a_series_panto_in_middle_forwards;				
            }

    /* Midcar selection */
    switch (FEAT_TRAINS, SELF, sw_n700a_series_midcars, num_vehs_in_consist ) {				
			1..21:  sw_n700a_series_panto_in_middle;
            22..39:  sw_n700a_series_penultimate_pantos;
			sw_n700a_series_long;				
		}

/* Cab selection */
    // Rear cab
    switch (FEAT_TRAINS, PARENT, sw_n700a_series_rear, vehicle_is_reversed) {				
            1:  sw_n700_series_caba1b;                   // cab01	
            sw_n700_series_caba2f;                       // cab02
        }

    // Lead cab
    switch (FEAT_TRAINS, PARENT, sw_n700a_series_lead, vehicle_is_reversed) {				
            1:  sw_n700_series_caba2b;                   // cab02
            sw_n700_series_caba1f;                       // cab01	
        }

/* Find the cabs */
    switch (FEAT_TRAINS, SELF, sw_n700a_series_lead_or_rear, position_in_consist) {				
            1:  sw_n700a_series_lead;
            sw_n700a_series_rear;				
        }
    
    switch (FEAT_TRAINS, SELF, sw_n700a_series_ends, position_in_consist == 1 || position_in_consist_from_end == 1) {				
            1:  sw_n700a_series_lead_or_rear;
            sw_n700a_series_midcars;				
        }
# 1 "src/trains/n700_series/n700a_series.pnml" 2
# 1 "src/trains/n700_series/pnml/n700a_series_item.pnml" 1
switch (FEAT_TRAINS, SELF, sw_n700a_series_graphics, position_in_consist % 3) {				
		1:  sw_n700a_series_ends; 				
		dummy_sprites;
	}

switch (FEAT_TRAINS, SELF, sw_n700a_series_articulated_part, extra_callback_info1) {
		1 .. 2: return series_n700a;									
		return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
	}

/*---Coupling Switch---*/
switch(FEAT_TRAINS, SELF, sw_n700a_series_attach_vehid, [vehicle_type_id == mu_car_full]) {
 0: return string(ONLY_ADD_MUCAR);
}

/*---Length Check---*/
switch (FEAT_TRAINS, SELF, sw_n700a_series_stop_start, num_vehs_in_consist < 12) {				
		1:  return string(STR_LENGTH_ERROR); 				
		return CB_RESULT_NO_TEXT; 
	}

item(FEAT_TRAINS, series_n700a) {
	property {
		/* Menu */
        name: 							string(STR_NAME_N700A_SERIES);
        sprite_id:                      SPRITE_ID_NEW_TRAIN; 		// required to enable new graphics
		misc_flags:                     bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU, TRAIN_FLAG_TILT, TRAIN_FLAG_AUTOREFIT, TRAIN_FLAG_SPRITE_STACK);
        running_cost_base:              RUNNING_COST_ELECTRIC;
		engine_class:                   ENGINE_CLASS_ELECTRIC;
		variant_group:					707;
        /* Availability */
        climates_available:             ALL_CLIMATES;
		introduction_date:              date(2013,02,08);
		model_life:                     VEHICLE_NEVER_EXPIRES;		//
		vehicle_life:                   30;							// 
		track_type:                     SHINKANSEN;
		extra_flags:					bitmask(VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW);
        /* Cargo */
        reliability_decay:              5;
		refittable_cargo_classes:       bitmask(CC_PASSENGERS);
		refit_cost:                     0;
		default_cargo_type:             PASS;
		ai_special_flag:                AI_FLAG_PASSENGER;
        cargo_capacity:                 1;							// 
		loading_speed:                  50;							
		cargo_age_period:               278; 						// Default 185 x 1.5
		/* Stats */
		speed:                          301 km/h;				    // Overwritten by callback
    	power:                          22900 kW;					// Overwritten by callback
		weight:                         648 tons;					// Overwritten by callback
		tractive_effort_coefficient:    0.3;

	}
	graphics {
		/* Menu */
        additional_text:                string(STR_DESC_N700A_SERIES);
		cargo_subtype_text:             sw_n700a_series_subtype_text;
		can_attach_wagon:				sw_n700a_series_attach_vehid;
		start_stop:						sw_n700a_series_stop_start;
		purchase_weight:                44;
        purchase_power:                 409 * 4;
        /* Graphics */
        default:                        sw_n700a_series_graphics;
		purchase:                       ss_n700a_series_buy;
		articulated_part:               sw_n700a_series_articulated_part;
		visual_effect_and_powered:      sw_visual_effect_and_powered;
        /* Stats */
        length:                         sw_param_length;
        weight:                         NumberCarsInConsist() * 44;
        power:                         	max (( NumberCarsInConsist() - 2 ) , 0 )* 409 * 4;
		cargo_capacity:                 28 * CapacityFactor();															
		loading_speed:					28 * CapacityFactor() / param_loading_2D;					// Capacity divided by door loading factor
		cost_factor:                    138;
		running_cost_factor:            (300 + 125 * NumberCarsInConsist() ) * RunningCostFactor();
		purchase_running_cost_factor:   300 + 125 * NumberCarsInConsist();
	}
	/*Multiple Unit Car*/
	
      livery_override(mu_car_full){
        default:                        sw_n700a_series_graphics;
        cargo_capacity:                 28 * CapacityFactor();	
        cargo_age_period:				param_decay_express;
        loading_speed:                  28 * CapacityFactor() / param_loading_2D;
		articulated_part:				sw_mucar_full_articulated_part;
		length:							sw_param_length;
		//power:						// Apply power in graphics block to calculate power based on number of motorised cars correctly
		//weight:						// Apply weight to graphics block to calculate Max T.E. correctly
        //running_cost_factor:            sw_n700a_series_running_costs;
      }
}
# 1 "src/trains/n700_series/n700a_series.pnml" 2
# 1 "JPplusShinkansen.pnml" 4
# 1 "src/trains/n700_series/n700s_series.pnml" 1

# 1 "src/trains/n700_series/pnml/n700s_series_menu.pnml" 1
/*---Cargo Subtype Menu---*/
    switch(FEAT_TRAINS, SELF, sw_n700s_series_subtype_text, cargo_subtype) {
            0: return string(LV_N700_SERIES_N700S);          	// N700
            1: return string(LV_N700_SERIES_N700S_2CC);         // 2cc
		    2: return string(LV_N700_SERIES_KAMOME);          	// Kamome
            3: return string(LV_N700_SERIES_KAMOME_2CC);        // Kamome 2cc
            return CB_RESULT_NO_TEXT;
            }

/* Purchase Menu */
    spriteset (ss_n700s_series_buy,	        					"src/trains/dummy/purchase.png") {template_purchase(0, 0)}
    alternative_sprites(ss_n700s_series_buy,     				ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/buy_n700s.png") {template_purchase(0, 0)}

# 1 "src/trains/n700_series/n700s_series.pnml" 2
# 1 "src/trains/n700_series/pnml/sprites/n700_series_cabs1.pnml" 1
/* cabs1 */

// FORWARDS

// N700S Series Original
spriteset(ss_n700_series_cabs1f_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_cabs1f_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_cabs1f_original_12,      ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/n700s.png") {template_12_standard(1,1)}
alternative_sprites(ss_n700_series_cabs1f_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/n700s.png") {template_10_standard(1,1)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_cabs1f_original, param_spritelength) {
	1: ss_n700_series_cabs1f_original_10;				    // Length 10
	ss_n700_series_cabs1f_original_12;				        // Length 12
}

// N700S Series 2cc
spriteset(ss_n700_series_cabs1f_original_2cc_12,            "src/trains/n700_series/12/n700s_2cc.png") {template_12_standard(1,1)}
spriteset(ss_n700_series_cabs1f_original_2cc_10,            "src/trains/n700_series/10/n700s_2cc.png") {template_10_standard(1,1)}

switch (FEAT_TRAINS, SELF, sw_n700_series_cabs1f_original_2cc, param_spritelength) {
	1: ss_n700_series_cabs1f_original_2cc_10;				 // Length 10
	ss_n700_series_cabs1f_original_2cc_12;					 // Length 12
}

// N700S Series Kamome
spriteset(ss_n700_series_cabs1f_kamome_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_cabs1f_kamome_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_cabs1f_kamome_12,        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/kamome.png") {template_12_standard(1,1)}
alternative_sprites(ss_n700_series_cabs1f_kamome_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/kamome.png") {template_10_standard(1,1)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_cabs1f_kamome, param_spritelength) {
	1: ss_n700_series_cabs1f_kamome_10;				        // Length 10
	ss_n700_series_cabs1f_kamome_12;				        // Length 12
}

// N700S Series Kamome 2cc
spriteset(ss_n700_series_cabs1f_kamome_2cc_12,              "src/trains/n700_series/12/kamome_2cc.png") {template_12_standard(1,1)}
spriteset(ss_n700_series_cabs1f_kamome_2cc_10,          	"src/trains/n700_series/10/kamome_2cc.png") {template_10_standard(1,1)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_cabs1f_kamome_2cc, param_spritelength) {
	1: ss_n700_series_cabs1f_kamome_2cc_10;				        // Length 10
	ss_n700_series_cabs1f_kamome_2cc_12;				        // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_n700_series_cabs1f, cargo_subtype) {
        1: sw_n700_series_cabs1f_original_2cc;
        2: sw_n700_series_cabs1f_kamome;
        3: sw_n700_series_cabs1f_kamome_2cc;
        sw_n700_series_cabs1f_original;
    }

// BACKWARDS

// N700 Series Original
spriteset(ss_n700_series_cabs1b_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_cabs1b_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_cabs1b_original_12,      ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/n700s.png") {template_12_reversed(1,41)}
alternative_sprites(ss_n700_series_cabs1b_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/n700s.png") {template_10_reversed(1,41)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_cabs1b_original, param_spritelength) {
	1: ss_n700_series_cabs1b_original_10;				    // Length 10
	ss_n700_series_cabs1b_original_12;				        // Length 12
}

// N700 Series Original 2cc
spriteset(ss_n700_series_cabs1b_original_2cc_12,            "src/trains/n700_series/12/n700s_2cc.png") {template_12_reversed(1,41)}
spriteset(ss_n700_series_cabs1b_original_2cc_10,            "src/trains/n700_series/10/n700s_2cc.png") {template_10_reversed(1,41)}

switch (FEAT_TRAINS, SELF, sw_n700_series_cabs1b_original_2cc, param_spritelength) {
	1: ss_n700_series_cabs1b_original_2cc_10;				 // Length 10
	ss_n700_series_cabs1b_original_2cc_12;					 // Length 12
}

// N700 Series Kamome
spriteset(ss_n700_series_cabs1b_kamome_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_cabs1b_kamome_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_cabs1b_kamome_12,         ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/kamome.png") {template_12_reversed(1,41)}
alternative_sprites(ss_n700_series_cabs1b_kamome_10,	     ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/kamome.png") {template_10_reversed(1,41)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_cabs1b_kamome, param_spritelength) {
	1: ss_n700_series_cabs1b_kamome_10;				        // Length 10
	ss_n700_series_cabs1b_kamome_12;				        // Length 12
}

// N700 Series Kamome 2cc
spriteset(ss_n700_series_cabs1b_kamome_2cc_12,          	"src/trains/n700_series/12/kamome_2cc.png") {template_12_reversed(1,41)}
spriteset(ss_n700_series_cabs1b_kamome_2cc_10,              "src/trains/n700_series/10/kamome_2cc.png") {template_10_reversed(1,41)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_cabs1b_kamome_2cc, param_spritelength) {
	1: ss_n700_series_cabs1b_kamome_2cc_10;				    // Length 10
	ss_n700_series_cabs1b_kamome_2cc_12;				    // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_n700_series_cabs1b, cargo_subtype) {
        1: sw_n700_series_cabs1b_original_2cc;
        2: sw_n700_series_cabs1b_kamome;
        3: sw_n700_series_cabs1b_kamome_2cc;
        sw_n700_series_cabs1b_original;
    }
# 1 "src/trains/n700_series/n700s_series.pnml" 2
# 1 "src/trains/n700_series/pnml/sprites/n700_series_cabs2.pnml" 1
/* cabs2 */

// FORWARDS

// N700 Series Original
spriteset(ss_n700_series_cabs2f_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_cabs2f_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_cabs2f_original_12,      ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/n700s.png") {template_12_cab_rev_standard(1,41)}
alternative_sprites(ss_n700_series_cabs2f_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/n700s.png") {template_10_cab_rev_standard(1,41)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_cabs2f_original, param_spritelength) {
	1: ss_n700_series_cabs2f_original_10;				    // Length 10
	ss_n700_series_cabs2f_original_12;				        // Length 12
}

// N700 Series 2cc
spriteset(ss_n700_series_cabs2f_original_2cc_12,            "src/trains/n700_series/12/n700s_2cc.png") {template_12_cab_rev_standard(1,41)}
spriteset(ss_n700_series_cabs2f_original_2cc_10,            "src/trains/n700_series/10/n700s_2cc.png") {template_10_cab_rev_standard(1,41)}

switch (FEAT_TRAINS, SELF, sw_n700_series_cabs2f_original_2cc, param_spritelength) {
	1: ss_n700_series_cabs2f_original_2cc_10;				 // Length 10
	ss_n700_series_cabs2f_original_2cc_12;					 // Length 12
}

// N700 Series Kamome
spriteset(ss_n700_series_cabs2f_kamome_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_cabs2f_kamome_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_cabs2f_kamome_12,        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/kamome.png") {template_12_cab_rev_standard(1,41)}
alternative_sprites(ss_n700_series_cabs2f_kamome_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/kamome.png") {template_10_cab_rev_standard(1,41)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_cabs2f_kamome, param_spritelength) {
	1: ss_n700_series_cabs2f_kamome_10;				        // Length 10
	ss_n700_series_cabs2f_kamome_12;				        // Length 12
}

// N700 Series Kamome 2cc
spriteset(ss_n700_series_cabs2f_kamome_2cc_12,              "src/trains/n700_series/12/kamome_2cc.png") {template_12_cab_rev_standard(1,41)}
spriteset(ss_n700_series_cabs2f_kamome_2cc_10,              "src/trains/n700_series/10/kamome_2cc.png") {template_10_cab_rev_standard(1,41)}

switch (FEAT_TRAINS, SELF, sw_n700_series_cabs2f_kamome_2cc, param_spritelength) {
	1: ss_n700_series_cabs2f_kamome_2cc_10;				    // Length 10
	ss_n700_series_cabs2f_kamome_2cc_12;					 // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_n700_series_cabs2f, cargo_subtype) {
        1: sw_n700_series_cabs2f_original_2cc;
        2: sw_n700_series_cabs2f_kamome;
        3: sw_n700_series_cabs2f_kamome_2cc;
        sw_n700_series_cabs2f_original;
    }

// BACKWARDS

// N700 Series Original
spriteset(ss_n700_series_cabs2b_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_cabs2b_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_cabs2b_original_12,      ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/n700s.png") {template_12_cab_rev_reversed(1,1)}
alternative_sprites(ss_n700_series_cabs2b_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/n700s.png") {template_10_cab_rev_reversed(1,1)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_cabs2b_original, param_spritelength) {
	1: ss_n700_series_cabs2b_original_10;				    // Length 10
	ss_n700_series_cabs2b_original_12;				        // Length 12
}

// N700 Series Original 2cc
spriteset(ss_n700_series_cabs2b_original_2cc_12,            "src/trains/n700_series/12/n700s_2cc.png") {template_12_cab_rev_reversed(1,1)}
spriteset(ss_n700_series_cabs2b_original_2cc_10,            "src/trains/n700_series/10/n700s_2cc.png") {template_10_cab_rev_reversed(1,1)}

switch (FEAT_TRAINS, SELF, sw_n700_series_cabs2b_original_2cc, param_spritelength) {
	1: ss_n700_series_cabs2b_original_2cc_10;				 // Length 10
	ss_n700_series_cabs2b_original_2cc_12;					 // Length 12
}

// N700 Series kamome
spriteset(ss_n700_series_cabs2b_kamome_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_cabs2b_kamome_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_cabs2b_kamome_12,         ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/kamome.png") {template_12_cab_rev_reversed(1,1)}
alternative_sprites(ss_n700_series_cabs2b_kamome_10,	     ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/kamome.png") {template_10_cab_rev_reversed(1,1)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_cabs2b_kamome, param_spritelength) {
	1: ss_n700_series_cabs2b_kamome_10;				        // Length 10
	ss_n700_series_cabs2b_kamome_12;				        // Length 12
}

// N700 Series Kamome 2cc
spriteset(ss_n700_series_cabs2b_kamome_2cc_12,              "src/trains/n700_series/12/kamome_2cc.png") {template_12_cab_rev_reversed(1,1)}
spriteset(ss_n700_series_cabs2b_kamome_2cc_10,              "src/trains/n700_series/10/kamome_2cc.png") {template_10_cab_rev_reversed(1,1)}

switch (FEAT_TRAINS, SELF, sw_n700_series_cabs2b_kamome_2cc, param_spritelength) {
	1: ss_n700_series_cabs2b_kamome_2cc_10;				    // Length 10
	ss_n700_series_cabs2b_kamome_2cc_12;					// Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_n700_series_cabs2b, cargo_subtype) {
        1: sw_n700_series_cabs2b_original_2cc;
        2: sw_n700_series_cabs2b_kamome;
        3: sw_n700_series_cabs2b_kamome_2cc;
        sw_n700_series_cabs2b_original;
    }
# 1 "src/trains/n700_series/n700s_series.pnml" 2
# 1 "src/trains/n700_series/pnml/sprites/n700_series_coash.pnml" 1
/* coash */

// FORWARDS

// N700S Series Original
spriteset(ss_n700_series_coashf_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_coashf_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_coashf_original_12,      ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/n700s.png") {template_12_standard(1,121)}
alternative_sprites(ss_n700_series_coashf_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/n700s.png") {template_10_standard(1,121)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_coashf_original, param_spritelength) {
	1: ss_n700_series_coashf_original_10;				    // Length 10
	ss_n700_series_coashf_original_12;				        // Length 12
}

// N700S Series 2cc
spriteset(ss_n700_series_coashf_original_2cc_12,            "src/trains/n700_series/12/n700s_2cc.png") {template_12_standard(1,121)}
spriteset(ss_n700_series_coashf_original_2cc_10,            "src/trains/n700_series/10/n700s_2cc.png") {template_10_standard(1,121)}

switch (FEAT_TRAINS, SELF, sw_n700_series_coashf_original_2cc, param_spritelength) {
	1: ss_n700_series_coashf_original_2cc_10;				 // Length 10
	ss_n700_series_coashf_original_2cc_12;					 // Length 12
}

// N700S Series Kamome
spriteset(ss_n700_series_coashf_kamome_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_coashf_kamome_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_coashf_kamome_12,        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/kamome.png") {template_12_standard(1,121)}
alternative_sprites(ss_n700_series_coashf_kamome_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/kamome.png") {template_10_standard(1,121)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_coashf_kamome, param_spritelength) {
	1: ss_n700_series_coashf_kamome_10;				        // Length 10
	ss_n700_series_coashf_kamome_12;				        // Length 12
}

// N700S Series Kamome 2cc
spriteset(ss_n700_series_coashf_kamome_2cc_12,              "src/trains/n700_series/12/kamome_2cc.png") {template_12_standard(1,121)}
spriteset(ss_n700_series_coashf_kamome_2cc_10,          	"src/trains/n700_series/10/kamome_2cc.png") {template_10_standard(1,121)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_coashf_kamome_2cc, param_spritelength) {
	1: ss_n700_series_coashf_kamome_2cc_10;				        // Length 10
	ss_n700_series_coashf_kamome_2cc_12;				        // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_n700_series_coashf, cargo_subtype) {
        1: sw_n700_series_coashf_original_2cc;
        2: sw_n700_series_coashf_kamome;
        3: sw_n700_series_coashf_kamome_2cc;
        sw_n700_series_coashf_original;
    }

// BACKWARDS

// N700 Series Original
spriteset(ss_n700_series_coashb_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_coashb_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_coashb_original_12,      ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/n700s.png") {template_12_reversed(1,121)}
alternative_sprites(ss_n700_series_coashb_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/n700s.png") {template_10_reversed(1,121)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_coashb_original, param_spritelength) {
	1: ss_n700_series_coashb_original_10;				    // Length 10
	ss_n700_series_coashb_original_12;				        // Length 12
}

// N700 Series Original 2cc
spriteset(ss_n700_series_coashb_original_2cc_12,            "src/trains/n700_series/12/n700s_2cc.png") {template_12_reversed(1,121)}
spriteset(ss_n700_series_coashb_original_2cc_10,            "src/trains/n700_series/10/n700s_2cc.png") {template_10_reversed(1,121)}

switch (FEAT_TRAINS, SELF, sw_n700_series_coashb_original_2cc, param_spritelength) {
	1: ss_n700_series_coashb_original_2cc_10;				 // Length 10
	ss_n700_series_coashb_original_2cc_12;					 // Length 12
}

// N700 Series Kamome
spriteset(ss_n700_series_coashb_kamome_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_coashb_kamome_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_coashb_kamome_12,         ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/kamome.png") {template_12_reversed(1,121)}
alternative_sprites(ss_n700_series_coashb_kamome_10,	     ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/kamome.png") {template_10_reversed(1,121)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_coashb_kamome, param_spritelength) {
	1: ss_n700_series_coashb_kamome_10;				        // Length 10
	ss_n700_series_coashb_kamome_12;				        // Length 12
}

// N700 Series Kamome 2cc
spriteset(ss_n700_series_coashb_kamome_2cc_12,          	"src/trains/n700_series/12/kamome_2cc.png") {template_12_reversed(1,121)}
spriteset(ss_n700_series_coashb_kamome_2cc_10,              "src/trains/n700_series/10/kamome_2cc.png") {template_10_reversed(1,121)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_coashb_kamome_2cc, param_spritelength) {
	1: ss_n700_series_coashb_kamome_2cc_10;				    // Length 10
	ss_n700_series_coashb_kamome_2cc_12;				    // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_n700_series_coashb, cargo_subtype) {
        1: sw_n700_series_coashb_original_2cc;
        2: sw_n700_series_coashb_kamome;
        3: sw_n700_series_coashb_kamome_2cc;
        sw_n700_series_coashb_original;
    }
# 1 "src/trains/n700_series/n700s_series.pnml" 2
# 1 "src/trains/n700_series/pnml/sprites/n700_series_pans1.pnml" 1
/* pans1 */

// FORWARDS

// N700S Series Original
spriteset(ss_n700_series_pans1f_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_pans1f_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_pans1f_original_12,      ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/n700s.png") {template_12_standard(1,81)}
alternative_sprites(ss_n700_series_pans1f_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/n700s.png") {template_10_standard(1,81)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_pans1f_original, param_spritelength) {
	1: ss_n700_series_pans1f_original_10;				    // Length 10
	ss_n700_series_pans1f_original_12;				        // Length 12
}

// N700S Series 2cc
spriteset(ss_n700_series_pans1f_original_2cc_12,            "src/trains/n700_series/12/n700s_2cc.png") {template_12_standard(1,81)}
spriteset(ss_n700_series_pans1f_original_2cc_10,            "src/trains/n700_series/10/n700s_2cc.png") {template_10_standard(1,81)}

switch (FEAT_TRAINS, SELF, sw_n700_series_pans1f_original_2cc, param_spritelength) {
	1: ss_n700_series_pans1f_original_2cc_10;				 // Length 10
	ss_n700_series_pans1f_original_2cc_12;					 // Length 12
}

// N700S Series Kamome
spriteset(ss_n700_series_pans1f_kamome_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_pans1f_kamome_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_pans1f_kamome_12,        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/kamome.png") {template_12_standard(1,81)}
alternative_sprites(ss_n700_series_pans1f_kamome_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/kamome.png") {template_10_standard(1,81)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_pans1f_kamome, param_spritelength) {
	1: ss_n700_series_pans1f_kamome_10;				        // Length 10
	ss_n700_series_pans1f_kamome_12;				        // Length 12
}

// N700S Series Kamome 2cc
spriteset(ss_n700_series_pans1f_kamome_2cc_12,              "src/trains/n700_series/12/kamome_2cc.png") {template_12_standard(1,81)}
spriteset(ss_n700_series_pans1f_kamome_2cc_10,          	"src/trains/n700_series/10/kamome_2cc.png") {template_10_standard(1,81)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_pans1f_kamome_2cc, param_spritelength) {
	1: ss_n700_series_pans1f_kamome_2cc_10;				        // Length 10
	ss_n700_series_pans1f_kamome_2cc_12;				        // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_n700_series_pans1f, cargo_subtype) {
        1: sw_n700_series_pans1f_original_2cc;
        2: sw_n700_series_pans1f_kamome;
        3: sw_n700_series_pans1f_kamome_2cc;
        sw_n700_series_pans1f_original;
    }

// BACKWARDS

// N700 Series Original
spriteset(ss_n700_series_pans1b_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_pans1b_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_pans1b_original_12,      ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/n700s.png") {template_12_reversed(1,81)}
alternative_sprites(ss_n700_series_pans1b_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/n700s.png") {template_10_reversed(1,81)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_pans1b_original, param_spritelength) {
	1: ss_n700_series_pans1b_original_10;				    // Length 10
	ss_n700_series_pans1b_original_12;				        // Length 12
}

// N700 Series Original 2cc
spriteset(ss_n700_series_pans1b_original_2cc_12,            "src/trains/n700_series/12/n700s_2cc.png") {template_12_reversed(1,81)}
spriteset(ss_n700_series_pans1b_original_2cc_10,            "src/trains/n700_series/10/n700s_2cc.png") {template_10_reversed(1,81)}

switch (FEAT_TRAINS, SELF, sw_n700_series_pans1b_original_2cc, param_spritelength) {
	1: ss_n700_series_pans1b_original_2cc_10;				 // Length 10
	ss_n700_series_pans1b_original_2cc_12;					 // Length 12
}

// N700 Series Kamome
spriteset(ss_n700_series_pans1b_kamome_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_pans1b_kamome_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_pans1b_kamome_12,         ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/kamome.png") {template_12_reversed(1,81)}
alternative_sprites(ss_n700_series_pans1b_kamome_10,	     ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/kamome.png") {template_10_reversed(1,81)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_pans1b_kamome, param_spritelength) {
	1: ss_n700_series_pans1b_kamome_10;				        // Length 10
	ss_n700_series_pans1b_kamome_12;				        // Length 12
}

// N700 Series Kamome 2cc
spriteset(ss_n700_series_pans1b_kamome_2cc_12,          	"src/trains/n700_series/12/kamome_2cc.png") {template_12_reversed(1,81)}
spriteset(ss_n700_series_pans1b_kamome_2cc_10,              "src/trains/n700_series/10/kamome_2cc.png") {template_10_reversed(1,81)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_pans1b_kamome_2cc, param_spritelength) {
	1: ss_n700_series_pans1b_kamome_2cc_10;				    // Length 10
	ss_n700_series_pans1b_kamome_2cc_12;				    // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_n700_series_pans1b, cargo_subtype) {
        1: sw_n700_series_pans1b_original_2cc;
        2: sw_n700_series_pans1b_kamome;
        3: sw_n700_series_pans1b_kamome_2cc;
        sw_n700_series_pans1b_original;
    }
# 1 "src/trains/n700_series/n700s_series.pnml" 2
# 1 "src/trains/n700_series/pnml/sprites/n700_series_pans2.pnml" 1
/* pans2 */

// FORWARDS

// N700 Series Original
spriteset(ss_n700_series_pans2f_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_pans2f_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_pans2f_original_12,      ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/n700s.png") {template_12_cab_rev_standard(1,121)}
alternative_sprites(ss_n700_series_pans2f_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/n700s.png") {template_10_cab_rev_standard(1,121)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_pans2f_original, param_spritelength) {
	1: ss_n700_series_pans2f_original_10;				    // Length 10
	ss_n700_series_pans2f_original_12;				        // Length 12
}

// N700 Series 2cc
spriteset(ss_n700_series_pans2f_original_2cc_12,            "src/trains/n700_series/12/n700s_2cc.png") {template_12_cab_rev_standard(1,121)}
spriteset(ss_n700_series_pans2f_original_2cc_10,            "src/trains/n700_series/10/n700s_2cc.png") {template_10_cab_rev_standard(1,121)}

switch (FEAT_TRAINS, SELF, sw_n700_series_pans2f_original_2cc, param_spritelength) {
	1: ss_n700_series_pans2f_original_2cc_10;				 // Length 10
	ss_n700_series_pans2f_original_2cc_12;					 // Length 12
}

// N700 Series Kamome
spriteset(ss_n700_series_pans2f_kamome_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_pans2f_kamome_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_pans2f_kamome_12,        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/kamome.png") {template_12_cab_rev_standard(1,121)}
alternative_sprites(ss_n700_series_pans2f_kamome_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/kamome.png") {template_10_cab_rev_standard(1,121)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_pans2f_kamome, param_spritelength) {
	1: ss_n700_series_pans2f_kamome_10;				        // Length 10
	ss_n700_series_pans2f_kamome_12;				        // Length 12
}

// N700 Series Kamome 2cc
spriteset(ss_n700_series_pans2f_kamome_2cc_12,              "src/trains/n700_series/12/kamome_2cc.png") {template_12_cab_rev_standard(1,121)}
spriteset(ss_n700_series_pans2f_kamome_2cc_10,              "src/trains/n700_series/10/kamome_2cc.png") {template_10_cab_rev_standard(1,121)}

switch (FEAT_TRAINS, SELF, sw_n700_series_pans2f_kamome_2cc, param_spritelength) {
	1: ss_n700_series_pans2f_kamome_2cc_10;				    // Length 10
	ss_n700_series_pans2f_kamome_2cc_12;					 // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_n700_series_pans2f, cargo_subtype) {
        1: sw_n700_series_pans2f_original_2cc;
        2: sw_n700_series_pans2f_kamome;
        3: sw_n700_series_pans2f_kamome_2cc;
        sw_n700_series_pans2f_original;
    }

// BACKWARDS

// N700 Series Original
spriteset(ss_n700_series_pans2b_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_pans2b_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_pans2b_original_12,      ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/n700s.png") {template_12_cab_rev_reversed(1,121)}
alternative_sprites(ss_n700_series_pans2b_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/n700s.png") {template_10_cab_rev_reversed(1,121)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_pans2b_original, param_spritelength) {
	1: ss_n700_series_pans2b_original_10;				    // Length 10
	ss_n700_series_pans2b_original_12;				        // Length 12
}

// N700 Series Original 2cc
spriteset(ss_n700_series_pans2b_original_2cc_12,            "src/trains/n700_series/12/n700s_2cc.png") {template_12_cab_rev_reversed(1,121)}
spriteset(ss_n700_series_pans2b_original_2cc_10,            "src/trains/n700_series/10/n700s_2cc.png") {template_10_cab_rev_reversed(1,121)}

switch (FEAT_TRAINS, SELF, sw_n700_series_pans2b_original_2cc, param_spritelength) {
	1: ss_n700_series_pans2b_original_2cc_10;				 // Length 10
	ss_n700_series_pans2b_original_2cc_12;					 // Length 12
}

// N700 Series kamome
spriteset(ss_n700_series_pans2b_kamome_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_n700_series_pans2b_kamome_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_n700_series_pans2b_kamome_12,         ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/12/kamome.png") {template_12_cab_rev_reversed(1,121)}
alternative_sprites(ss_n700_series_pans2b_kamome_10,	     ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/n700_series/10/kamome.png") {template_10_cab_rev_reversed(1,121)}		

switch (FEAT_TRAINS, SELF, sw_n700_series_pans2b_kamome, param_spritelength) {
	1: ss_n700_series_pans2b_kamome_10;				        // Length 10
	ss_n700_series_pans2b_kamome_12;				        // Length 12
}

// N700 Series Kamome 2cc
spriteset(ss_n700_series_pans2b_kamome_2cc_12,              "src/trains/n700_series/12/kamome_2cc.png") {template_12_cab_rev_reversed(1,121)}
spriteset(ss_n700_series_pans2b_kamome_2cc_10,              "src/trains/n700_series/10/kamome_2cc.png") {template_10_cab_rev_reversed(1,121)}

switch (FEAT_TRAINS, SELF, sw_n700_series_pans2b_kamome_2cc, param_spritelength) {
	1: ss_n700_series_pans2b_kamome_2cc_10;				    // Length 10
	ss_n700_series_pans2b_kamome_2cc_12;					// Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_n700_series_pans2b, cargo_subtype) {
        1: sw_n700_series_pans2b_original_2cc;
        2: sw_n700_series_pans2b_kamome;
        3: sw_n700_series_pans2b_kamome_2cc;
        sw_n700_series_pans2b_original;
    }
# 1 "src/trains/n700_series/n700s_series.pnml" 2
# 1 "src/trains/n700_series/pnml/n700s_series_formations.pnml" 1

/* Midcars */
    // coaches    
        switch (FEAT_TRAINS, PARENT, sw_n700s_series_coaches, vehicle_is_reversed) {				
                1:  sw_n700_series_coashb;
                sw_n700_series_coashf;			
            }

    /* long */
        switch (FEAT_TRAINS, SELF, sw_n700s_series_long_panto_backwards, position_in_consist_from_end == 13 ) {				
                1:  sw_n700_series_pans1b;
                sw_n700_series_pans2b;				
            }

        switch (FEAT_TRAINS, SELF, sw_n700s_series_long_panto_forwards, position_in_consist == 13 ) {				
                1:  sw_n700_series_pans1f;
                sw_n700_series_pans2f;				
            }
        
        switch (FEAT_TRAINS, PARENT, sw_n700s_series_long_panto_positions, vehicle_is_reversed) {				
                1:  sw_n700s_series_long_panto_backwards;
                sw_n700s_series_long_panto_forwards;			
            }

        switch (FEAT_TRAINS, SELF, sw_n700s_series_long, position_in_consist == 13 || position_in_consist_from_end == 13) {				
                1:  sw_n700s_series_long_panto_positions;
                sw_n700s_series_coaches;				
            }

    /* penultimate pantos */
        switch (FEAT_TRAINS, SELF, sw_n700s_series_penultimate_panto_backwards, position_in_consist_from_end == 4 ) {				
                1:  sw_n700_series_pans1b;
                sw_n700_series_pans2b;				
            }

        switch (FEAT_TRAINS, SELF, sw_n700s_series_penultimate_panto_forwards, position_in_consist == 4 ) {				
                1:  sw_n700_series_pans1f;
                sw_n700_series_pans2f;				
            }
        
        switch (FEAT_TRAINS, PARENT, sw_n700s_series_penultimate_panto_positions, vehicle_is_reversed) {				
                1:  sw_n700s_series_penultimate_panto_backwards;
                sw_n700s_series_penultimate_panto_forwards;			
            }

        switch (FEAT_TRAINS, SELF, sw_n700s_series_penultimate_pantos, position_in_consist == 4 || position_in_consist_from_end == 4) {				
                1:  sw_n700s_series_penultimate_panto_positions;
                sw_n700s_series_coaches;				
            }

    /* panto_in_middle */
        // Backwards
        switch (FEAT_TRAINS, SELF, sw_n700s_series_panto_in_middle_backwards, (position_in_consist == position_in_consist_from_end ) || (position_in_consist - 3 == position_in_consist_from_end)) {				
                0:  sw_n700_series_coashb;
                sw_n700_series_pans1b;
            }

        // Forwards
        switch (FEAT_TRAINS, SELF, sw_n700s_series_panto_in_middle_forwards, (position_in_consist == position_in_consist_from_end ) || (position_in_consist - 3 == position_in_consist_from_end)) {				
                0:  sw_n700_series_coashf;
                sw_n700_series_pans1f;				
            }

        switch (FEAT_TRAINS, PARENT, sw_n700s_series_panto_in_middle, vehicle_is_reversed) {				
                1:  sw_n700s_series_panto_in_middle_backwards;
                sw_n700s_series_panto_in_middle_forwards;				
            }

    /* Midcar selection */
    switch (FEAT_TRAINS, SELF, sw_n700s_series_midcars, num_vehs_in_consist ) {				
			1..21:  sw_n700s_series_panto_in_middle;
            22..39:  sw_n700s_series_penultimate_pantos;
			sw_n700s_series_long;				
		}

/* Cab selection */
    // Rear cab
    switch (FEAT_TRAINS, PARENT, sw_n700s_series_rear, vehicle_is_reversed) {				
            1:  sw_n700_series_cabs1b;                   // cab01	
            sw_n700_series_cabs2f;                       // cab02
        }

    // Lead cab
    switch (FEAT_TRAINS, PARENT, sw_n700s_series_lead, vehicle_is_reversed) {				
            1:  sw_n700_series_cabs2b;                   // cab02
            sw_n700_series_cabs1f;                       // cab01	
        }

/* Find the cabs */
    switch (FEAT_TRAINS, SELF, sw_n700s_series_lead_or_rear, position_in_consist) {				
            1:  sw_n700s_series_lead;
            sw_n700s_series_rear;				
        }
    
    switch (FEAT_TRAINS, SELF, sw_n700s_series_ends, position_in_consist == 1 || position_in_consist_from_end == 1) {				
            1:  sw_n700s_series_lead_or_rear;
            sw_n700s_series_midcars;				
        }
# 1 "src/trains/n700_series/n700s_series.pnml" 2
# 1 "src/trains/n700_series/pnml/n700s_series_item.pnml" 1
switch (FEAT_TRAINS, SELF, sw_n700s_series_graphics, position_in_consist % 3) {				
		1:  sw_n700s_series_ends; 				
		dummy_sprites;
	}

switch (FEAT_TRAINS, SELF, sw_n700s_series_articulated_part, extra_callback_info1) {
		1 .. 2: return series_n700s;									
		return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
	}

/*---Coupling Switch---*/
switch(FEAT_TRAINS, SELF, sw_n700s_series_attach_vehid, [vehicle_type_id == mu_car_full]) {
 0: return string(ONLY_ADD_MUCAR);
}

/*---Length Check---*/
switch (FEAT_TRAINS, SELF, sw_n700s_series_stop_start, num_vehs_in_consist < 12) {				
		1:  return string(STR_LENGTH_ERROR); 				
		return CB_RESULT_NO_TEXT; 
	}

item(FEAT_TRAINS, series_n700s) {
	property {
		/* Menu */
        name: 							string(STR_NAME_N700S_SERIES);
        sprite_id:                      SPRITE_ID_NEW_TRAIN; 		// required to enable new graphics
		misc_flags:                     bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU, TRAIN_FLAG_TILT, TRAIN_FLAG_AUTOREFIT, TRAIN_FLAG_SPRITE_STACK);
        running_cost_base:              RUNNING_COST_ELECTRIC;
		engine_class:                   ENGINE_CLASS_ELECTRIC;
		variant_group:					707;
        /* Availability */
        climates_available:             ALL_CLIMATES;
		introduction_date:              date(2020,07,01);
		model_life:                     VEHICLE_NEVER_EXPIRES;		//
		vehicle_life:                   30;							// 
		track_type:                     SHINKANSEN;
		extra_flags:					bitmask(VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW);
        /* Cargo */
        reliability_decay:              5;
		refittable_cargo_classes:       bitmask(CC_PASSENGERS);
		refit_cost:                     0;
		default_cargo_type:             PASS;
		ai_special_flag:                AI_FLAG_PASSENGER;
        cargo_capacity:                 1;							// 
		loading_speed:                  50;							
		cargo_age_period:               278; 						// Default 185 x 1.5
		/* Stats */
		speed:                          360 km/h;				    // Overwritten by callback
    	power:                          22900 kW;					// Overwritten by callback
		weight:                         648 tons;					// Overwritten by callback
		tractive_effort_coefficient:    0.3;

	}
	graphics {
		/* Menu */
        additional_text:                string(STR_DESC_N700S_SERIES);
		cargo_subtype_text:             sw_n700s_series_subtype_text;
		can_attach_wagon:				sw_n700s_series_attach_vehid;
		start_stop:						sw_n700s_series_stop_start;
		purchase_weight:                44;
        purchase_power:                 409 * 4;
        /* Graphics */
        default:                        sw_n700s_series_graphics;
		purchase:                       ss_n700s_series_buy;
		articulated_part:               sw_n700s_series_articulated_part;
		visual_effect_and_powered:      sw_visual_effect_and_powered;
        /* Stats */
        length:                         sw_param_length;
        weight:                         NumberCarsInConsist() * 44;
        power:                         	max (( NumberCarsInConsist() - 2 ) , 0 )* 409 * 4;
		cargo_capacity:                 28 * CapacityFactor();															
		loading_speed:					28 * CapacityFactor() / param_loading_2D;					// Capacity divided by door loading factor
		cost_factor:                    138;
		running_cost_factor:            (300 + 125 * NumberCarsInConsist() ) * RunningCostFactor();
		purchase_running_cost_factor:   300 + 125 * NumberCarsInConsist();
	}
	/*Multiple Unit Car*/
	
      livery_override(mu_car_full){
        default:                        sw_n700s_series_graphics;
        cargo_capacity:                 28 * CapacityFactor();	
        cargo_age_period:				param_decay_express;
        loading_speed:                  28 * CapacityFactor() / param_loading_2D;
		articulated_part:				sw_mucar_full_articulated_part;
		length:							sw_param_length;
		//power:						// Apply power in graphics block to calculate power based on number of motorised cars correctly
		//weight:						// Apply weight to graphics block to calculate Max T.E. correctly
        //running_cost_factor:            sw_n700s_series_running_costs;
      }
}
# 1 "src/trains/n700_series/n700s_series.pnml" 2
# 1 "JPplusShinkansen.pnml" 4
# 1 "src/trains/700_series/700_series.pnml" 1

# 1 "src/trains/700_series/pnml/700_series_menu.pnml" 1
/* SUBTYPES */

    switch(FEAT_TRAINS, SELF, sw_700_series_subtype_text, cargo_subtype) {
	    0: return string(LV_700_SERIES_ORIGINAL);
        1: return string(LV_700_SERIES_ORIGINAL_2CC);
        2: return string(LV_700_SERIES_HIKARI);
        3: return string(LV_700_SERIES_HIKARI_2CC);
        return CB_RESULT_NO_TEXT;
        }

/* GRAPHICS */

	/* Purchase Menu */
    spriteset (ss_700_series_buy_12,	        					"src/trains/dummy/purchase.png") {template_purchase(0, 0)}
	spriteset (ss_700_series_buy_10,	        					"src/trains/dummy/purchase.png") {template_purchase(0, 0)}
    alternative_sprites(ss_700_series_buy_12,     					ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/12/purchase.png") {template_purchase(0, 0)}
	alternative_sprites(ss_700_series_buy_10,     					ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/12/purchase.png") {template_purchase(0, 0)}

		switch (FEAT_TRAINS, SELF, ss_700_series_buy, param_spritelength) {
			1: ss_700_series_buy_10;								// Length 10
			ss_700_series_buy_12;									// Length 12
		}
# 1 "src/trains/700_series/700_series.pnml" 2
# 1 "src/trains/700_series/pnml/sprites/700_series_cab01.pnml" 1
/* cab01 */

// FORWARDS

// 700 Series Original
spriteset(ss_700_series_cab01f_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_700_series_cab01f_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_700_series_cab01f_original_12,       ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/12/original.png") {template_12_standard(1,1)}
alternative_sprites(ss_700_series_cab01f_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/10/original.png") {template_10_standard(1,1)}		

switch (FEAT_TRAINS, SELF, sw_700_series_cab01f_original, param_spritelength) {
	1: ss_700_series_cab01f_original_10;				    // Length 10
	ss_700_series_cab01f_original_12;				        // Length 12
}

// 700 Series 2cc
spriteset(ss_700_series_cab01f_original_2cc_12,             "src/trains/700_series/12/original_2cc.png") {template_12_standard(1,1)}
spriteset(ss_700_series_cab01f_original_2cc_10,             "src/trains/700_series/10/original_2cc.png") {template_10_standard(1,1)}

switch (FEAT_TRAINS, SELF, sw_700_series_cab01f_original_2cc, param_spritelength) {
	1: ss_700_series_cab01f_original_2cc_10;				 // Length 10
	ss_700_series_cab01f_original_2cc_12;					 // Length 12
}

// 700 Series Hikari Rail Star
spriteset(ss_700_series_cab01f_hikari_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_700_series_cab01f_hikari_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_700_series_cab01f_hikari_12,         ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/12/hikari.png") {template_12_standard(1,1)}
alternative_sprites(ss_700_series_cab01f_hikari_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/10/hikari.png") {template_10_standard(1,1)}		

switch (FEAT_TRAINS, SELF, sw_700_series_cab01f_hikari, param_spritelength) {
	1: ss_700_series_cab01f_hikari_10;				        // Length 10
	ss_700_series_cab01f_hikari_12;				            // Length 12
}

// 700 Series Hikari Rail Star cc
spriteset(ss_700_series_cab01f_hikari_2cc_12,             	"src/trains/700_series/12/hikari_2cc.png") {template_12_standard(1,1)}
spriteset(ss_700_series_cab01f_hikari_2cc_10,             	"src/trains/700_series/10/hikari_2cc.png") {template_10_standard(1,1)}

switch (FEAT_TRAINS, SELF, sw_700_series_cab01f_hikari_2cc, param_spritelength) {
	1: ss_700_series_cab01f_hikari_2cc_10;				     // Length 10
	ss_700_series_cab01f_hikari_2cc_12;					     // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_700_series_cab01f, cargo_subtype) {
        1: sw_700_series_cab01f_original_2cc;
        2: sw_700_series_cab01f_hikari;
        3: sw_700_series_cab01f_hikari_2cc;
        sw_700_series_cab01f_original;
    }

// BACKWARDS

// 700 Series Original
spriteset(ss_700_series_cab01b_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_700_series_cab01b_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_700_series_cab01b_original_12,       ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/12/original.png") {template_12_reversed(1,41)}
alternative_sprites(ss_700_series_cab01b_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/10/original.png") {template_10_reversed(1,41)}		

switch (FEAT_TRAINS, SELF, sw_700_series_cab01b_original, param_spritelength) {
	1: ss_700_series_cab01b_original_10;				    // Length 10
	ss_700_series_cab01b_original_12;				        // Length 12
}

// 700 Series Original 2cc
spriteset(ss_700_series_cab01b_original_2cc_12,             "src/trains/700_series/12/original_2cc.png") {template_12_reversed(1,41)}
spriteset(ss_700_series_cab01b_original_2cc_10,             "src/trains/700_series/10/original_2cc.png") {template_10_reversed(1,41)}

switch (FEAT_TRAINS, SELF, sw_700_series_cab01b_original_2cc, param_spritelength) {
	1: ss_700_series_cab01b_original_2cc_10;				 // Length 10
	ss_700_series_cab01b_original_2cc_12;					 // Length 12
}

// 700 Series Type EVA
spriteset(ss_700_series_cab01b_hikari_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_700_series_cab01b_hikari_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_700_series_cab01b_hikari_12,         ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/12/hikari.png") {template_12_reversed(1,41)}
alternative_sprites(ss_700_series_cab01b_hikari_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/10/hikari.png") {template_10_reversed(1,41)}		

switch (FEAT_TRAINS, SELF, sw_700_series_cab01b_hikari, param_spritelength) {
	1: ss_700_series_cab01b_hikari_10;				            // Length 10
	ss_700_series_cab01b_hikari_12;				            // Length 12
}

// 700 Series Hikari 2cc
spriteset(ss_700_series_cab01b_hikari_2cc_12,             "src/trains/700_series/12/hikari_2cc.png") {template_12_reversed(1,41)}
spriteset(ss_700_series_cab01b_hikari_2cc_10,             "src/trains/700_series/10/hikari_2cc.png") {template_10_reversed(1,41)}

switch (FEAT_TRAINS, SELF, sw_700_series_cab01b_hikari_2cc, param_spritelength) {
	1: ss_700_series_cab01b_hikari_2cc_10;				 // Length 10
	ss_700_series_cab01b_hikari_2cc_12;					 // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_700_series_cab01b, cargo_subtype) {
        1: sw_700_series_cab01b_original_2cc;
        2: sw_700_series_cab01b_hikari;
        3: sw_700_series_cab01b_hikari_2cc;
        sw_700_series_cab01b_original;
    }
# 1 "src/trains/700_series/700_series.pnml" 2
# 1 "src/trains/700_series/pnml/sprites/700_series_cab02.pnml" 1
/* cab02 */

// FORWARDS

// 700 Series Original
spriteset(ss_700_series_cab02f_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_700_series_cab02f_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_700_series_cab02f_original_12,       ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/12/original.png") {template_12_cab_rev_standard(1,41)}
alternative_sprites(ss_700_series_cab02f_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/10/original.png") {template_10_cab_rev_standard(1,41)}		

switch (FEAT_TRAINS, SELF, sw_700_series_cab02f_original, param_spritelength) {
	1: ss_700_series_cab02f_original_10;				    // Length 10
	ss_700_series_cab02f_original_12;				        // Length 12
}

// 700 Series 2cc
spriteset(ss_700_series_cab02f_original_2cc_12,             "src/trains/700_series/12/original_2cc.png") {template_12_cab_rev_standard(1,41)}
spriteset(ss_700_series_cab02f_original_2cc_10,             "src/trains/700_series/10/original_2cc.png") {template_10_cab_rev_standard(1,41)}

switch (FEAT_TRAINS, SELF, sw_700_series_cab02f_original_2cc, param_spritelength) {
	1: ss_700_series_cab02f_original_2cc_10;				 // Length 10
	ss_700_series_cab02f_original_2cc_12;					 // Length 12
}

// 700 Series Hikari Rail Star
spriteset(ss_700_series_cab02f_hikari_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_700_series_cab02f_hikari_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_700_series_cab02f_hikari_12,         ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/12/hikari.png") {template_12_cab_rev_standard(1,41)}
alternative_sprites(ss_700_series_cab02f_hikari_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/10/hikari.png") {template_10_cab_rev_standard(1,41)}		

switch (FEAT_TRAINS, SELF, sw_700_series_cab02f_hikari, param_spritelength) {
	1: ss_700_series_cab02f_hikari_10;				        // Length 10
	ss_700_series_cab02f_hikari_12;				            // Length 12
}

// 700 Series Hikari Rail Star cc
spriteset(ss_700_series_cab02f_hikari_2cc_12,             	"src/trains/700_series/12/hikari_2cc.png") {template_12_cab_rev_standard(1,41)}
spriteset(ss_700_series_cab02f_hikari_2cc_10,             	"src/trains/700_series/10/hikari_2cc.png") {template_10_cab_rev_standard(1,41)}

switch (FEAT_TRAINS, SELF, sw_700_series_cab02f_hikari_2cc, param_spritelength) {
	1: ss_700_series_cab02f_hikari_2cc_10;				     // Length 10
	ss_700_series_cab02f_hikari_2cc_12;					     // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_700_series_cab02f, cargo_subtype) {
        1: sw_700_series_cab02f_original_2cc;
        2: sw_700_series_cab02f_hikari;
        3: sw_700_series_cab02f_hikari_2cc;
        sw_700_series_cab02f_original;
    }

// BACKWARDS

// 700 Series Original
spriteset(ss_700_series_cab02b_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_700_series_cab02b_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_700_series_cab02b_original_12,       ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/12/original.png") {template_12_cab_rev_reversed(1,1)}
alternative_sprites(ss_700_series_cab02b_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/10/original.png") {template_10_cab_rev_reversed(1,1)}		

switch (FEAT_TRAINS, SELF, sw_700_series_cab02b_original, param_spritelength) {
	1: ss_700_series_cab02b_original_10;				    // Length 10
	ss_700_series_cab02b_original_12;				        // Length 12
}

// 700 Series Original 2cc
spriteset(ss_700_series_cab02b_original_2cc_12,             "src/trains/700_series/12/original_2cc.png") {template_12_cab_rev_reversed(1,1)}
spriteset(ss_700_series_cab02b_original_2cc_10,             "src/trains/700_series/10/original_2cc.png") {template_10_cab_rev_reversed(1,1)}

switch (FEAT_TRAINS, SELF, sw_700_series_cab02b_original_2cc, param_spritelength) {
	1: ss_700_series_cab02b_original_2cc_10;				 // Length 10
	ss_700_series_cab02b_original_2cc_12;					 // Length 12
}

// 700 Series Type EVA
spriteset(ss_700_series_cab02b_hikari_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_700_series_cab02b_hikari_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_700_series_cab02b_hikari_12,         ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/12/hikari.png") {template_12_cab_rev_reversed(1,1)}
alternative_sprites(ss_700_series_cab02b_hikari_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/10/hikari.png") {template_10_cab_rev_reversed(1,1)}		

switch (FEAT_TRAINS, SELF, sw_700_series_cab02b_hikari, param_spritelength) {
	1: ss_700_series_cab02b_hikari_10;				            // Length 10
	ss_700_series_cab02b_hikari_12;				            // Length 12
}

// 700 Series Hikari 2cc
spriteset(ss_700_series_cab02b_hikari_2cc_12,             "src/trains/700_series/12/hikari_2cc.png") {template_12_cab_rev_reversed(1,1)}
spriteset(ss_700_series_cab02b_hikari_2cc_10,             "src/trains/700_series/10/hikari_2cc.png") {template_10_cab_rev_reversed(1,1)}

switch (FEAT_TRAINS, SELF, sw_700_series_cab02b_hikari_2cc, param_spritelength) {
	1: ss_700_series_cab02b_hikari_2cc_10;				 // Length 10
	ss_700_series_cab02b_hikari_2cc_12;					 // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_700_series_cab02b, cargo_subtype) {
        1: sw_700_series_cab02b_original_2cc;
        2: sw_700_series_cab02b_hikari;
        3: sw_700_series_cab02b_hikari_2cc;
        sw_700_series_cab02b_original;
    }
# 1 "src/trains/700_series/700_series.pnml" 2
# 1 "src/trains/700_series/pnml/sprites/700_series_coach.pnml" 1
/* coach */

// FORWARDS

// 700 Series Original
spriteset(ss_700_series_coachf_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_700_series_coachf_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_700_series_coachf_original_12,       ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/12/original.png") {template_12_standard(1,121)}
alternative_sprites(ss_700_series_coachf_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/10/original.png") {template_10_standard(1,121)}		

switch (FEAT_TRAINS, SELF, sw_700_series_coachf_original, param_spritelength) {
	1: ss_700_series_coachf_original_10;				    // Length 10
	ss_700_series_coachf_original_12;				        // Length 12
}

// 700 Series 2cc
spriteset(ss_700_series_coachf_original_2cc_12,             "src/trains/700_series/12/original_2cc.png") {template_12_standard(1,121)}
spriteset(ss_700_series_coachf_original_2cc_10,             "src/trains/700_series/10/original_2cc.png") {template_10_standard(1,121)}

switch (FEAT_TRAINS, SELF, sw_700_series_coachf_original_2cc, param_spritelength) {
	1: ss_700_series_coachf_original_2cc_10;				 // Length 10
	ss_700_series_coachf_original_2cc_12;					 // Length 12
}

// 700 Series Hikari Rail Star
spriteset(ss_700_series_coachf_hikari_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_700_series_coachf_hikari_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_700_series_coachf_hikari_12,         ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/12/hikari.png") {template_12_standard(1,121)}
alternative_sprites(ss_700_series_coachf_hikari_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/10/hikari.png") {template_10_standard(1,121)}		

switch (FEAT_TRAINS, SELF, sw_700_series_coachf_hikari, param_spritelength) {
	1: ss_700_series_coachf_hikari_10;				        // Length 10
	ss_700_series_coachf_hikari_12;				            // Length 12
}

// 700 Series Hikari Rail Star cc
spriteset(ss_700_series_coachf_hikari_2cc_12,             	"src/trains/700_series/12/hikari_2cc.png") {template_12_standard(1,121)}
spriteset(ss_700_series_coachf_hikari_2cc_10,             	"src/trains/700_series/10/hikari_2cc.png") {template_10_standard(1,121)}

switch (FEAT_TRAINS, SELF, sw_700_series_coachf_hikari_2cc, param_spritelength) {
	1: ss_700_series_coachf_hikari_2cc_10;				     // Length 10
	ss_700_series_coachf_hikari_2cc_12;					     // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_700_series_coachf, cargo_subtype) {
        1: sw_700_series_coachf_original_2cc;
        2: sw_700_series_coachf_hikari;
        3: sw_700_series_coachf_hikari_2cc;
        sw_700_series_coachf_original;
    }

// BACKWARDS

// 700 Series Original
spriteset(ss_700_series_coachb_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_700_series_coachb_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_700_series_coachb_original_12,       ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/12/original.png") {template_12_reversed(1,121)}
alternative_sprites(ss_700_series_coachb_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/10/original.png") {template_10_reversed(1,121)}		

switch (FEAT_TRAINS, SELF, sw_700_series_coachb_original, param_spritelength) {
	1: ss_700_series_coachb_original_10;				    // Length 10
	ss_700_series_coachb_original_12;				        // Length 12
}

// 700 Series Original 2cc
spriteset(ss_700_series_coachb_original_2cc_12,             "src/trains/700_series/12/original_2cc.png") {template_12_reversed(1,121)}
spriteset(ss_700_series_coachb_original_2cc_10,             "src/trains/700_series/10/original_2cc.png") {template_10_reversed(1,121)}

switch (FEAT_TRAINS, SELF, sw_700_series_coachb_original_2cc, param_spritelength) {
	1: ss_700_series_coachb_original_2cc_10;				 // Length 10
	ss_700_series_coachb_original_2cc_12;					 // Length 12
}

// 700 Series Type EVA
spriteset(ss_700_series_coachb_hikari_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_700_series_coachb_hikari_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_700_series_coachb_hikari_12,         ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/12/hikari.png") {template_12_reversed(1,121)}
alternative_sprites(ss_700_series_coachb_hikari_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/10/hikari.png") {template_10_reversed(1,121)}		

switch (FEAT_TRAINS, SELF, sw_700_series_coachb_hikari, param_spritelength) {
	1: ss_700_series_coachb_hikari_10;				            // Length 10
	ss_700_series_coachb_hikari_12;				            // Length 12
}

// 700 Series Hikari 2cc
spriteset(ss_700_series_coachb_hikari_2cc_12,             "src/trains/700_series/12/hikari_2cc.png") {template_12_reversed(1,121)}
spriteset(ss_700_series_coachb_hikari_2cc_10,             "src/trains/700_series/10/hikari_2cc.png") {template_10_reversed(1,121)}

switch (FEAT_TRAINS, SELF, sw_700_series_coachb_hikari_2cc, param_spritelength) {
	1: ss_700_series_coachb_hikari_2cc_10;				 // Length 10
	ss_700_series_coachb_hikari_2cc_12;					 // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_700_series_coachb, cargo_subtype) {
        1: sw_700_series_coachb_original_2cc;
        2: sw_700_series_coachb_hikari;
        3: sw_700_series_coachb_hikari_2cc;
        sw_700_series_coachb_original;
    }
# 1 "src/trains/700_series/700_series.pnml" 2
# 1 "src/trains/700_series/pnml/sprites/700_series_pant1.pnml" 1
/* pant1 */

// FORWARDS

// 700 Series Original
spriteset(ss_700_series_pant1f_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_700_series_pant1f_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_700_series_pant1f_original_12,       ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/12/original.png") {template_12_standard(1,81)}
alternative_sprites(ss_700_series_pant1f_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/10/original.png") {template_10_standard(1,81)}		

switch (FEAT_TRAINS, SELF, sw_700_series_pant1f_original, param_spritelength) {
	1: ss_700_series_pant1f_original_10;				    // Length 10
	ss_700_series_pant1f_original_12;				        // Length 12
}

// 700 Series 2cc
spriteset(ss_700_series_pant1f_original_2cc_12,             "src/trains/700_series/12/original_2cc.png") {template_12_standard(1,81)}
spriteset(ss_700_series_pant1f_original_2cc_10,             "src/trains/700_series/10/original_2cc.png") {template_10_standard(1,81)}

switch (FEAT_TRAINS, SELF, sw_700_series_pant1f_original_2cc, param_spritelength) {
	1: ss_700_series_pant1f_original_2cc_10;				 // Length 10
	ss_700_series_pant1f_original_2cc_12;					 // Length 12
}

// 700 Series Hikari Rail Star
spriteset(ss_700_series_pant1f_hikari_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_700_series_pant1f_hikari_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_700_series_pant1f_hikari_12,         ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/12/hikari.png") {template_12_standard(1,81)}
alternative_sprites(ss_700_series_pant1f_hikari_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/10/hikari.png") {template_10_standard(1,81)}		

switch (FEAT_TRAINS, SELF, sw_700_series_pant1f_hikari, param_spritelength) {
	1: ss_700_series_pant1f_hikari_10;				        // Length 10
	ss_700_series_pant1f_hikari_12;				            // Length 12
}

// 700 Series Hikari Rail Star cc
spriteset(ss_700_series_pant1f_hikari_2cc_12,             	"src/trains/700_series/12/hikari_2cc.png") {template_12_standard(1,81)}
spriteset(ss_700_series_pant1f_hikari_2cc_10,             	"src/trains/700_series/10/hikari_2cc.png") {template_10_standard(1,81)}

switch (FEAT_TRAINS, SELF, sw_700_series_pant1f_hikari_2cc, param_spritelength) {
	1: ss_700_series_pant1f_hikari_2cc_10;				     // Length 10
	ss_700_series_pant1f_hikari_2cc_12;					     // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_700_series_pant1f, cargo_subtype) {
        1: sw_700_series_pant1f_original_2cc;
        2: sw_700_series_pant1f_hikari;
        3: sw_700_series_pant1f_hikari_2cc;
        sw_700_series_pant1f_original;
    }

// BACKWARDS

// 700 Series Original
spriteset(ss_700_series_pant1b_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_700_series_pant1b_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_700_series_pant1b_original_12,       ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/12/original.png") {template_12_reversed(1,81)}
alternative_sprites(ss_700_series_pant1b_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/10/original.png") {template_10_reversed(1,81)}		

switch (FEAT_TRAINS, SELF, sw_700_series_pant1b_original, param_spritelength) {
	1: ss_700_series_pant1b_original_10;				    // Length 10
	ss_700_series_pant1b_original_12;				        // Length 12
}

// 700 Series Original 2cc
spriteset(ss_700_series_pant1b_original_2cc_12,             "src/trains/700_series/12/original_2cc.png") {template_12_reversed(1,81)}
spriteset(ss_700_series_pant1b_original_2cc_10,             "src/trains/700_series/10/original_2cc.png") {template_10_reversed(1,81)}

switch (FEAT_TRAINS, SELF, sw_700_series_pant1b_original_2cc, param_spritelength) {
	1: ss_700_series_pant1b_original_2cc_10;				 // Length 10
	ss_700_series_pant1b_original_2cc_12;					 // Length 12
}

// 700 Series Type EVA
spriteset(ss_700_series_pant1b_hikari_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_700_series_pant1b_hikari_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_700_series_pant1b_hikari_12,         ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/12/hikari.png") {template_12_reversed(1,81)}
alternative_sprites(ss_700_series_pant1b_hikari_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/10/hikari.png") {template_10_reversed(1,81)}		

switch (FEAT_TRAINS, SELF, sw_700_series_pant1b_hikari, param_spritelength) {
	1: ss_700_series_pant1b_hikari_10;				            // Length 10
	ss_700_series_pant1b_hikari_12;				            // Length 12
}

// 700 Series Hikari 2cc
spriteset(ss_700_series_pant1b_hikari_2cc_12,             "src/trains/700_series/12/hikari_2cc.png") {template_12_reversed(1,81)}
spriteset(ss_700_series_pant1b_hikari_2cc_10,             "src/trains/700_series/10/hikari_2cc.png") {template_10_reversed(1,81)}

switch (FEAT_TRAINS, SELF, sw_700_series_pant1b_hikari_2cc, param_spritelength) {
	1: ss_700_series_pant1b_hikari_2cc_10;				 // Length 10
	ss_700_series_pant1b_hikari_2cc_12;					 // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_700_series_pant1b, cargo_subtype) {
        1: sw_700_series_pant1b_original_2cc;
        2: sw_700_series_pant1b_hikari;
        3: sw_700_series_pant1b_hikari_2cc;
        sw_700_series_pant1b_original;
    }
# 1 "src/trains/700_series/700_series.pnml" 2
# 1 "src/trains/700_series/pnml/sprites/700_series_pant2.pnml" 1
/* pant2 */

// FORWARDS

// 700 Series Original
spriteset(ss_700_series_pant2f_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_700_series_pant2f_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_700_series_pant2f_original_12,       ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/12/original.png") {template_12_cab_rev_standard(1,81)}
alternative_sprites(ss_700_series_pant2f_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/10/original.png") {template_10_cab_rev_standard(1,81)}		

switch (FEAT_TRAINS, SELF, sw_700_series_pant2f_original, param_spritelength) {
	1: ss_700_series_pant2f_original_10;				    // Length 10
	ss_700_series_pant2f_original_12;				        // Length 12
}

// 700 Series 2cc
spriteset(ss_700_series_pant2f_original_2cc_12,             "src/trains/700_series/12/original_2cc.png") {template_12_cab_rev_standard(1,81)}
spriteset(ss_700_series_pant2f_original_2cc_10,             "src/trains/700_series/10/original_2cc.png") {template_10_cab_rev_standard(1,81)}

switch (FEAT_TRAINS, SELF, sw_700_series_pant2f_original_2cc, param_spritelength) {
	1: ss_700_series_pant2f_original_2cc_10;				 // Length 10
	ss_700_series_pant2f_original_2cc_12;					 // Length 12
}

// 700 Series Hikari Rail Star
spriteset(ss_700_series_pant2f_hikari_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_700_series_pant2f_hikari_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_700_series_pant2f_hikari_12,         ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/12/hikari.png") {template_12_cab_rev_standard(1,81)}
alternative_sprites(ss_700_series_pant2f_hikari_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/10/hikari.png") {template_10_cab_rev_standard(1,81)}		

switch (FEAT_TRAINS, SELF, sw_700_series_pant2f_hikari, param_spritelength) {
	1: ss_700_series_pant2f_hikari_10;				        // Length 10
	ss_700_series_pant2f_hikari_12;				            // Length 12
}

// 700 Series Hikari Rail Star cc
spriteset(ss_700_series_pant2f_hikari_2cc_12,             	"src/trains/700_series/12/hikari_2cc.png") {template_12_cab_rev_standard(1,81)}
spriteset(ss_700_series_pant2f_hikari_2cc_10,             	"src/trains/700_series/10/hikari_2cc.png") {template_10_cab_rev_standard(1,81)}

switch (FEAT_TRAINS, SELF, sw_700_series_pant2f_hikari_2cc, param_spritelength) {
	1: ss_700_series_pant2f_hikari_2cc_10;				     // Length 10
	ss_700_series_pant2f_hikari_2cc_12;					     // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_700_series_pant2f, cargo_subtype) {
        1: sw_700_series_pant2f_original_2cc;
        2: sw_700_series_pant2f_hikari;
        3: sw_700_series_pant2f_hikari_2cc;
        sw_700_series_pant2f_original;
    }

// BACKWARDS

// 700 Series Original
spriteset(ss_700_series_pant2b_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_700_series_pant2b_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_700_series_pant2b_original_12,       ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/12/original.png") {template_12_cab_rev_reversed(1,81)}
alternative_sprites(ss_700_series_pant2b_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/10/original.png") {template_10_cab_rev_reversed(1,81)}		

switch (FEAT_TRAINS, SELF, sw_700_series_pant2b_original, param_spritelength) {
	1: ss_700_series_pant2b_original_10;				    // Length 10
	ss_700_series_pant2b_original_12;				        // Length 12
}

// 700 Series Original 2cc
spriteset(ss_700_series_pant2b_original_2cc_12,             "src/trains/700_series/12/original_2cc.png") {template_12_cab_rev_reversed(1,81)}
spriteset(ss_700_series_pant2b_original_2cc_10,             "src/trains/700_series/10/original_2cc.png") {template_10_cab_rev_reversed(1,81)}

switch (FEAT_TRAINS, SELF, sw_700_series_pant2b_original_2cc, param_spritelength) {
	1: ss_700_series_pant2b_original_2cc_10;				 // Length 10
	ss_700_series_pant2b_original_2cc_12;					 // Length 12
}

// 700 Series Type EVA
spriteset(ss_700_series_pant2b_hikari_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_700_series_pant2b_hikari_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_700_series_pant2b_hikari_12,         ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/12/hikari.png") {template_12_cab_rev_reversed(1,81)}
alternative_sprites(ss_700_series_pant2b_hikari_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/10/hikari.png") {template_10_cab_rev_reversed(1,81)}		

switch (FEAT_TRAINS, SELF, sw_700_series_pant2b_hikari, param_spritelength) {
	1: ss_700_series_pant2b_hikari_10;				            // Length 10
	ss_700_series_pant2b_hikari_12;				            // Length 12
}

// 700 Series Hikari 2cc
spriteset(ss_700_series_pant2b_hikari_2cc_12,             "src/trains/700_series/12/hikari_2cc.png") {template_12_cab_rev_reversed(1,81)}
spriteset(ss_700_series_pant2b_hikari_2cc_10,             "src/trains/700_series/10/hikari_2cc.png") {template_10_cab_rev_reversed(1,81)}

switch (FEAT_TRAINS, SELF, sw_700_series_pant2b_hikari_2cc, param_spritelength) {
	1: ss_700_series_pant2b_hikari_2cc_10;				 // Length 10
	ss_700_series_pant2b_hikari_2cc_12;					 // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_700_series_pant2b, cargo_subtype) {
        1: sw_700_series_pant2b_original_2cc;
        2: sw_700_series_pant2b_hikari;
        3: sw_700_series_pant2b_hikari_2cc;
        sw_700_series_pant2b_original;
    }
# 1 "src/trains/700_series/700_series.pnml" 2
# 1 "src/trains/700_series/pnml/700_series_formations.pnml" 1

/* Midcars */
    // coaches    
        switch (FEAT_TRAINS, PARENT, sw_700_series_coaches, vehicle_is_reversed) {				
                1:  sw_700_series_coachb;
                sw_700_series_coachf;			
            }

    /* long */
        switch (FEAT_TRAINS, SELF, sw_700_series_long_panto_backwards, position_in_consist_from_end == 13 ) {				
                1:  sw_700_series_pant1b;
                sw_700_series_pant2b;				
            }

        switch (FEAT_TRAINS, SELF, sw_700_series_long_panto_forwards, position_in_consist == 13 ) {				
                1:  sw_700_series_pant1f;
                sw_700_series_pant2f;				
            }
        
        switch (FEAT_TRAINS, PARENT, sw_700_series_long_panto_positions, vehicle_is_reversed) {				
                1:  sw_700_series_long_panto_backwards;
                sw_700_series_long_panto_forwards;			
            }

        switch (FEAT_TRAINS, SELF, sw_700_series_long, position_in_consist == 13 || position_in_consist_from_end == 13) {				
                1:  sw_700_series_long_panto_positions;
                sw_700_series_coaches;				
            }

    /* penultimate pantos */
        switch (FEAT_TRAINS, SELF, sw_700_series_penultimate_panto_backwards, position_in_consist_from_end == 4 ) {				
                1:  sw_700_series_pant1b;
                sw_700_series_pant2b;				
            }

        switch (FEAT_TRAINS, SELF, sw_700_series_penultimate_panto_forwards, position_in_consist == 4 ) {				
                1:  sw_700_series_pant1f;
                sw_700_series_pant2f;				
            }
        
        switch (FEAT_TRAINS, PARENT, sw_700_series_penultimate_panto_positions, vehicle_is_reversed) {				
                1:  sw_700_series_penultimate_panto_backwards;
                sw_700_series_penultimate_panto_forwards;			
            }

        switch (FEAT_TRAINS, SELF, sw_700_series_penultimate_pantos, position_in_consist == 4 || position_in_consist_from_end == 4) {				
                1:  sw_700_series_penultimate_panto_positions;
                sw_700_series_coaches;				
            }

    /* panto_in_middle */
        // Backwards
        switch (FEAT_TRAINS, SELF, sw_700_series_panto_in_middle_backwards, (position_in_consist == position_in_consist_from_end ) || (position_in_consist - 3 == position_in_consist_from_end)) {				
                0:  sw_700_series_coachb;
                sw_700_series_pant1b;
            }

        // Forwards
        switch (FEAT_TRAINS, SELF, sw_700_series_panto_in_middle_forwards, (position_in_consist == position_in_consist_from_end ) || (position_in_consist - 3 == position_in_consist_from_end)) {				
                0:  sw_700_series_coachf;
                sw_700_series_pant1f;				
            }

        switch (FEAT_TRAINS, PARENT, sw_700_series_panto_in_middle, vehicle_is_reversed) {				
                1:  sw_700_series_panto_in_middle_backwards;
                sw_700_series_panto_in_middle_forwards;				
            }

    /* Midcar selection */
    switch (FEAT_TRAINS, SELF, sw_700_series_midcars, num_vehs_in_consist ) {				
			1..21:  sw_700_series_panto_in_middle;
            22..39:  sw_700_series_penultimate_pantos;
			sw_700_series_long;				
		}

/* Cab selection */
    // Rear cab
    switch (FEAT_TRAINS, PARENT, sw_700_series_rear, vehicle_is_reversed) {				
            1:  sw_700_series_cab01b;                   // cab01	
            sw_700_series_cab02f;                       // cab02
        }

    // Lead cab
    switch (FEAT_TRAINS, PARENT, sw_700_series_lead, vehicle_is_reversed) {				
            1:  sw_700_series_cab02b;                   // cab02
            sw_700_series_cab01f;                       // cab01	
        }

/* Find the cabs */
    switch (FEAT_TRAINS, SELF, sw_700_series_lead_or_rear, position_in_consist) {				
            1:  sw_700_series_lead;
            sw_700_series_rear;				
        }
    
    switch (FEAT_TRAINS, SELF, sw_700_series_ends, position_in_consist == 1 || position_in_consist_from_end == 1) {				
            1:  sw_700_series_lead_or_rear;
            sw_700_series_midcars;				
        }
# 1 "src/trains/700_series/700_series.pnml" 2
# 1 "src/trains/700_series/pnml/700_series_item.pnml" 1

switch (FEAT_TRAINS, SELF, sw_700_series_graphics, position_in_consist % 3) {				
		1:  sw_700_series_ends; 				
		dummy_sprites;
	}

switch (FEAT_TRAINS, SELF, sw_700_series_articulated_part, extra_callback_info1) {
		1 .. 2: return series_700;									
		return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
	}

/*---Coupling Switch---*/
switch(FEAT_TRAINS, SELF, sw_700_series_attach_vehid, [vehicle_type_id == mu_car_full]) {
 0: return string(ONLY_ADD_MUCAR);
}

/*---Length Check---*/
switch (FEAT_TRAINS, SELF, sw_700_series_stop_start, num_vehs_in_consist < 12) {				
		1:  return string(STR_LENGTH_ERROR); 				
		return CB_RESULT_NO_TEXT; 
	}

item(FEAT_TRAINS, series_700) {
	property {
		/* Menu */
        name: 							string(STR_NAME_700_SERIES);
        sprite_id:                      SPRITE_ID_NEW_TRAIN; 		// required to enable new graphics
		misc_flags:                     bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU, TRAIN_FLAG_TILT, TRAIN_FLAG_AUTOREFIT, TRAIN_FLAG_SPRITE_STACK);
		running_cost_base:              RUNNING_COST_ELECTRIC;
		engine_class:                   ENGINE_CLASS_ELECTRIC;
		/* Availability */
        climates_available:             ALL_CLIMATES;
		introduction_date:              date(1999,03,13);
		model_life:                     VEHICLE_NEVER_EXPIRES;		//
		vehicle_life:                   30;							// 
		track_type:                     SHINKANSEN;
        /* Cargo */
        reliability_decay:              5;
		refittable_cargo_classes:       bitmask(CC_PASSENGERS);
		refit_cost:                     0;
		default_cargo_type:             PASS;
		ai_special_flag:                AI_FLAG_PASSENGER;
        cargo_capacity:                 1;							// 
		loading_speed:                  50;							
		cargo_age_period:               278; 						// 1.5 times normal for this expensive long-distance train
		/* Stats */
        speed:                          286 km/h;				    // Operational Top Speed
		power:                          8050 kW;					// Overwritten by callback
		weight:                         648 tons;					// Overwritten by callback
		tractive_effort_coefficient:    0.3;
		air_drag_coefficient:			0;
	}
	graphics {
		/* Menu */
        additional_text:                string(STR_DESC_700_SERIES);
        cargo_subtype_text:             sw_700_series_subtype_text;
		can_attach_wagon:				sw_700_series_attach_vehid;
		start_stop:						sw_700_series_stop_start;
		purchase_weight:                44;
        purchase_power:                 369 * 4;
        /* Graphics */
        default:                        sw_700_series_graphics;
		purchase:                       ss_700_series_buy;
		articulated_part:               sw_700_series_articulated_part;
		visual_effect_and_powered:      sw_visual_effect_and_powered;
        /* Stats */
        length:                         sw_param_length;
        weight:                         NumberCarsInConsist() * 44;
        power:                          max ( NumberCarsInConsist() - 2 , 0 ) * 369 * 4;	// 275 kW
		cargo_capacity:                 28 * CapacityFactor();															
		loading_speed:					28 * CapacityFactor() / param_loading_2D;					// Capacity divided by door loading factor
		cargo_age_period:				param_decay_express;
		cost_factor:                    134;
		running_cost_factor:            (310 + 48 * NumberCarsInConsist() ) * RunningCostFactor();
		purchase_running_cost_factor:   310 + 48 * NumberCarsInConsist();
	}
	/*Multiple Unit Car*/
	
      livery_override(mu_car_full){
        default:                        sw_700_series_graphics;
        cargo_capacity:                 28 * CapacityFactor();
        cargo_age_period:				param_decay_express;
        loading_speed:					28 * CapacityFactor() / param_loading_2D;
		articulated_part:				sw_mucar_full_articulated_part;
		length:							sw_param_length;
		//power:						// Apply power in graphics block to calculate power based on number of motorised cars correctly
		//weight:						// Apply weight to graphics block to calculate Max T.E. correctly
        //running_cost_factor:            sw_700_series_running_costs;
      }
}
# 1 "src/trains/700_series/700_series.pnml" 2
# 1 "JPplusShinkansen.pnml" 4
# 1 "src/trains/700_series/923_series.pnml" 1
/* Begin 923 Series */

/* GRAPHICS */

	/* Purchase Menu */
	spriteset (ss_923_series_buy_livery_12,	        	"src/trains/dummy/purchase.png") {template_purchase(0, 0)}
	spriteset (ss_923_series_buy_livery_10,	        	"src/trains/dummy/purchase.png") {template_purchase(0, 0)}

	alternative_sprites(ss_923_series_buy_livery_12,    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/12/purchase_923.png") {template_purchase(0, 0)}
	alternative_sprites(ss_923_series_buy_livery_10,   	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/12/purchase_923.png") {template_purchase(0, 0)}

		switch (FEAT_TRAINS, SELF, ss_923_series_buy_livery, param_spritelength) {
			1: ss_923_series_buy_livery_10;				// Length 10
			ss_923_series_buy_livery_12;				// Length 12
		}

	/* EMU Parts */

	/* "CAB" */
	spriteset(ss_923_series_cab_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_923_series_cab_rev_12,    		    	"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_923_series_cab_10,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_923_series_cab_rev_10,    		    	"src/trains/dummy/empty.png") {template_dummy(0,0)}
		
	alternative_sprites(ss_923_series_cab_12,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/12/923_series.png") {template_12_standard(1,1)}
	alternative_sprites(ss_923_series_cab_rev_12,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/12/923_series.png") {template_12_reversed(1,41)}
	alternative_sprites(ss_923_series_cab_10,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/10/923_series.png") {template_10_standard(1,1)}
	alternative_sprites(ss_923_series_cab_rev_10,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/10/923_series.png") {template_10_reversed(1,41)}	

		switch (FEAT_TRAINS, SELF, ss_923_series_cab, param_spritelength) {
			1: ss_923_series_cab_10;					// Length 10
			ss_923_series_cab_12;						// Length 12
		}

		switch (FEAT_TRAINS, SELF, ss_923_series_cab_rev, param_spritelength) {
			1: ss_923_series_cab_rev_10;				// Length 10
			ss_923_series_cab_rev_12;					// Length 12
		}

	/* "CAB" w/ MORE WINDOWS*/
	spriteset(ss_923_series_cabwp_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_923_series_cabwp_rev_12,    		   	"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_923_series_cabwp_10,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_923_series_cabwp_rev_10,    		   	"src/trains/dummy/empty.png") {template_dummy(0,0)}

	alternative_sprites(ss_923_series_cabwp_12,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/12/923_series.png") {template_12_standard(1,81)}
	alternative_sprites(ss_923_series_cabwp_rev_12,   	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/12/923_series.png") {template_12_reversed(1,121)}	
	alternative_sprites(ss_923_series_cabwp_10,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/10/923_series.png") {template_10_standard(1,81)}
	alternative_sprites(ss_923_series_cabwp_rev_10,   	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/10/923_series.png") {template_10_reversed(1,121)}	

		switch (FEAT_TRAINS, SELF, ss_923_series_cabwp, param_spritelength) {
			1: ss_923_series_cabwp_10;					// Length 10
			ss_923_series_cabwp_12;						// Length 12
		}

		switch (FEAT_TRAINS, SELF, ss_923_series_cabwp_rev, param_spritelength) {
			1: ss_923_series_cabwp_rev_10;				// Length 10
			ss_923_series_cabwp_rev_12;					// Length 12
		}

	/* "COACH" - the light roof one */
	spriteset(ss_923_series_coach_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_923_series_coach_rev_12,    		    "src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_923_series_coach_10,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_923_series_coach_rev_10,    		    "src/trains/dummy/empty.png") {template_dummy(0,0)}

	alternative_sprites(ss_923_series_coach_12,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/12/923_series.png") {template_12_standard(1,241)}
	alternative_sprites(ss_923_series_coach_rev_12,   	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/12/923_series.png") {template_12_reversed(1,241)}	
	alternative_sprites(ss_923_series_coach_10,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/10/923_series.png") {template_10_standard(1,241)}
	alternative_sprites(ss_923_series_coach_rev_10,   	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/10/923_series.png") {template_10_reversed(1,241)}

		switch (FEAT_TRAINS, SELF, ss_923_series_coach, param_spritelength) {
			1: ss_923_series_coach_10;					// Length 10
			ss_923_series_coach_12;						// Length 12
		}

		switch (FEAT_TRAINS, SELF, ss_923_series_coach_rev, param_spritelength) {
			1: ss_923_series_coach_rev_10;				// Length 10
			ss_923_series_coach_rev_12;					// Length 12
		}

	/* "PANTO 1" */
	spriteset(ss_923_series_pant1_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_923_series_pant1_rev_12,    		    "src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_923_series_pant1_10,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_923_series_pant1_rev_10,    		    "src/trains/dummy/empty.png") {template_dummy(0,0)}

	alternative_sprites(ss_923_series_pant1_12,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/12/923_series.png") {template_12_standard(1,161)}
	alternative_sprites(ss_923_series_pant1_rev_12,   	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/12/923_series.png") {template_12_reversed(1,161)}	
	alternative_sprites(ss_923_series_pant1_10,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/10/923_series.png") {template_10_standard(1,161)}
	alternative_sprites(ss_923_series_pant1_rev_10,   	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/10/923_series.png") {template_10_reversed(1,161)}

		switch (FEAT_TRAINS, SELF, ss_923_series_pant1, param_spritelength) {
			1: ss_923_series_pant1_10;					// Length 10
			ss_923_series_pant1_12;						// Length 12
		}

		switch (FEAT_TRAINS, SELF, ss_923_series_pant1_rev, param_spritelength) {
			1: ss_923_series_pant1_rev_10;				// Length 10
			ss_923_series_pant1_rev_12;					// Length 12
		}

	/* "PANTO 2" */
	spriteset(ss_923_series_pant2_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_923_series_pant2_rev_12,    		    "src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_923_series_pant2_10,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_923_series_pant2_rev_10,    		    "src/trains/dummy/empty.png") {template_dummy(0,0)}

	alternative_sprites(ss_923_series_pant2_12,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/12/923_series.png") {template_12_standard(1,201)}
	alternative_sprites(ss_923_series_pant2_rev_12,   	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/12/923_series.png") {template_12_reversed(1,201)}	
	alternative_sprites(ss_923_series_pant2_10,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/10/923_series.png") {template_10_standard(1,201)}
	alternative_sprites(ss_923_series_pant2_rev_10,   	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/10/923_series.png") {template_10_reversed(1,201)}

		switch (FEAT_TRAINS, SELF, ss_923_series_pant2, param_spritelength) {
			1: ss_923_series_pant2_10;					// Length 10
			ss_923_series_pant2_12;						// Length 12
		}

		switch (FEAT_TRAINS, SELF, ss_923_series_pant2_rev, param_spritelength) {
			1: ss_923_series_pant2_rev_10;				// Length 10
			ss_923_series_pant2_rev_12;					// Length 12
		}

	/* "PANTO 3" */
	spriteset(ss_923_series_pant3_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_923_series_pant3_rev_12,    		    "src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_923_series_pant3_10,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_923_series_pant3_rev_10,    		    "src/trains/dummy/empty.png") {template_dummy(0,0)}

	alternative_sprites(ss_923_series_pant3_12,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/12/923_series.png") {template_12_standard(1,281)}
	alternative_sprites(ss_923_series_pant3_rev_12,   	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/12/923_series.png") {template_12_reversed(1,281)}	
	alternative_sprites(ss_923_series_pant3_10,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/10/923_series.png") {template_10_standard(1,281)}
	alternative_sprites(ss_923_series_pant3_rev_10,   	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/10/923_series.png") {template_10_reversed(1,281)}

		switch (FEAT_TRAINS, SELF, ss_923_series_pant3, param_spritelength) {
			1: ss_923_series_pant3_10;					// Length 10
			ss_923_series_pant3_12;						// Length 12
		}

		switch (FEAT_TRAINS, SELF, ss_923_series_pant3_rev, param_spritelength) {
			1: ss_923_series_pant3_rev_10;				// Length 10
			ss_923_series_pant3_rev_12;					// Length 12
		}

	/* "PANTO 4" */
	spriteset(ss_923_series_pant4_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_923_series_pant4_rev_12,    		    "src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_923_series_pant4_10,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_923_series_pant4_rev_10,    		    "src/trains/dummy/empty.png") {template_dummy(0,0)}

	alternative_sprites(ss_923_series_pant4_12,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/12/923_series.png") {template_12_standard(1,321)}
	alternative_sprites(ss_923_series_pant4_rev_12,   	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/12/923_series.png") {template_12_reversed(1,321)}	
	alternative_sprites(ss_923_series_pant4_10,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/10/923_series.png") {template_10_standard(1,321)}
	alternative_sprites(ss_923_series_pant4_rev_10,   	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/700_series/10/923_series.png") {template_10_reversed(1,321)}

		switch (FEAT_TRAINS, SELF, ss_923_series_pant4, param_spritelength) {
			1: ss_923_series_pant4_10;					// Length 10
			ss_923_series_pant4_12;						// Length 12
		}

		switch (FEAT_TRAINS, SELF, ss_923_series_pant4_rev, param_spritelength) {
			1: ss_923_series_pant4_rev_10;				// Length 10
			ss_923_series_pant4_rev_12;					// Length 12
		}


/* FORMATIONS */

// Midcars going backwards

switch (FEAT_TRAINS, SELF, sw_923_series_backwards_front, position_in_consist_from_end ) {				
		4:  ss_923_series_pant1_rev;
		7:  ss_923_series_pant2_rev;
		ss_923_series_coach_rev;				
	}

switch (FEAT_TRAINS, SELF, sw_923_series_backwards_back, position_in_consist ) {				
		4:  ss_923_series_pant4_rev;
		7:  ss_923_series_pant3_rev;
		ss_923_series_coach_rev;				
	}

switch (FEAT_TRAINS, SELF, sw_923_series_backwards_long_front_or_back, ( position_in_consist_from_end - position_in_consist ) < 0 ) {				
		1:  sw_923_series_backwards_front;
		sw_923_series_backwards_back;				
	}

switch (FEAT_TRAINS, SELF, sw_923_series_backwards_long, ( num_vehs_in_consist - abs(position_in_consist - position_in_consist_from_end)) < 20 ) {				
		0:  ss_923_series_coach_rev;
		sw_923_series_backwards_long_front_or_back;				
	}

switch (FEAT_TRAINS, SELF, sw_923_series_backwards_18, position_in_consist_from_end) {				
		4:  ss_923_series_pant1_rev;
		7:  ss_923_series_pant2_rev;
		10: ss_923_series_pant3_rev;
		13: ss_923_series_pant4_rev;
		ss_923_series_coach_rev;				
	}

switch (FEAT_TRAINS, SELF, sw_923_series_backwards, num_vehs_in_consist) {				
		1..18: sw_923_series_backwards_18;
		sw_923_series_backwards_long;				
	}

// Midcars going forwards

switch (FEAT_TRAINS, SELF, sw_923_series_forwards_front, position_in_consist ) {				
		4:  ss_923_series_pant1;
		7:  ss_923_series_pant2;
		ss_923_series_coach;				
	}

switch (FEAT_TRAINS, SELF, sw_923_series_forwards_back, position_in_consist_from_end ) {				
		4:  ss_923_series_pant4;
		7:  ss_923_series_pant3;
		ss_923_series_coach;				
	}

switch (FEAT_TRAINS, SELF, sw_923_series_forwards_long_front_or_back, ( position_in_consist - position_in_consist_from_end ) < 0 ) {				
		1:  sw_923_series_forwards_front;
		sw_923_series_forwards_back;				
	}

switch (FEAT_TRAINS, SELF, sw_923_series_forwards_long, ( num_vehs_in_consist - abs(position_in_consist - position_in_consist_from_end)) < 20 ) {				
		0:  ss_923_series_coach;
		sw_923_series_forwards_long_front_or_back;				
	}

switch (FEAT_TRAINS, SELF, sw_923_series_forwards_18, position_in_consist ) {				
		4:  ss_923_series_pant1;
		7:  ss_923_series_pant2;
		10: ss_923_series_pant3;
		13: ss_923_series_pant4;
		ss_923_series_coach;				
	}

switch (FEAT_TRAINS, SELF, sw_923_series_forwards, num_vehs_in_consist) {				
		1..18: sw_923_series_forwards_18;
		sw_923_series_forwards_long;				
	}

// Is vehicle reversed?
switch (FEAT_TRAINS, PARENT, sw_923_series_midcars, vehicle_is_reversed) {				
		0:  sw_923_series_forwards;
		sw_923_series_backwards;				
	}

// Cabs
switch (FEAT_TRAINS, SELF, sw_923_series_back, position_in_consist_from_end) {				
		1:  ss_923_series_cab_rev;
		ss_923_series_cabwp;			
	}

switch (FEAT_TRAINS, SELF, sw_923_series_front, position_in_consist) {				
		1:  ss_923_series_cab;
		ss_923_series_cabwp_rev;				
	}

switch (FEAT_TRAINS, PARENT, sw_923_series_cabs_reversecheck, vehicle_is_reversed) {				
		0:  sw_923_series_front;
		sw_923_series_back;				
	}


switch (FEAT_TRAINS, SELF, sw_923_series_cabs, position_in_consist == 1 || position_in_consist_from_end == 1) {				
		1:  sw_923_series_cabs_reversecheck;
		sw_923_series_midcars;				
	}


// GRAPHICS
switch (FEAT_TRAINS, SELF, sw_923_series_graphics, position_in_consist % 3) {				
		1:  sw_923_series_cabs; 				
		dummy_sprites;
	}

switch (FEAT_TRAINS, SELF, sw_923_series_articulated_part, extra_callback_info1) {
		1 .. 2: return series_923;									
		return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
	}


/*---Coupling Switch---*/
switch(FEAT_TRAINS, SELF, sw_923_series_attach_vehid_pass, [vehicle_type_id == mu_car_full]) {
 0: return string(ONLY_ADD_MUCAR);
}

switch(FEAT_TRAINS, SELF, sw_923_series_attach_vehid_mail, [vehicle_type_id == mu_car_mail]) {
 0: return string(ONLY_ADD_MUCAR);
}

/*---Length Check---*/
switch (FEAT_TRAINS, SELF, sw_923_series_stop_start, num_vehs_in_consist < 12) {				
		1:  return string(STR_LENGTH_ERROR); 				
		return CB_RESULT_NO_TEXT; 
	}

/*---Running Cost Factor---*/
switch (FEAT_TRAINS, PARENT, sw_923_series_running_cost_factor, param_dryellow ) {				
		1: (150 + 60 * NumberCarsInConsist() ) * RunningCostFactor();		// Mail
		2: (295 + 125 * NumberCarsInConsist() ) * RunningCostFactor();		// Passengers
		return 0;			
	}

if (param_dryellow == 0) { // GIMMICK

item(FEAT_TRAINS, series_923) {
	property {
		/* Menu */
		name: 							string(STR_NAME_923_SERIES);
		sprite_id:                      SPRITE_ID_NEW_TRAIN; 		// required to enable new graphics
		misc_flags:                     bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_TILT, TRAIN_FLAG_AUTOREFIT);
		running_cost_base:              RUNNING_COST_ELECTRIC;
		engine_class:                   ENGINE_CLASS_ELECTRIC;
		variant_group:					700;
		/* Availability */
		climates_available:             ALL_CLIMATES;
		introduction_date:              date(2000,03,01);           // Date of launch
		model_life:                     VEHICLE_NEVER_EXPIRES;		                    
		vehicle_life:                   30;							// 
		track_type:                     SHINKANSEN;
		extra_flags:					bitmask(VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW);
		/* Cargo */
		reliability_decay:              5;
		refittable_cargo_classes:       bitmask(CC_PASSENGERS);
		refit_cost:                     0;
		cargo_capacity:                 1;							// Changed by callback
		loading_speed:                  50;							
		cargo_age_period:               278; 						// 1.5 times normal for this expensive long-distance train
		/* Stats */
		speed:                          286 km/h;                   
		power:                          8050 kW;					// Changed by callback
		weight:                         648 ton;                   // Changed by callback					
		tractive_effort_coefficient:    0.3;
		air_drag_coefficient:			0;
	}
	graphics {
		/* Menu */
		additional_text:                string(STR_DESC_923_SERIES_GIMMICK);
		//cargo_subtype_text:             sw_923_series_year_dep_subtype_text;
		can_attach_wagon:				sw_923_series_attach_vehid_pass;
		start_stop:						sw_923_series_stop_start;
		purchase_weight:                44;
        purchase_power:                 369 * 4;
		/* Graphics */
		default:                        sw_923_series_graphics;
		purchase:                      	ss_923_series_buy_livery;
		articulated_part:               sw_923_series_articulated_part;
		visual_effect_and_powered:      sw_visual_effect_and_powered;
		/* Stats */
		length:                         sw_param_length;
        power:							max ( NumberCarsInConsist() - 2 , 0 ) * 369 * 4;
		weight:							NumberCarsInConsist() * 44;
        //speed:						285 km/h;
		cargo_capacity:                 0;										// Nil capacity									
		loading_speed:					25;	
		cargo_age_period:				param_decay_express;
		cost_factor:                    130;
		running_cost_factor:            0;
		purchase_running_cost_factor:   0;

	}    
	livery_override(mu_car_full){
        default:                        sw_923_series_graphics;
        cargo_capacity:                 0;	
        cargo_age_period:				param_decay_express;
        loading_speed:                  25;
		articulated_part:				sw_mucar_full_articulated_part;
		length:							sw_param_length;
		running_cost_factor:            0;
	}
}}

// MAIL
if (param_dryellow == 1) {

item(FEAT_TRAINS, series_923) {
	property {
		/* Menu */
		name: 							string(STR_NAME_923_SERIES);
		sprite_id:                      SPRITE_ID_NEW_TRAIN; 		// required to enable new graphics
		misc_flags:                     bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_TILT, TRAIN_FLAG_AUTOREFIT);
		running_cost_base:              RUNNING_COST_ELECTRIC;
		engine_class:                   ENGINE_CLASS_ELECTRIC;
		variant_group:					700;
		/* Availability */
		climates_available:             ALL_CLIMATES;
		introduction_date:              date(2000,03,01);           // Date of launch
		model_life:                     VEHICLE_NEVER_EXPIRES;	                    
		vehicle_life:                   30;							// 
		track_type:                     SHINKANSEN;
		extra_flags:					bitmask(VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW);
		/* Cargo */
		reliability_decay:              5;
		refittable_cargo_classes:       bitmask(CC_MAIL);
		default_cargo_type:             MAIL;
		//refittable_cargo_classes:       bitmask(CC_PASSENGERS);
		refit_cost:                     0;
		cargo_capacity:                 1;							// Changed by callback
		loading_speed:                  50;							
		cargo_age_period:               278; 						// 1.5 times normal for this expensive long-distance train
		/* Stats */
		speed:                          240 km/h;                   
		power:                          8050 kW;					// Changed by callback
		weight:                         1464 ton;                   // Changed by callback					
		tractive_effort_coefficient:    0.3;
		air_drag_coefficient:			0;
	}
	graphics {
		/* Menu */
		additional_text:                string(STR_DESC_923_SERIES_MAIL);
		//cargo_subtype_text:             sw_923_series_year_dep_subtype_text;
		can_attach_wagon:				sw_923_series_attach_vehid_mail;
		start_stop:						sw_923_series_stop_start;
		/* Graphics */
		default:                        sw_923_series_graphics;
		purchase:                      	ss_923_series_buy_livery;
		articulated_part:               sw_923_series_articulated_part;
		visual_effect_and_powered:      sw_visual_effect_and_powered;
		/* Stats */
		length:                         sw_param_length;
        power:							max ( NumberCarsInConsist() - 2 , 0 ) * 369 * 4;
		weight:							NumberCarsInConsist() * 44;
        //speed:						240 km/h;
		cargo_capacity:                 40 * CapacityFactor();											
		loading_speed:					40 * CapacityFactor() / param_loading_2D;					// Capacity divided by door loading factor
		cargo_age_period:				param_decay_express;
		cost_factor:                    130;
		running_cost_factor:            sw_923_series_running_cost_factor;
		purchase_running_cost_factor:   295 + 125 * NumberCarsInConsist();
	}
	livery_override(mu_car_mail){
        default:                        sw_923_series_graphics;
        cargo_capacity:                 40 * CapacityFactor();		
        cargo_age_period:				param_decay_express;
        loading_speed:                  40 * CapacityFactor() / param_loading_2D;
		articulated_part:				sw_mucar_full_articulated_part;
		length:							sw_param_length;		
	}
}}

// PASSENGERS
if (param_dryellow == 2)  {

item(FEAT_TRAINS, series_923) {
		property {
		/* Menu */
		name: 							string(STR_NAME_923_SERIES);
		sprite_id:                      SPRITE_ID_NEW_TRAIN; 		// required to enable new graphics
		misc_flags:                     bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_TILT, TRAIN_FLAG_AUTOREFIT);
		running_cost_base:              RUNNING_COST_ELECTRIC;
		engine_class:                   ENGINE_CLASS_ELECTRIC;
		variant_group:					700;
		/* Availability */
		climates_available:             ALL_CLIMATES;
		introduction_date:              date(2000,03,01);           // Date of launch
		model_life:                     VEHICLE_NEVER_EXPIRES;	                    
		vehicle_life:                   30;							// 
		track_type:                     SHINKANSEN;
		extra_flags:					bitmask(VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW);
		/* Cargo */
		reliability_decay:              5;
		refittable_cargo_classes:       bitmask(CC_PASSENGERS);
		default_cargo_type:             PASS;
		ai_special_flag:                AI_FLAG_PASSENGER;
		//refittable_cargo_classes:       bitmask(CC_PASSENGERS);
		refit_cost:                     0;
		cargo_capacity:                 1;							// Changed by callback
		loading_speed:                  50;							
		cargo_age_period:               278; 						// 1.5 times normal for this expensive long-distance train
		/* Stats */
		speed:                          240 km/h;                   
		power:                          8050 kW;					// Changed by callback
		weight:                         1464 ton;                   // Changed by callback					
		tractive_effort_coefficient:    0.3;
		air_drag_coefficient:			0;
	}
	graphics {
		/* Menu */
		additional_text:                string(STR_DESC_923_SERIES);
		//cargo_subtype_text:             sw_923_series_year_dep_subtype_text;
		can_attach_wagon:				sw_923_series_attach_vehid_pass;
		start_stop:						sw_923_series_stop_start;
		/* Graphics */
		default:                        sw_923_series_graphics;
		purchase:                      	ss_923_series_buy_livery;
		articulated_part:               sw_923_series_articulated_part;
		visual_effect_and_powered:      sw_visual_effect_and_powered;
		/* Stats */
		length:                         sw_param_length;
        power:							max ( NumberCarsInConsist() - 2 , 0 ) * 369 * 4;
		weight:							NumberCarsInConsist() * 44;
        //speed:						240 km/h;
		cargo_capacity:                	26 * CapacityFactor();											
		loading_speed:					26 * CapacityFactor() / param_loading_2D;					// Capacity divided by door loading factor
		cargo_age_period:				param_decay_express;
		cost_factor:                    130;
		running_cost_factor:            sw_923_series_running_cost_factor;
		purchase_running_cost_factor:   295 + 125 * NumberCarsInConsist();
	}
	livery_override(mu_car_full){
        default:                        sw_923_series_graphics;
        cargo_capacity:                 26 * CapacityFactor();	
        cargo_age_period:				param_decay_express;
        loading_speed:                  26 * CapacityFactor() / param_loading_2D;
		articulated_part:				sw_mucar_full_articulated_part;
		length:							sw_param_length;
	}
}}

//WORKS

/* End 200 Series Sharknose*/
# 1 "JPplusShinkansen.pnml" 4
# 1 "src/trains/500_series/500_series.pnml" 1

# 1 "src/trains/500_series/pnml/500_series_menu.pnml" 1
/* Subtypes*/

	switch(FEAT_TRAINS, SELF, sw_500_series_subtype_text, cargo_subtype) {
		0: return string(LV_500_SERIES); 
        1: return string(LV_500_SERIES_2CC);
        2: return string(LV_500_SERIES_EVA);
		3: return string(LV_500_SERIES_HK); 
		return CB_RESULT_NO_TEXT;
		}

/* Purchase Menu */
    spriteset (ss_500_series_buy_12,	        	"src/trains/dummy/purchase.png") {template_purchase(0, 0)}
	spriteset (ss_500_series_buy_10,	        	"src/trains/dummy/purchase.png") {template_purchase(0, 0)}
    alternative_sprites(ss_500_series_buy_12,       ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/purchase.png") {template_purchase(0, 0)}
    alternative_sprites(ss_500_series_buy_10,       ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/purchase.png") {template_purchase(0, 0)}

		switch (FEAT_TRAINS, SELF, ss_500_series_buy, param_spritelength) {
			1: ss_500_series_buy_10;				// Length 10
			ss_500_series_buy_12;					// Length 12
		}
# 1 "src/trains/500_series/500_series.pnml" 2
# 1 "src/trains/500_series/pnml/sprites/500_series_cab01.pnml" 1
/* cab01 */

// FORWARDS

// 500 Series Original
spriteset(ss_500_series_cab01f_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_cab01f_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_cab01f_original_12,       ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series.png") {template_12_standard(1,1)}
alternative_sprites(ss_500_series_cab01f_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series.png") {template_10_standard(1,1)}		

switch (FEAT_TRAINS, SELF, sw_500_series_cab01f_original, param_spritelength) {
	1: ss_500_series_cab01f_original_10;				    // Length 10
	ss_500_series_cab01f_original_12;				        // Length 12
}

// 500 Series 2cc
spriteset(ss_500_series_cab01f_2cc_12,             	        "src/trains/500_series/12/500_series_2cc.png") {template_12_standard(1,1)}
spriteset(ss_500_series_cab01f_2cc_10,             	        "src/trains/500_series/10/500_series_2cc.png") {template_10_standard(1,1)}

switch (FEAT_TRAINS, SELF, sw_500_series_cab01f_2cc, param_spritelength) {
	1: ss_500_series_cab01f_2cc_10;				            // Length 10
	ss_500_series_cab01f_2cc_12;					        // Length 12
}

// 500 Series Type EVA
spriteset(ss_500_series_cab01f_eva_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_cab01f_eva_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_cab01f_eva_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series_eva.png") {template_12_standard(1,1)}
alternative_sprites(ss_500_series_cab01f_eva_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series_eva.png") {template_10_standard(1,1)}		

switch (FEAT_TRAINS, SELF, sw_500_series_cab01f_eva, param_spritelength) {
	1: ss_500_series_cab01f_eva_10;				            // Length 10
	ss_500_series_cab01f_eva_12;				            // Length 12
}

// 500 Series Hello Kitty
spriteset(ss_500_series_cab01f_kitty_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_cab01f_kitty_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_cab01f_kitty_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series_hk.png") {template_12_standard(1,1)}
alternative_sprites(ss_500_series_cab01f_kitty_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series_hk.png") {template_10_standard(1,1)}		

switch (FEAT_TRAINS, SELF, sw_500_series_cab01f_kitty, param_spritelength) {
	1: ss_500_series_cab01f_kitty_10;				        // Length 10
	ss_500_series_cab01f_kitty_12;				            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_500_series_cab01f, cargo_subtype) {
        1: sw_500_series_cab01f_2cc;
        2: sw_500_series_cab01f_eva;
        3: sw_500_series_cab01f_kitty;
        sw_500_series_cab01f_original;
    }

// BACKWARDS

// 500 Series Original
spriteset(ss_500_series_cab01b_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_cab01b_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_cab01b_original_12,       ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series.png") {template_12_reversed(1,41)}
alternative_sprites(ss_500_series_cab01b_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series.png") {template_10_reversed(1,41)}		

switch (FEAT_TRAINS, SELF, sw_500_series_cab01b_original, param_spritelength) {
	1: ss_500_series_cab01b_original_10;				    // Length 10
	ss_500_series_cab01b_original_12;				        // Length 12
}

// 500 Series 2cc
spriteset(ss_500_series_cab01b_2cc_12,             	        "src/trains/500_series/12/500_series_2cc.png") {template_12_reversed(1,41)}
spriteset(ss_500_series_cab01b_2cc_10,             	        "src/trains/500_series/10/500_series_2cc.png") {template_10_reversed(1,41)}

switch (FEAT_TRAINS, SELF, sw_500_series_cab01b_2cc, param_spritelength) {
	1: ss_500_series_cab01b_2cc_10;				 	        // Length 10
	ss_500_series_cab01b_2cc_12;					        // Length 12
}

// 500 Series Type EVA
spriteset(ss_500_series_cab01b_eva_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_cab01b_eva_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_cab01b_eva_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series_eva.png") {template_12_reversed(1,41)}
alternative_sprites(ss_500_series_cab01b_eva_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series_eva.png") {template_10_reversed(1,41)}		

switch (FEAT_TRAINS, SELF, sw_500_series_cab01b_eva, param_spritelength) {
	1: ss_500_series_cab01b_eva_10;				            // Length 10
	ss_500_series_cab01b_eva_12;				            // Length 12
}

// 500 Series Type Hello Kitty
spriteset(ss_500_series_cab01b_kitty_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_cab01b_kitty_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_cab01b_kitty_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series_hk.png") {template_12_reversed(1,41)}
alternative_sprites(ss_500_series_cab01b_kitty_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series_hk.png") {template_10_reversed(1,41)}		

switch (FEAT_TRAINS, SELF, sw_500_series_cab01b_kitty, param_spritelength) {
	1: ss_500_series_cab01b_kitty_10;				        // Length 10
	ss_500_series_cab01b_kitty_12;				            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_500_series_cab01b, cargo_subtype) {
        1: sw_500_series_cab01b_2cc;
        2: sw_500_series_cab01b_eva;
        3: sw_500_series_cab01b_kitty;
        sw_500_series_cab01b_original;
    }
# 1 "src/trains/500_series/500_series.pnml" 2
# 1 "src/trains/500_series/pnml/sprites/500_series_cab02.pnml" 1
/* cab02 */

// FORWARDS

// 500 Series Original
spriteset(ss_500_series_cab02f_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_cab02f_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_cab02f_original_12,       ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series.png") {template_12_cab_rev_standard(1,41)}
alternative_sprites(ss_500_series_cab02f_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series.png") {template_10_cab_rev_standard(1,41)}		

switch (FEAT_TRAINS, SELF, sw_500_series_cab02f_original, param_spritelength) {
	1: ss_500_series_cab02f_original_10;				    // Length 10
	ss_500_series_cab02f_original_12;				        // Length 12
}

// 500 Series 2cc
spriteset(ss_500_series_cab02f_2cc_12,             	        "src/trains/500_series/12/500_series_2cc.png") {template_12_cab_rev_standard(1,41)}
spriteset(ss_500_series_cab02f_2cc_10,             	        "src/trains/500_series/10/500_series_2cc.png") {template_10_cab_rev_standard(1,41)}

switch (FEAT_TRAINS, SELF, sw_500_series_cab02f_2cc, param_spritelength) {
	1: ss_500_series_cab02f_2cc_10;				            // Length 10
	ss_500_series_cab02f_2cc_12;					        // Length 12
}

// 500 Series Type EVA
spriteset(ss_500_series_cab02f_eva_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_cab02f_eva_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_cab02f_eva_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series_eva.png") {template_12_cab_rev_standard(1,360)}
alternative_sprites(ss_500_series_cab02f_eva_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series_eva.png") {template_10_cab_rev_standard(1,360)}		

switch (FEAT_TRAINS, SELF, sw_500_series_cab02f_eva, param_spritelength) {
	1: ss_500_series_cab02f_eva_10;				            // Length 10
	ss_500_series_cab02f_eva_12;				            // Length 12
}

// 500 Series Hello Kitty
spriteset(ss_500_series_cab02f_kitty_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_cab02f_kitty_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_cab02f_kitty_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series_hk.png") {template_12_cab_rev_standard(1,121)}
alternative_sprites(ss_500_series_cab02f_kitty_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series_hk.png") {template_10_cab_rev_standard(1,121)}		

switch (FEAT_TRAINS, SELF, sw_500_series_cab02f_kitty, param_spritelength) {
	1: ss_500_series_cab02f_kitty_10;				        // Length 10
	ss_500_series_cab02f_kitty_12;				            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_500_series_cab02f, cargo_subtype) {
        1: sw_500_series_cab02f_2cc;
        2: sw_500_series_cab02f_eva;
        3: sw_500_series_cab02f_kitty;
        sw_500_series_cab02f_original;
    }

// BACKWARDS

// 500 Series Original
spriteset(ss_500_series_cab02b_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_cab02b_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_cab02b_original_12,       ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series.png") {template_12_cab_rev_reversed(1,1)}
alternative_sprites(ss_500_series_cab02b_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series.png") {template_10_cab_rev_reversed(1,1)}		

switch (FEAT_TRAINS, SELF, sw_500_series_cab02b_original, param_spritelength) {
	1: ss_500_series_cab02b_original_10;				    // Length 10
	ss_500_series_cab02b_original_12;				        // Length 12
}

// 500 Series 2cc
spriteset(ss_500_series_cab02b_2cc_12,             	        "src/trains/500_series/12/500_series_2cc.png") {template_12_cab_rev_reversed(1,1)}
spriteset(ss_500_series_cab02b_2cc_10,             	        "src/trains/500_series/10/500_series_2cc.png") {template_10_cab_rev_reversed(1,1)}

switch (FEAT_TRAINS, SELF, sw_500_series_cab02b_2cc, param_spritelength) {
	1: ss_500_series_cab02b_2cc_10;				 	        // Length 10
	ss_500_series_cab02b_2cc_12;					        // Length 12
}

// 500 Series Type EVA
spriteset(ss_500_series_cab02b_eva_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_cab02b_eva_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_cab02b_eva_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series_eva.png") {template_12_cab_rev_reversed(1,320)}
alternative_sprites(ss_500_series_cab02b_eva_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series_eva.png") {template_10_cab_rev_reversed(1,320)}		

switch (FEAT_TRAINS, SELF, sw_500_series_cab02b_eva, param_spritelength) {
	1: ss_500_series_cab02b_eva_10;				            // Length 10
	ss_500_series_cab02b_eva_12;				            // Length 12
}

// 500 Series Type Hello Kitty
spriteset(ss_500_series_cab02b_kitty_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_cab02b_kitty_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_cab02b_kitty_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series_hk.png") {template_12_cab_rev_reversed(1,81)}
alternative_sprites(ss_500_series_cab02b_kitty_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series_hk.png") {template_10_cab_rev_reversed(1,81)}		

switch (FEAT_TRAINS, SELF, sw_500_series_cab02b_kitty, param_spritelength) {
	1: ss_500_series_cab02b_kitty_10;				        // Length 10
	ss_500_series_cab02b_kitty_12;				            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_500_series_cab02b, cargo_subtype) {
        1: sw_500_series_cab02b_2cc;
        2: sw_500_series_cab02b_eva;
        3: sw_500_series_cab02b_kitty;
        sw_500_series_cab02b_original;
    }
# 1 "src/trains/500_series/500_series.pnml" 2
# 1 "src/trains/500_series/pnml/sprites/500_series_coac3.pnml" 1
/* coac3 */

// FORWARDS

// 500 Series Original
spriteset(ss_500_series_coac3f_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_coac3f_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_coac3f_original_12,       ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series.png") {template_12_standard(1,121)}
alternative_sprites(ss_500_series_coac3f_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series.png") {template_10_standard(1,121)}		

switch (FEAT_TRAINS, SELF, sw_500_series_coac3f_original, param_spritelength) {
	1: ss_500_series_coac3f_original_10;				    // Length 10
	ss_500_series_coac3f_original_12;				        // Length 12
}

// 500 Series 2cc
spriteset(ss_500_series_coac3f_2cc_12,             	        "src/trains/500_series/12/500_series_2cc.png") {template_12_standard(1,121)}
spriteset(ss_500_series_coac3f_2cc_10,             	        "src/trains/500_series/10/500_series_2cc.png") {template_10_standard(1,121)}

switch (FEAT_TRAINS, SELF, sw_500_series_coac3f_2cc, param_spritelength) {
	1: ss_500_series_coac3f_2cc_10;				            // Length 10
	ss_500_series_coac3f_2cc_12;					        // Length 12
}

// 500 Series Type EVA
spriteset(ss_500_series_coac3f_eva_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_coac3f_eva_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_coac3f_eva_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series_eva.png") {template_12_cab_rev_standard(1,121)}
alternative_sprites(ss_500_series_coac3f_eva_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series_eva.png") {template_10_cab_rev_standard(1,121)}		

switch (FEAT_TRAINS, SELF, sw_500_series_coac3f_eva, param_spritelength) {
	1: ss_500_series_coac3f_eva_10;				            // Length 10
	ss_500_series_coac3f_eva_12;				            // Length 12
}

// 500 Series Hello Kitty
spriteset(ss_500_series_coac3f_kitty_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_coac3f_kitty_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_coac3f_kitty_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series_hk.png") {template_12_standard(1,241)}
alternative_sprites(ss_500_series_coac3f_kitty_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series_hk.png") {template_10_standard(1,241)}		

switch (FEAT_TRAINS, SELF, sw_500_series_coac3f_kitty, param_spritelength) {
	1: ss_500_series_coac3f_kitty_10;				        // Length 10
	ss_500_series_coac3f_kitty_12;				            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_500_series_coac3f, cargo_subtype) {
        1: sw_500_series_coac3f_2cc;
        2: sw_500_series_coac3f_eva;
        3: sw_500_series_coac3f_kitty;
        sw_500_series_coac3f_original;
    }

// BACKWARDS

// 500 Series Original
spriteset(ss_500_series_coac3b_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_coac3b_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_coac3b_original_12,       ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series.png") {template_12_reversed(1,121)}
alternative_sprites(ss_500_series_coac3b_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series.png") {template_10_reversed(1,121)}		

switch (FEAT_TRAINS, SELF, sw_500_series_coac3b_original, param_spritelength) {
	1: ss_500_series_coac3b_original_10;				    // Length 10
	ss_500_series_coac3b_original_12;				        // Length 12
}

// 500 Series 2cc
spriteset(ss_500_series_coac3b_2cc_12,             	        "src/trains/500_series/12/500_series_2cc.png") {template_12_reversed(1,121)}
spriteset(ss_500_series_coac3b_2cc_10,             	        "src/trains/500_series/10/500_series_2cc.png") {template_10_reversed(1,121)}

switch (FEAT_TRAINS, SELF, sw_500_series_coac3b_2cc, param_spritelength) {
	1: ss_500_series_coac3b_2cc_10;				 	        // Length 10
	ss_500_series_coac3b_2cc_12;					        // Length 12
}

// 500 Series Type EVA
spriteset(ss_500_series_coac3b_eva_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_coac3b_eva_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_coac3b_eva_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series_eva.png") {template_12_cab_rev_reversed(1,121)}
alternative_sprites(ss_500_series_coac3b_eva_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series_eva.png") {template_10_cab_rev_reversed(1,121)}		

switch (FEAT_TRAINS, SELF, sw_500_series_coac3b_eva, param_spritelength) {
	1: ss_500_series_coac3b_eva_10;				            // Length 10
	ss_500_series_coac3b_eva_12;				            // Length 12
}

// 500 Series Type Hello Kitty
spriteset(ss_500_series_coac3b_kitty_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_coac3b_kitty_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_coac3b_kitty_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series_hk.png") {template_12_reversed(1,241)}
alternative_sprites(ss_500_series_coac3b_kitty_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series_hk.png") {template_10_reversed(1,241)}		

switch (FEAT_TRAINS, SELF, sw_500_series_coac3b_kitty, param_spritelength) {
	1: ss_500_series_coac3b_kitty_10;				        // Length 10
	ss_500_series_coac3b_kitty_12;				            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_500_series_coac3b, cargo_subtype) {
        1: sw_500_series_coac3b_2cc;
        2: sw_500_series_coac3b_eva;
        3: sw_500_series_coac3b_kitty;
        sw_500_series_coac3b_original;
    }
# 1 "src/trains/500_series/500_series.pnml" 2
# 1 "src/trains/500_series/pnml/sprites/500_series_coac4.pnml" 1
/* coac4 */

// FORWARDS

// 500 Series Original
spriteset(ss_500_series_coac4f_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_coac4f_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_coac4f_original_12,       ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series.png") {template_12_standard(1,121)}
alternative_sprites(ss_500_series_coac4f_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series.png") {template_10_standard(1,121)}		

switch (FEAT_TRAINS, SELF, sw_500_series_coac4f_original, param_spritelength) {
	1: ss_500_series_coac4f_original_10;				    // Length 10
	ss_500_series_coac4f_original_12;				        // Length 12
}

// 500 Series 2cc
spriteset(ss_500_series_coac4f_2cc_12,             	        "src/trains/500_series/12/500_series_2cc.png") {template_12_standard(1,121)}
spriteset(ss_500_series_coac4f_2cc_10,             	        "src/trains/500_series/10/500_series_2cc.png") {template_10_standard(1,121)}

switch (FEAT_TRAINS, SELF, sw_500_series_coac4f_2cc, param_spritelength) {
	1: ss_500_series_coac4f_2cc_10;				            // Length 10
	ss_500_series_coac4f_2cc_12;					        // Length 12
}

// 500 Series Type EVA
spriteset(ss_500_series_coac4f_eva_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_coac4f_eva_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_coac4f_eva_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series_eva.png") {template_12_cab_rev_standard(1,161)}
alternative_sprites(ss_500_series_coac4f_eva_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series_eva.png") {template_10_cab_rev_standard(1,161)}		

switch (FEAT_TRAINS, SELF, sw_500_series_coac4f_eva, param_spritelength) {
	1: ss_500_series_coac4f_eva_10;				            // Length 10
	ss_500_series_coac4f_eva_12;				            // Length 12
}

// 500 Series Hello Kitty
spriteset(ss_500_series_coac4f_kitty_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_coac4f_kitty_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_coac4f_kitty_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series_hk.png") {template_12_cab_rev_standard(1,241)}
alternative_sprites(ss_500_series_coac4f_kitty_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series_hk.png") {template_10_cab_rev_standard(1,241)}		

switch (FEAT_TRAINS, SELF, sw_500_series_coac4f_kitty, param_spritelength) {
	1: ss_500_series_coac4f_kitty_10;				        // Length 10
	ss_500_series_coac4f_kitty_12;				            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_500_series_coac4f, cargo_subtype) {
        1: sw_500_series_coac4f_2cc;
        2: sw_500_series_coac4f_eva;
        3: sw_500_series_coac4f_kitty;
        sw_500_series_coac4f_original;
    }

// BACKWARDS

// 500 Series Original
spriteset(ss_500_series_coac4b_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_coac4b_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_coac4b_original_12,       ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series.png") {template_12_reversed(1,121)}
alternative_sprites(ss_500_series_coac4b_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series.png") {template_10_reversed(1,121)}		

switch (FEAT_TRAINS, SELF, sw_500_series_coac4b_original, param_spritelength) {
	1: ss_500_series_coac4b_original_10;				    // Length 10
	ss_500_series_coac4b_original_12;				        // Length 12
}

// 500 Series 2cc
spriteset(ss_500_series_coac4b_2cc_12,             	        "src/trains/500_series/12/500_series_2cc.png") {template_12_reversed(1,121)}
spriteset(ss_500_series_coac4b_2cc_10,             	        "src/trains/500_series/10/500_series_2cc.png") {template_10_reversed(1,121)}

switch (FEAT_TRAINS, SELF, sw_500_series_coac4b_2cc, param_spritelength) {
	1: ss_500_series_coac4b_2cc_10;				 	        // Length 10
	ss_500_series_coac4b_2cc_12;					        // Length 12
}

// 500 Series Type EVA
spriteset(ss_500_series_coac4b_eva_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_coac4b_eva_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_coac4b_eva_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series_eva.png") {template_12_cab_rev_reversed(1,161)}
alternative_sprites(ss_500_series_coac4b_eva_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series_eva.png") {template_10_cab_rev_reversed(1,161)}		

switch (FEAT_TRAINS, SELF, sw_500_series_coac4b_eva, param_spritelength) {
	1: ss_500_series_coac4b_eva_10;				            // Length 10
	ss_500_series_coac4b_eva_12;				            // Length 12
}

// 500 Series Type Hello Kitty
spriteset(ss_500_series_coac4b_kitty_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_coac4b_kitty_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_coac4b_kitty_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series_hk.png") {template_12_cab_rev_reversed(1,241)}
alternative_sprites(ss_500_series_coac4b_kitty_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series_hk.png") {template_10_cab_rev_reversed(1,241)}		

switch (FEAT_TRAINS, SELF, sw_500_series_coac4b_kitty, param_spritelength) {
	1: ss_500_series_coac4b_kitty_10;				        // Length 10
	ss_500_series_coac4b_kitty_12;				            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_500_series_coac4b, cargo_subtype) {
        1: sw_500_series_coac4b_2cc;
        2: sw_500_series_coac4b_eva;
        3: sw_500_series_coac4b_kitty;
        sw_500_series_coac4b_original;
    }
# 1 "src/trains/500_series/500_series.pnml" 2
# 1 "src/trains/500_series/pnml/sprites/500_series_coac5.pnml" 1
/* coac5 */

// FORWARDS

// 500 Series Original
spriteset(ss_500_series_coac5f_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_coac5f_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_coac5f_original_12,       ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series.png") {template_12_standard(1,121)}
alternative_sprites(ss_500_series_coac5f_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series.png") {template_10_standard(1,121)}		

switch (FEAT_TRAINS, SELF, sw_500_series_coac5f_original, param_spritelength) {
	1: ss_500_series_coac5f_original_10;				    // Length 10
	ss_500_series_coac5f_original_12;				        // Length 12
}

// 500 Series 2cc
spriteset(ss_500_series_coac5f_2cc_12,             	        "src/trains/500_series/12/500_series_2cc.png") {template_12_standard(1,121)}
spriteset(ss_500_series_coac5f_2cc_10,             	        "src/trains/500_series/10/500_series_2cc.png") {template_10_standard(1,121)}

switch (FEAT_TRAINS, SELF, sw_500_series_coac5f_2cc, param_spritelength) {
	1: ss_500_series_coac5f_2cc_10;				            // Length 10
	ss_500_series_coac5f_2cc_12;					        // Length 12
}

// 500 Series Type EVA
spriteset(ss_500_series_coac5f_eva_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_coac5f_eva_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_coac5f_eva_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series_eva.png") {template_12_standard(1,201)}
alternative_sprites(ss_500_series_coac5f_eva_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series_eva.png") {template_10_standard(1,201)}		

switch (FEAT_TRAINS, SELF, sw_500_series_coac5f_eva, param_spritelength) {
	1: ss_500_series_coac5f_eva_10;				            // Length 10
	ss_500_series_coac5f_eva_12;				            // Length 12
}

// 500 Series Hello Kitty
spriteset(ss_500_series_coac5f_kitty_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_coac5f_kitty_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_coac5f_kitty_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series_hk.png") {template_12_standard(1,280)}
alternative_sprites(ss_500_series_coac5f_kitty_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series_hk.png") {template_10_standard(1,280)}		

switch (FEAT_TRAINS, SELF, sw_500_series_coac5f_kitty, param_spritelength) {
	1: ss_500_series_coac5f_kitty_10;				        // Length 10
	ss_500_series_coac5f_kitty_12;				            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_500_series_coac5f, cargo_subtype) {
        1: sw_500_series_coac5f_2cc;
        2: sw_500_series_coac5f_eva;
        3: sw_500_series_coac5f_kitty;
        sw_500_series_coac5f_original;
    }

// BACKWARDS

// 500 Series Original
spriteset(ss_500_series_coac5b_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_coac5b_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_coac5b_original_12,       ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series.png") {template_12_reversed(1,121)}
alternative_sprites(ss_500_series_coac5b_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series.png") {template_10_reversed(1,121)}		

switch (FEAT_TRAINS, SELF, sw_500_series_coac5b_original, param_spritelength) {
	1: ss_500_series_coac5b_original_10;				    // Length 10
	ss_500_series_coac5b_original_12;				        // Length 12
}

// 500 Series 2cc
spriteset(ss_500_series_coac5b_2cc_12,             	        "src/trains/500_series/12/500_series_2cc.png") {template_12_reversed(1,121)}
spriteset(ss_500_series_coac5b_2cc_10,             	        "src/trains/500_series/10/500_series_2cc.png") {template_10_reversed(1,121)}

switch (FEAT_TRAINS, SELF, sw_500_series_coac5b_2cc, param_spritelength) {
	1: ss_500_series_coac5b_2cc_10;				 	        // Length 10
	ss_500_series_coac5b_2cc_12;					        // Length 12
}

// 500 Series Type EVA
spriteset(ss_500_series_coac5b_eva_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_coac5b_eva_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_coac5b_eva_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series_eva.png") {template_12_reversed(1,201)}
alternative_sprites(ss_500_series_coac5b_eva_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series_eva.png") {template_10_reversed(1,201)}		

switch (FEAT_TRAINS, SELF, sw_500_series_coac5b_eva, param_spritelength) {
	1: ss_500_series_coac5b_eva_10;				            // Length 10
	ss_500_series_coac5b_eva_12;				            // Length 12
}

// 500 Series Type Hello Kitty
spriteset(ss_500_series_coac5b_kitty_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_coac5b_kitty_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_coac5b_kitty_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series_hk.png") {template_12_reversed(1,280)}
alternative_sprites(ss_500_series_coac5b_kitty_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series_hk.png") {template_10_reversed(1,280)}		

switch (FEAT_TRAINS, SELF, sw_500_series_coac5b_kitty, param_spritelength) {
	1: ss_500_series_coac5b_kitty_10;				        // Length 10
	ss_500_series_coac5b_kitty_12;				            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_500_series_coac5b, cargo_subtype) {
        1: sw_500_series_coac5b_2cc;
        2: sw_500_series_coac5b_eva;
        3: sw_500_series_coac5b_kitty;
        sw_500_series_coac5b_original;
    }
# 1 "src/trains/500_series/500_series.pnml" 2
# 1 "src/trains/500_series/pnml/sprites/500_series_coac6.pnml" 1
/* coac6 */

// FORWARDS

// 500 Series Original
spriteset(ss_500_series_coac6f_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_coac6f_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_coac6f_original_12,       ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series.png") {template_12_standard(1,121)}
alternative_sprites(ss_500_series_coac6f_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series.png") {template_10_standard(1,121)}		

switch (FEAT_TRAINS, SELF, sw_500_series_coac6f_original, param_spritelength) {
	1: ss_500_series_coac6f_original_10;				    // Length 10
	ss_500_series_coac6f_original_12;				        // Length 12
}

// 500 Series 2cc
spriteset(ss_500_series_coac6f_2cc_12,             	        "src/trains/500_series/12/500_series_2cc.png") {template_12_standard(1,121)}
spriteset(ss_500_series_coac6f_2cc_10,             	        "src/trains/500_series/10/500_series_2cc.png") {template_10_standard(1,121)}

switch (FEAT_TRAINS, SELF, sw_500_series_coac6f_2cc, param_spritelength) {
	1: ss_500_series_coac6f_2cc_10;				            // Length 10
	ss_500_series_coac6f_2cc_12;					        // Length 12
}

// 500 Series Type EVA
spriteset(ss_500_series_coac6f_eva_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_coac6f_eva_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_coac6f_eva_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series_eva.png") {template_12_cab_rev_standard(1,241)}
alternative_sprites(ss_500_series_coac6f_eva_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series_eva.png") {template_10_cab_rev_standard(1,241)}		

switch (FEAT_TRAINS, SELF, sw_500_series_coac6f_eva, param_spritelength) {
	1: ss_500_series_coac6f_eva_10;				            // Length 10
	ss_500_series_coac6f_eva_12;				            // Length 12
}

// 500 Series Hello Kitty
spriteset(ss_500_series_coac6f_kitty_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_coac6f_kitty_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_coac6f_kitty_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series_hk.png") {template_12_cab_rev_standard(1,280)}
alternative_sprites(ss_500_series_coac6f_kitty_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series_hk.png") {template_10_cab_rev_standard(1,280)}		

switch (FEAT_TRAINS, SELF, sw_500_series_coac6f_kitty, param_spritelength) {
	1: ss_500_series_coac6f_kitty_10;				        // Length 10
	ss_500_series_coac6f_kitty_12;				            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_500_series_coac6f, cargo_subtype) {
        1: sw_500_series_coac6f_2cc;
        2: sw_500_series_coac6f_eva;
        3: sw_500_series_coac6f_kitty;
        sw_500_series_coac6f_original;
    }

// BACKWARDS

// 500 Series Original
spriteset(ss_500_series_coac6b_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_coac6b_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_coac6b_original_12,       ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series.png") {template_12_reversed(1,121)}
alternative_sprites(ss_500_series_coac6b_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series.png") {template_10_reversed(1,121)}		

switch (FEAT_TRAINS, SELF, sw_500_series_coac6b_original, param_spritelength) {
	1: ss_500_series_coac6b_original_10;				    // Length 10
	ss_500_series_coac6b_original_12;				        // Length 12
}

// 500 Series 2cc
spriteset(ss_500_series_coac6b_2cc_12,             	        "src/trains/500_series/12/500_series_2cc.png") {template_12_reversed(1,121)}
spriteset(ss_500_series_coac6b_2cc_10,             	        "src/trains/500_series/10/500_series_2cc.png") {template_10_reversed(1,121)}

switch (FEAT_TRAINS, SELF, sw_500_series_coac6b_2cc, param_spritelength) {
	1: ss_500_series_coac6b_2cc_10;				 	        // Length 10
	ss_500_series_coac6b_2cc_12;					        // Length 12
}

// 500 Series Type EVA
spriteset(ss_500_series_coac6b_eva_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_coac6b_eva_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_coac6b_eva_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series_eva.png") {template_12_cab_rev_reversed(1,241)}
alternative_sprites(ss_500_series_coac6b_eva_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series_eva.png") {template_10_cab_rev_reversed(1,241)}		

switch (FEAT_TRAINS, SELF, sw_500_series_coac6b_eva, param_spritelength) {
	1: ss_500_series_coac6b_eva_10;				            // Length 10
	ss_500_series_coac6b_eva_12;				            // Length 12
}

// 500 Series Type Hello Kitty
spriteset(ss_500_series_coac6b_kitty_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_coac6b_kitty_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_coac6b_kitty_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series_hk.png") {template_12_cab_rev_reversed(1,280)}
alternative_sprites(ss_500_series_coac6b_kitty_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series_hk.png") {template_10_cab_rev_reversed(1,280)}		

switch (FEAT_TRAINS, SELF, sw_500_series_coac6b_kitty, param_spritelength) {
	1: ss_500_series_coac6b_kitty_10;				        // Length 10
	ss_500_series_coac6b_kitty_12;				            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_500_series_coac6b, cargo_subtype) {
        1: sw_500_series_coac6b_2cc;
        2: sw_500_series_coac6b_eva;
        3: sw_500_series_coac6b_kitty;
        sw_500_series_coac6b_original;
    }
# 1 "src/trains/500_series/500_series.pnml" 2
# 1 "src/trains/500_series/pnml/sprites/500_series_pant2.pnml" 1
/* pant2 */

// FORWARDS

// 500 Series Original
spriteset(ss_500_series_pant2f_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_pant2f_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_pant2f_original_12,       ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series.png") {template_12_standard(1,81)}
alternative_sprites(ss_500_series_pant2f_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series.png") {template_10_standard(1,81)}		

switch (FEAT_TRAINS, SELF, sw_500_series_pant2f_original, param_spritelength) {
	1: ss_500_series_pant2f_original_10;				    // Length 10
	ss_500_series_pant2f_original_12;				        // Length 12
}

// 500 Series 2cc
spriteset(ss_500_series_pant2f_2cc_12,             	        "src/trains/500_series/12/500_series_2cc.png") {template_12_standard(1,81)}
spriteset(ss_500_series_pant2f_2cc_10,             	        "src/trains/500_series/10/500_series_2cc.png") {template_10_standard(1,81)}

switch (FEAT_TRAINS, SELF, sw_500_series_pant2f_2cc, param_spritelength) {
	1: ss_500_series_pant2f_2cc_10;				            // Length 10
	ss_500_series_pant2f_2cc_12;					        // Length 12
}

// 500 Series Type EVA
spriteset(ss_500_series_pant2f_eva_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_pant2f_eva_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_pant2f_eva_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series_eva.png") {template_12_standard(1,81)}
alternative_sprites(ss_500_series_pant2f_eva_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series_eva.png") {template_10_standard(1,81)}		

switch (FEAT_TRAINS, SELF, sw_500_series_pant2f_eva, param_spritelength) {
	1: ss_500_series_pant2f_eva_10;				            // Length 10
	ss_500_series_pant2f_eva_12;				            // Length 12
}

// 500 Series Hello Kitty
spriteset(ss_500_series_pant2f_kitty_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_pant2f_kitty_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_pant2f_kitty_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series_hk.png") {template_12_standard(1,161)}
alternative_sprites(ss_500_series_pant2f_kitty_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series_hk.png") {template_10_standard(1,161)}		

switch (FEAT_TRAINS, SELF, sw_500_series_pant2f_kitty, param_spritelength) {
	1: ss_500_series_pant2f_kitty_10;				        // Length 10
	ss_500_series_pant2f_kitty_12;				            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_500_series_pant2f, cargo_subtype) {
        1: sw_500_series_pant2f_2cc;
        2: sw_500_series_pant2f_eva;
        3: sw_500_series_pant2f_kitty;
        sw_500_series_pant2f_original;
    }

// BACKWARDS

// 500 Series Original
spriteset(ss_500_series_pant2b_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_pant2b_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_pant2b_original_12,       ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series.png") {template_12_reversed(1,81)}
alternative_sprites(ss_500_series_pant2b_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series.png") {template_10_reversed(1,81)}		

switch (FEAT_TRAINS, SELF, sw_500_series_pant2b_original, param_spritelength) {
	1: ss_500_series_pant2b_original_10;				    // Length 10
	ss_500_series_pant2b_original_12;				        // Length 12
}

// 500 Series 2cc
spriteset(ss_500_series_pant2b_2cc_12,             	        "src/trains/500_series/12/500_series_2cc.png") {template_12_reversed(1,81)}
spriteset(ss_500_series_pant2b_2cc_10,             	        "src/trains/500_series/10/500_series_2cc.png") {template_10_reversed(1,81)}

switch (FEAT_TRAINS, SELF, sw_500_series_pant2b_2cc, param_spritelength) {
	1: ss_500_series_pant2b_2cc_10;				 	        // Length 10
	ss_500_series_pant2b_2cc_12;					        // Length 12
}

// 500 Series Type EVA
spriteset(ss_500_series_pant2b_eva_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_pant2b_eva_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_pant2b_eva_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series_eva.png") {template_12_reversed(1,81)}
alternative_sprites(ss_500_series_pant2b_eva_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series_eva.png") {template_10_reversed(1,81)}		

switch (FEAT_TRAINS, SELF, sw_500_series_pant2b_eva, param_spritelength) {
	1: ss_500_series_pant2b_eva_10;				            // Length 10
	ss_500_series_pant2b_eva_12;				            // Length 12
}

// 500 Series Type Hello Kitty
spriteset(ss_500_series_pant2b_kitty_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_pant2b_kitty_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_pant2b_kitty_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series_hk.png") {template_12_reversed(1,161)}
alternative_sprites(ss_500_series_pant2b_kitty_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series_hk.png") {template_10_reversed(1,161)}		

switch (FEAT_TRAINS, SELF, sw_500_series_pant2b_kitty, param_spritelength) {
	1: ss_500_series_pant2b_kitty_10;				        // Length 10
	ss_500_series_pant2b_kitty_12;				            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_500_series_pant2b, cargo_subtype) {
        1: sw_500_series_pant2b_2cc;
        2: sw_500_series_pant2b_eva;
        3: sw_500_series_pant2b_kitty;
        sw_500_series_pant2b_original;
    }
# 1 "src/trains/500_series/500_series.pnml" 2
# 1 "src/trains/500_series/pnml/sprites/500_series_pant7.pnml" 1
/* pant7 */

// FORWARDS

// 500 Series Original
spriteset(ss_500_series_pant7f_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_pant7f_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_pant7f_original_12,       ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series.png") {template_12_cab_rev_standard(1,81)}
alternative_sprites(ss_500_series_pant7f_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series.png") {template_10_cab_rev_standard(1,81)}		

switch (FEAT_TRAINS, SELF, sw_500_series_pant7f_original, param_spritelength) {
	1: ss_500_series_pant7f_original_10;				    // Length 10
	ss_500_series_pant7f_original_12;				        // Length 12
}

// 500 Series 2cc
spriteset(ss_500_series_pant7f_2cc_12,             	        "src/trains/500_series/12/500_series_2cc.png") {template_12_cab_rev_standard(1,81)}
spriteset(ss_500_series_pant7f_2cc_10,             	        "src/trains/500_series/10/500_series_2cc.png") {template_10_cab_rev_standard(1,81)}

switch (FEAT_TRAINS, SELF, sw_500_series_pant7f_2cc, param_spritelength) {
	1: ss_500_series_pant7f_2cc_10;				            // Length 10
	ss_500_series_pant7f_2cc_12;					        // Length 12
}

// 500 Series Type EVA
spriteset(ss_500_series_pant7f_eva_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_pant7f_eva_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_pant7f_eva_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series_eva.png") {template_12_cab_rev_standard(1,280)}
alternative_sprites(ss_500_series_pant7f_eva_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series_eva.png") {template_10_cab_rev_standard(1,280)}		

switch (FEAT_TRAINS, SELF, sw_500_series_pant7f_eva, param_spritelength) {
	1: ss_500_series_pant7f_eva_10;				            // Length 10
	ss_500_series_pant7f_eva_12;				            // Length 12
}

// 500 Series Hello Kitty
spriteset(ss_500_series_pant7f_kitty_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_pant7f_kitty_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_pant7f_kitty_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series_hk.png") {template_12_cab_rev_standard(1,201)}
alternative_sprites(ss_500_series_pant7f_kitty_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series_hk.png") {template_10_cab_rev_standard(1,201)}		

switch (FEAT_TRAINS, SELF, sw_500_series_pant7f_kitty, param_spritelength) {
	1: ss_500_series_pant7f_kitty_10;				        // Length 10
	ss_500_series_pant7f_kitty_12;				            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_500_series_pant7f, cargo_subtype) {
        1: sw_500_series_pant7f_2cc;
        2: sw_500_series_pant7f_eva;
        3: sw_500_series_pant7f_kitty;
        sw_500_series_pant7f_original;
    }

// BACKWARDS

// 500 Series Original
spriteset(ss_500_series_pant7b_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_pant7b_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_pant7b_original_12,       ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series.png") {template_12_cab_rev_reversed(1,81)}
alternative_sprites(ss_500_series_pant7b_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series.png") {template_10_cab_rev_reversed(1,81)}		

switch (FEAT_TRAINS, SELF, sw_500_series_pant7b_original, param_spritelength) {
	1: ss_500_series_pant7b_original_10;				    // Length 10
	ss_500_series_pant7b_original_12;				        // Length 12
}

// 500 Series 2cc
spriteset(ss_500_series_pant7b_2cc_12,             	        "src/trains/500_series/12/500_series_2cc.png") {template_12_cab_rev_reversed(1,81)}
spriteset(ss_500_series_pant7b_2cc_10,             	        "src/trains/500_series/10/500_series_2cc.png") {template_10_cab_rev_reversed(1,81)}

switch (FEAT_TRAINS, SELF, sw_500_series_pant7b_2cc, param_spritelength) {
	1: ss_500_series_pant7b_2cc_10;				 	        // Length 10
	ss_500_series_pant7b_2cc_12;					        // Length 12
}

// 500 Series Type EVA
spriteset(ss_500_series_pant7b_eva_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_pant7b_eva_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_pant7b_eva_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series_eva.png") {template_12_cab_rev_reversed(1,280)}
alternative_sprites(ss_500_series_pant7b_eva_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series_eva.png") {template_10_cab_rev_reversed(1,280)}		

switch (FEAT_TRAINS, SELF, sw_500_series_pant7b_eva, param_spritelength) {
	1: ss_500_series_pant7b_eva_10;				            // Length 10
	ss_500_series_pant7b_eva_12;				            // Length 12
}

// 500 Series Type Hello Kitty
spriteset(ss_500_series_pant7b_kitty_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_500_series_pant7b_kitty_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_500_series_pant7b_kitty_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/12/500_series_hk.png") {template_12_cab_rev_reversed(1,201)}
alternative_sprites(ss_500_series_pant7b_kitty_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/500_series/10/500_series_hk.png") {template_10_cab_rev_reversed(1,201)}		

switch (FEAT_TRAINS, SELF, sw_500_series_pant7b_kitty, param_spritelength) {
	1: ss_500_series_pant7b_kitty_10;				        // Length 10
	ss_500_series_pant7b_kitty_12;				            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_500_series_pant7b, cargo_subtype) {
        1: sw_500_series_pant7b_2cc;
        2: sw_500_series_pant7b_eva;
        3: sw_500_series_pant7b_kitty;
        sw_500_series_pant7b_original;
    }
# 1 "src/trains/500_series/500_series.pnml" 2
# 1 "src/trains/500_series/pnml/500_series_formations.pnml" 1

/* Smaller size */
    // Backwards
    switch (FEAT_TRAINS, SELF, sw_500_series_short_backwards, position_in_consist ) {				
		4:  sw_500_series_pant7b;
		7:  sw_500_series_coac6b;
		10: sw_500_series_coac5b;
		13: sw_500_series_coac4b;
		16: sw_500_series_coac3b;
        19: sw_500_series_pant2b;
		dummy_sprites;			
	}

    // Forwards
    switch (FEAT_TRAINS, SELF, sw_500_series_short_forwards, position_in_consist_from_end ) {				
		4:  sw_500_series_pant7f;
		7:  sw_500_series_coac6f;
		10: sw_500_series_coac5f;
		13: sw_500_series_coac4f;
		16: sw_500_series_coac3f;
        19: sw_500_series_pant2f;
		dummy_sprites;			
	}

    // Direction
    switch (FEAT_TRAINS, PARENT, sw_500_series_short, vehicle_is_reversed) {				
            1:  sw_500_series_short_backwards;          // backwards
            sw_500_series_short_forwards;               // forwards
        }

/* Longer with penultimate pantos */
    // Coach cars
        // Backwards
        switch (FEAT_TRAINS, SELF, sw_500_series_ppa_coachcar_backwards, (position_in_consist_from_end - 6) % 12 ) {				
                    1:  sw_500_series_coac3b;
                    4:  sw_500_series_coac4b;
                    7:  sw_500_series_coac5b;
                    10: sw_500_series_coac6b;
                    dummy_sprites;				
                }

        // Forwards
        switch (FEAT_TRAINS, SELF, sw_500_series_ppa_coachcar_forwards, (position_in_consist - 6) % 12 ) {				
                    1:  sw_500_series_coac3f;
                    4:  sw_500_series_coac4f;
                    7:  sw_500_series_coac5f;
                    10: sw_500_series_coac6f;
                    dummy_sprites;				
                }

        switch (FEAT_TRAINS, PARENT, sw_500_series_ppa_coachcar, vehicle_is_reversed) {				
                    1:  sw_500_series_ppa_coachcar_backwards;                   
                    sw_500_series_ppa_coachcar_forwards;                       	
                }

    // Panto cars
        // Rear panto
        switch (FEAT_TRAINS, PARENT, sw_500_series_rear_panto, vehicle_is_reversed) {				
                1:  sw_500_series_pant2b;                  
                sw_500_series_pant7f;                      
            }
        
        // Lead panto
        switch (FEAT_TRAINS, PARENT, sw_500_series_lead_panto, vehicle_is_reversed) {				
                1:  sw_500_series_pant7b;                   
                sw_500_series_pant2f;                       	
            }

        switch (FEAT_TRAINS, SELF, sw_500_series_ppa_pantocar, position_in_consist) {				
                4:  sw_500_series_lead_panto;
                sw_500_series_rear_panto;				
            }
    
    // Panto or Coach?
    switch (FEAT_TRAINS, SELF, sw_500_series_panto_penultimate_all, position_in_consist == 4 || position_in_consist_from_end == 4) {				
            1:  sw_500_series_ppa_pantocar;
            sw_500_series_ppa_coachcar;				
        }

/* Longer adjustable pantos */
    // Backwards
        switch (FEAT_TRAINS, SELF, sw_500_series_long_stable_state_backwards_pantos, position_in_consist_from_end == 13 ) {				
                1:  sw_500_series_pant2b;
                sw_500_series_pant7b;				
            }

        switch (FEAT_TRAINS, SELF, sw_500_series_long_stable_state_backwards, position_in_consist_from_end == 13 || position_in_consist == 10 ) {				
                1:  sw_500_series_long_stable_state_backwards_pantos;
                sw_500_series_coac3b;				
            }
    
    // Forwards
        switch (FEAT_TRAINS, SELF, sw_500_series_long_stable_state_forwards_pantos, position_in_consist == 13 ) {				
                1:  sw_500_series_pant2f;
                sw_500_series_pant7f;				
            }

        switch (FEAT_TRAINS, SELF, sw_500_series_long_stable_state_forwards, position_in_consist == 13 || position_in_consist_from_end == 10 ) {				
                1:  sw_500_series_long_stable_state_forwards_pantos;
                sw_500_series_coac3f;				
            }

    switch (FEAT_TRAINS, PARENT, sw_500_series_long_stable_state, vehicle_is_reversed) {				
            1:  sw_500_series_long_stable_state_backwards;
            sw_500_series_long_stable_state_forwards;			
        }

/* Midcar subtype */
    switch (FEAT_TRAINS, SELF, sw_500_series_panto_adj, num_vehs_in_consist ) {				
			1..45:  sw_500_series_panto_penultimate_all;
			sw_500_series_long_stable_state;				
		}

    switch (FEAT_TRAINS, PARENT, sw_500_series_long, cargo_subtype ) {				
			0..1:  sw_500_series_panto_adj;
			sw_500_series_panto_penultimate_all;				
		}

    switch (FEAT_TRAINS, SELF, sw_500_series_midcars, num_vehs_in_consist ) {				
			1..24:  sw_500_series_short;
			sw_500_series_long;				
		}

/* Cab selection */
    // Rear cab
    switch (FEAT_TRAINS, PARENT, sw_500_series_rear, vehicle_is_reversed) {				
            1:  sw_500_series_cab01b;                   // cab01	
            sw_500_series_cab02f;                       // cab02
        }

    // Lead cab
    switch (FEAT_TRAINS, PARENT, sw_500_series_lead, vehicle_is_reversed) {				
            1:  sw_500_series_cab02b;                   // cab02
            sw_500_series_cab01f;                       // cab01	
        }

/* Find the cabs */
    switch (FEAT_TRAINS, SELF, sw_500_series_lead_or_rear, position_in_consist) {				
            1:  sw_500_series_lead;
            sw_500_series_rear;				
        }
    
    switch (FEAT_TRAINS, SELF, sw_500_series_ends, position_in_consist == 1 || position_in_consist_from_end == 1) {				
            1:  sw_500_series_lead_or_rear;
            sw_500_series_midcars;				
        }
# 1 "src/trains/500_series/500_series.pnml" 2
# 1 "src/trains/500_series/pnml/500_series_item.pnml" 1
// Sprites or Dummy Sprites
switch (FEAT_TRAINS, SELF, sw_500_series_graphics, position_in_consist % 3) {				
	    1:  sw_500_series_ends; 				
	    dummy_sprites;
	}
// Articulation
switch (FEAT_TRAINS, SELF, sw_500_series_articulated_part, extra_callback_info1) {
		1 .. 2: return series_500;									
		return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
	}

/*---Coupling Switch---*/
switch(FEAT_TRAINS, SELF, sw_500_series_attach_vehid, [vehicle_type_id == mu_car_full]) {
        0: return string(ONLY_ADD_MUCAR);
    }

/*---Length Check---*/
switch (FEAT_TRAINS, SELF, sw_500_series_stop_start, num_vehs_in_consist < 12) {				
		1:  return string(STR_LENGTH_ERROR); 				
		return CB_RESULT_NO_TEXT; 
	}

item(FEAT_TRAINS, series_500) {
	property {
		/* Menu */
		name: 							string(STR_NAME_500_SERIES);
		sprite_id:                      SPRITE_ID_NEW_TRAIN; 		// required to enable new graphics
		misc_flags:                     bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU, TRAIN_FLAG_TILT, TRAIN_FLAG_AUTOREFIT);
		running_cost_base:              RUNNING_COST_ELECTRIC;
		engine_class:                   ENGINE_CLASS_ELECTRIC;
		/* Availability */
		climates_available:             ALL_CLIMATES;
		introduction_date:              date(1997,03,01);
		model_life:                     VEHICLE_NEVER_EXPIRES;		//
		vehicle_life:                   30;							// 
		track_type:                     SHINKANSEN;
		/* Cargo */
		reliability_decay:              5;
		refittable_cargo_classes:       bitmask(CC_PASSENGERS);
		refit_cost:                     0;
		default_cargo_type:             PASS;
		ai_special_flag:                AI_FLAG_PASSENGER;
		cargo_capacity:                 1;							// 
		loading_speed:                  50;							
		cargo_age_period:               278; 						// 1.5 times normal for this expensive long-distance train
		/* Stats */
		speed:                          301 km/h;				
		power:                          18240 kW;	                // Changed by callback		
		weight:                         42*16 tons;	                // Changed by callback			
		tractive_effort_coefficient:    0.3;                        // Standard
		air_drag_coefficient:			0;
	}
	graphics {
		/* Menu */
		additional_text:                string(STR_DESC_500_SERIES);
		cargo_subtype_text:             sw_500_series_subtype_text;
		can_attach_wagon:				sw_500_series_attach_vehid;
		start_stop:						sw_500_series_stop_start;
		purchase_weight:                42;
        purchase_power:                 382 * 4;
		/* Graphics */
		default:                        sw_500_series_graphics;
		purchase:                       ss_500_series_buy;
		articulated_part:               sw_500_series_articulated_part;
		visual_effect_and_powered:      sw_visual_effect_and_powered;
		/* Stats */
		length:                         sw_param_length;
		weight:							NumberCarsInConsist() * 42;
		power:							NumberCarsInConsist() * 382 * 4;	// 285 kW
		cargo_capacity:                 28 * CapacityFactor();															
		loading_speed:					28 * CapacityFactor() / param_loading_2D;					// Capacity divided by door loading factor
		cargo_age_period:				param_decay_express;
		cost_factor:                    145;
		running_cost_factor:            (303 + 127 * NumberCarsInConsist() ) * RunningCostFactor();
		purchase_running_cost_factor:   303 + 127 * NumberCarsInConsist();	
	}
	/*Multiple Unit Car*/
	
      livery_override(mu_car_full){
        default:                        sw_500_series_graphics;
        cargo_capacity:                 28 * CapacityFactor();
        cargo_age_period:				param_decay_express;
        loading_speed:					28 * CapacityFactor() / param_loading_2D;
		articulated_part:				sw_mucar_full_articulated_part;
		length:							sw_param_length;
		//power:						// Apply power in graphics block to calculate power based on number of motorised cars correctly
		//weight:						// Apply weight to graphics block to calculate Max T.E. correctly
        //running_cost_factor:            sw_500_series_running_costs;
      }
}
# 1 "src/trains/500_series/500_series.pnml" 2
# 1 "JPplusShinkansen.pnml" 4
# 1 "src/trains/300_series/300_series.pnml" 1

# 1 "src/trains/300_series/pnml/300_series_menu.pnml" 1
/* Subtypes */

	switch(FEAT_TRAINS, SELF, sw_300_series_subtype_text, cargo_subtype) {
		0: return string(LV_300_SERIES);                            // Sharknose
		1: return string(LV_300_SERIES_2CC);                        // Sharknose 2cc
		return CB_RESULT_NO_TEXT;
		}

/* Purchase Menu */
    spriteset (ss_300_series_buy_12,	        	    "src/trains/dummy/purchase.png") {template_purchase(0, 0)}
	spriteset (ss_300_series_buy_10,	        	    "src/trains/dummy/purchase.png") {template_purchase(0, 0)}
    alternative_sprites(ss_300_series_buy_12,           ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/300_series/12/purchase.png") {template_purchase(0, 0)}
    alternative_sprites(ss_300_series_buy_10,           ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/300_series/12/purchase.png") {template_purchase(0, 0)}

		switch (FEAT_TRAINS, SELF, ss_300_series_buy, param_spritelength) {
			1: ss_300_series_buy_10;					// Length 10
			ss_300_series_buy_12;						// Length 12
		}
# 1 "src/trains/300_series/300_series.pnml" 2
# 1 "src/trains/300_series/pnml/sprites/300_series_cab01.pnml" 1
/* cab01 */

// FORWARDS

// 300 Series
spriteset(ss_300_series_cab01f_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_300_series_cab01f_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_300_series_cab01f_12,                ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/300_series/12/300_series.png") {template_12_standard(1,1)}
alternative_sprites(ss_300_series_cab01f_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/300_series/10/300_series.png") {template_10_standard(1,1)}		

switch (FEAT_TRAINS, SELF, sw_300_series_cab01f_irl, param_spritelength) {
	1: ss_300_series_cab01f_10;				                // Length 10
	ss_300_series_cab01f_12;				                // Length 12
}

// 300 Series 2cc
spriteset(ss_300_series_cab01f_2cc_12,             	        "src/trains/300_series/12/300_series_2cc.png") {template_12_standard(1,1)}
spriteset(ss_300_series_cab01f_2cc_10,             	        "src/trains/300_series/10/300_series_2cc.png") {template_10_standard(1,1)}

switch (FEAT_TRAINS, SELF, sw_300_series_cab01f_2cc, param_spritelength) {
	1: ss_300_series_cab01f_2cc_10;				            // Length 10
	ss_300_series_cab01f_2cc_12;					        // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_300_series_cab01f, cargo_subtype) {
        1: sw_300_series_cab01f_2cc;
        sw_300_series_cab01f_irl;
    }

// BACKWARDS

// 300 Series
spriteset(ss_300_series_cab01b_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_300_series_cab01b_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_300_series_cab01b_12,                ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/300_series/12/300_series.png") {template_12_reversed(1,41)}
alternative_sprites(ss_300_series_cab01b_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/300_series/10/300_series.png") {template_10_reversed(1,41)}		

switch (FEAT_TRAINS, SELF, sw_300_series_cab01b_irl, param_spritelength) {
	1: ss_300_series_cab01b_10;				                // Length 10
	ss_300_series_cab01b_12;				                // Length 12
}

// 300 Series 2cc
spriteset(ss_300_series_cab01b_2cc_12,             	        "src/trains/300_series/12/300_series_2cc.png") {template_12_reversed(1,41)}
spriteset(ss_300_series_cab01b_2cc_10,             	        "src/trains/300_series/10/300_series_2cc.png") {template_10_reversed(1,41)}

switch (FEAT_TRAINS, SELF, sw_300_series_cab01b_2cc, param_spritelength) {
	1: ss_300_series_cab01b_2cc_10;				 	        // Length 10
	ss_300_series_cab01b_2cc_12;					        // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_300_series_cab01b, cargo_subtype) {
        1: sw_300_series_cab01b_2cc;
        sw_300_series_cab01b_irl;
    }
# 1 "src/trains/300_series/300_series.pnml" 2
# 1 "src/trains/300_series/pnml/sprites/300_series_cab02.pnml" 1
/* cab02 */

// FORWARDS

// 300 Series
spriteset(ss_300_series_cab02f_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_300_series_cab02f_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_300_series_cab02f_12,                ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/300_series/12/300_series.png") {template_12_cab_rev_standard(1,41)}
alternative_sprites(ss_300_series_cab02f_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/300_series/10/300_series.png") {template_10_cab_rev_standard(1,41)}		

switch (FEAT_TRAINS, SELF, sw_300_series_cab02f_irl, param_spritelength) {
	1: ss_300_series_cab02f_10;				                // Length 10
	ss_300_series_cab02f_12;				                // Length 12
}

// 300 Series 2cc
spriteset(ss_300_series_cab02f_2cc_12,             	        "src/trains/300_series/12/300_series_2cc.png") {template_12_cab_rev_standard(1,41)}
spriteset(ss_300_series_cab02f_2cc_10,             	        "src/trains/300_series/10/300_series_2cc.png") {template_10_cab_rev_standard(1,41)}

switch (FEAT_TRAINS, SELF, sw_300_series_cab02f_2cc, param_spritelength) {
	1: ss_300_series_cab02f_2cc_10;					        // Length 10
	ss_300_series_cab02f_2cc_12;						    // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_300_series_cab02f, cargo_subtype) {
        1: sw_300_series_cab02f_2cc;
        sw_300_series_cab02f_irl;
    }

// BACKWARDS

// 300 Series
spriteset(ss_300_series_cab02b_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_300_series_cab02b_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_300_series_cab02b_12,                ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/300_series/12/300_series.png") {template_12_cab_rev_reversed(1,1)}
alternative_sprites(ss_300_series_cab02b_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/300_series/10/300_series.png") {template_10_cab_rev_reversed(1,1)}		

switch (FEAT_TRAINS, SELF, sw_300_series_cab02b_irl, param_spritelength) {
	1: ss_300_series_cab02b_10;				                // Length 10
	ss_300_series_cab02b_12;				                // Length 12
}

// 300 Series 2cc
spriteset(ss_300_series_cab02b_2cc_12,                      "src/trains/300_series/12/300_series_2cc.png") {template_12_cab_rev_reversed(1,1)}
spriteset(ss_300_series_cab02b_2cc_10,             	        "src/trains/300_series/10/300_series_2cc.png") {template_10_cab_rev_reversed(1,1)}

switch (FEAT_TRAINS, SELF, sw_300_series_cab02b_2cc, param_spritelength) {
	1: ss_300_series_cab02b_2cc_10;					        // Length 10
	ss_300_series_cab02b_2cc_12;						    // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_300_series_cab02b, cargo_subtype) {
        1: sw_300_series_cab02b_2cc;
        sw_300_series_cab02b_irl;
    }
# 1 "src/trains/300_series/300_series.pnml" 2
# 1 "src/trains/300_series/pnml/sprites/300_series_coach.pnml" 1
/* coach */

// FORWARDS

// 300 Series
spriteset(ss_300_series_coachf_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_300_series_coachf_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_300_series_coachf_12,                ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/300_series/12/300_series.png") {template_12_standard(1,121)}
alternative_sprites(ss_300_series_coachf_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/300_series/10/300_series.png") {template_10_standard(1,121)}		

switch (FEAT_TRAINS, SELF, sw_300_series_coachf_irl, param_spritelength) {
	1: ss_300_series_coachf_10;				                // Length 10
	ss_300_series_coachf_12;				                // Length 12
}

// 300 Series 2cc
spriteset(ss_300_series_coachf_2cc_12,             	        "src/trains/300_series/12/300_series_2cc.png") {template_12_standard(1,121)}
spriteset(ss_300_series_coachf_2cc_10,             	        "src/trains/300_series/10/300_series_2cc.png") {template_10_standard(1,121)}

switch (FEAT_TRAINS, SELF, sw_300_series_coachf_2cc, param_spritelength) {
	1: ss_300_series_coachf_2cc_10;				            // Length 10
	ss_300_series_coachf_2cc_12;					        // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_300_series_coachf, cargo_subtype) {
        1: sw_300_series_coachf_2cc;
        sw_300_series_coachf_irl;
    }

// BACKWARDS

// 300 Series
spriteset(ss_300_series_coachb_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_300_series_coachb_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_300_series_coachb_12,                ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/300_series/12/300_series.png") {template_12_reversed(1,121)}
alternative_sprites(ss_300_series_coachb_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/300_series/10/300_series.png") {template_10_reversed(1,121)}		

switch (FEAT_TRAINS, SELF, sw_300_series_coachb_irl, param_spritelength) {
	1: ss_300_series_coachb_10;				                // Length 10
	ss_300_series_coachb_12;				                // Length 12
}

// 300 Series 2cc
spriteset(ss_300_series_coachb_2cc_12,             	        "src/trains/300_series/12/300_series_2cc.png") {template_12_reversed(1,121)}
spriteset(ss_300_series_coachb_2cc_10,             	        "src/trains/300_series/10/300_series_2cc.png") {template_10_reversed(1,121)}

switch (FEAT_TRAINS, SELF, sw_300_series_coachb_2cc, param_spritelength) {
	1: ss_300_series_coachb_2cc_10;				 	        // Length 10
	ss_300_series_coachb_2cc_12;					        // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_300_series_coachb, cargo_subtype) {
        1: sw_300_series_coachb_2cc;
        sw_300_series_coachb_irl;
    }
# 1 "src/trains/300_series/300_series.pnml" 2
# 1 "src/trains/300_series/pnml/sprites/300_series_panto.pnml" 1
/* panto */

// FORWARDS

// 300 Series
spriteset(ss_300_series_pantof_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_300_series_pantof_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_300_series_pantof_12,                ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/300_series/12/300_series.png") {template_12_standard(1,81)}
alternative_sprites(ss_300_series_pantof_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/300_series/10/300_series.png") {template_10_standard(1,81)}		

switch (FEAT_TRAINS, SELF, sw_300_series_pantof_irl, param_spritelength) {
	1: ss_300_series_pantof_10;				                // Length 10
	ss_300_series_pantof_12;				                // Length 12
}

// 300 Series 2cc
spriteset(ss_300_series_pantof_2cc_12,             	        "src/trains/300_series/12/300_series_2cc.png") {template_12_standard(1,81)}
spriteset(ss_300_series_pantof_2cc_10,             	        "src/trains/300_series/10/300_series_2cc.png") {template_10_standard(1,81)}

switch (FEAT_TRAINS, SELF, sw_300_series_pantof_2cc, param_spritelength) {
	1: ss_300_series_pantof_2cc_10;				            // Length 10
	ss_300_series_pantof_2cc_12;					        // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_300_series_pantof, cargo_subtype) {
        1: sw_300_series_pantof_2cc;
        sw_300_series_pantof_irl;
    }

// BACKWARDS

// 300 Series
spriteset(ss_300_series_pantob_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_300_series_pantob_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_300_series_pantob_12,                ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/300_series/12/300_series.png") {template_12_reversed(1,81)}
alternative_sprites(ss_300_series_pantob_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/300_series/10/300_series.png") {template_10_reversed(1,81)}		

switch (FEAT_TRAINS, SELF, sw_300_series_pantob_irl, param_spritelength) {
	1: ss_300_series_pantob_10;				                // Length 10
	ss_300_series_pantob_12;				                // Length 12
}

// 300 Series 2cc
spriteset(ss_300_series_pantob_2cc_12,             	        "src/trains/300_series/12/300_series_2cc.png") {template_12_reversed(1,81)}
spriteset(ss_300_series_pantob_2cc_10,             	        "src/trains/300_series/10/300_series_2cc.png") {template_10_reversed(1,81)}

switch (FEAT_TRAINS, SELF, sw_300_series_pantob_2cc, param_spritelength) {
	1: ss_300_series_pantob_2cc_10;				 	        // Length 10
	ss_300_series_pantob_2cc_12;					        // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_300_series_pantob, cargo_subtype) {
        1: sw_300_series_pantob_2cc;
        sw_300_series_pantob_irl;
    }
# 1 "src/trains/300_series/300_series.pnml" 2
# 1 "src/trains/300_series/pnml/300_series_formations.pnml" 1
// Forwards
    switch (FEAT_TRAINS, SELF, sw_300_series_forwards_6th_and_5_from_end, position_in_consist == 16 || position_in_consist_from_end  == 13) {				
            0:  sw_300_series_coachf;
            sw_300_series_pantof;				
        }

    switch (FEAT_TRAINS, SELF, sw_300_series_forwards_4th_and_5_from_end, position_in_consist == 10 || position_in_consist_from_end  == 13) {				
            0:  sw_300_series_coachf;
            sw_300_series_pantof;				
        }

    switch (FEAT_TRAINS, SELF, sw_300_series_forwards_panto_in_middle, (position_in_consist == position_in_consist_from_end ) || (position_in_consist - 3 == position_in_consist_from_end)) {				
            0:  sw_300_series_coachf;
            sw_300_series_pantof;				
        }

    switch (FEAT_TRAINS, SELF, sw_300_series_forwards, num_vehs_in_consist ) {				
            0..35:  sw_300_series_forwards_panto_in_middle;
            36..47: sw_300_series_forwards_4th_and_5_from_end;
            sw_300_series_forwards_6th_and_5_from_end;
        }

// Backwards
    switch (FEAT_TRAINS, SELF, sw_300_series_backwards_6th_and_5_from_end, position_in_consist == 13 || position_in_consist_from_end  == 16) {				
            0:  sw_300_series_coachb;
            sw_300_series_pantob;				
        }

    switch (FEAT_TRAINS, SELF, sw_300_series_backwards_panto_in_middle, (position_in_consist == position_in_consist_from_end ) || (position_in_consist - 3 == position_in_consist_from_end)) {				
            0:  sw_300_series_coachb;
            sw_300_series_pantob;
        }

    switch (FEAT_TRAINS, SELF, sw_300_series_backwards, num_vehs_in_consist ) {				
            0..47:  sw_300_series_backwards_panto_in_middle;
            sw_300_series_backwards_6th_and_5_from_end;
        }

/* Forwards or Backwards */
    switch (FEAT_TRAINS, PARENT, sw_300_series_midcars, vehicle_is_reversed) {				
            0:  sw_300_series_forwards;
            sw_300_series_backwards;				
        }

/* Cab selection */
    // Rear cab
    switch (FEAT_TRAINS, PARENT, sw_300_series_rear, vehicle_is_reversed) {				
            1:  sw_300_series_cab01b;                   // cab01	
            sw_300_series_cab02f;                       // cab02
        }

    // Lead cab
    switch (FEAT_TRAINS, PARENT, sw_300_series_lead, vehicle_is_reversed) {				
            1:  sw_300_series_cab02b;                   // cab02
            sw_300_series_cab01f;                       // cab01	
        }

/* Find the cabs */
    switch (FEAT_TRAINS, SELF, sw_300_series_lead_or_rear, position_in_consist) {				
            1:  sw_300_series_lead;
            sw_300_series_rear;				
        }
    
    switch (FEAT_TRAINS, SELF, sw_300_series_ends, position_in_consist == 1 || position_in_consist_from_end == 1) {				
            1:  sw_300_series_lead_or_rear;
            sw_300_series_midcars;				
        }
# 1 "src/trains/300_series/300_series.pnml" 2
# 1 "src/trains/300_series/pnml/300_series_item.pnml" 1
switch (FEAT_TRAINS, SELF, sw_300_series_graphics, position_in_consist % 3) {				
		1:  sw_300_series_ends; 				
		dummy_sprites;
	}

switch (FEAT_TRAINS, SELF, sw_300_series_articulated_part, extra_callback_info1) {
		1 .. 2: return series_300;									
		return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
	}

/*---Coupling Switch---*/
switch(FEAT_TRAINS, SELF, sw_300_series_attach_vehid, [vehicle_type_id == mu_car_full]) {
 0: return string(ONLY_ADD_MUCAR);
}

/*---Length Check---*/
switch (FEAT_TRAINS, SELF, sw_300_series_stop_start, num_vehs_in_consist < 12) {				
		1:  return string(STR_LENGTH_ERROR); 				
		return CB_RESULT_NO_TEXT; 
	}


item(FEAT_TRAINS, series_300) {
	property {
		/* Menu */
        name: 							string(STR_NAME_300_SERIES);
		sprite_id:                      SPRITE_ID_NEW_TRAIN; 		// required to enable new graphics
        misc_flags:                     bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU, TRAIN_FLAG_TILT, TRAIN_FLAG_AUTOREFIT);
        running_cost_base:              RUNNING_COST_ELECTRIC;
		engine_class:                   ENGINE_CLASS_ELECTRIC;
        /* Availability */
        climates_available:             ALL_CLIMATES;
		introduction_date:              date(1992,03,01);
		model_life:                     30;		                    // In service from 1992,03,01 to 2012,03,16
		vehicle_life:                   30;							// 
		track_type:                     SHINKANSEN;
        /* Cargo */
        reliability_decay:              5;
		refittable_cargo_classes:       bitmask(CC_PASSENGERS);
		refit_cost:                     0;
		default_cargo_type:             PASS;
        ai_special_flag:                AI_FLAG_PASSENGER;
		cargo_capacity:                 1;							// 
		loading_speed:                  50;							
		cargo_age_period:               278; 						// 1.5 times normal for this expensive long-distance train
		/* Stats */
        speed:                          271 km/h;					// Agreed to Wikipedia					
		power:                          402*4*10 hp;            	// 300kw x 10 motorised cars x 4 per car				
		weight:                         44*16 tons;	                // 44t (per JPS) x 16 cars				
		tractive_effort_coefficient:    0.3;
		air_drag_coefficient:			0;
	}
	graphics {
		/* Menu */
        additional_text:                string(STR_DESC_300_SERIES);
        cargo_subtype_text:             sw_300_series_subtype_text;
		can_attach_wagon:				sw_300_series_attach_vehid;
		start_stop:						sw_300_series_stop_start;
		purchase_weight:                44;
        purchase_power:                 402 * 4;
        /* Graphics */
        default:                        sw_300_series_graphics;
		purchase:                       ss_300_series_buy;
		articulated_part:               sw_300_series_articulated_part;
		visual_effect_and_powered:      sw_visual_effect_and_powered;
        /* Stats */
        length:                         sw_param_length;
        power:                          (( NumberCarsInConsist() / 2 ) + 2 ) * 402 * 4;	// 300 kW
        weight:                         NumberCarsInConsist() * 44;
		cargo_capacity:                 28 * CapacityFactor();															
		loading_speed:					28 * CapacityFactor() / param_loading_2D;					// Capacity divided by door loading factor
		cargo_age_period:				param_decay_express;
		cost_factor:                    130;
		running_cost_factor:            (305 + 124 * NumberCarsInConsist() ) * RunningCostFactor();
		purchase_running_cost_factor:   305 + 124 * NumberCarsInConsist();		
	}
	/*Multiple Unit Car*/
	
      livery_override(mu_car_full){
        default:                        sw_300_series_graphics;
        cargo_capacity:                 28 * CapacityFactor();
        cargo_age_period:				param_decay_express;
        loading_speed:					28 * CapacityFactor() / param_loading_2D;
		articulated_part:				sw_mucar_full_articulated_part;
		length:							sw_param_length;
		//power:						// Apply power in graphics block to calculate power based on number of motorised cars correctly
		//weight:						// Apply weight to graphics block to calculate Max T.E. correctly
        //running_cost_factor:            sw_300_series_running_costs;
      }
}
# 1 "src/trains/300_series/300_series.pnml" 2
# 1 "JPplusShinkansen.pnml" 4
# 1 "src/trains/100_series/100_series.pnml" 1

# 1 "src/trains/100_series/pnml/100_series_menu.pnml" 1

/* Subtypes */

	// From 1985 to 1988
	switch(FEAT_TRAINS, SELF, sw_100_series_1985_subtype_text, cargo_subtype) {
		0: return string(LV_YEAR_DEP_LIVERY);       // Year Dependent Livery
		1: return string(LV_100_SERIES_X);          // X
		2: return string(LV_100_SERIES_X_2CC);      // X 2cc
		return CB_RESULT_NO_TEXT;
		}

	// From 1988 to 2000 - introduction of V set with more double decker cars
	switch(FEAT_TRAINS, SELF, sw_100_series_1988_subtype_text, cargo_subtype) {
		0: return string(LV_YEAR_DEP_LIVERY);       // Year Dependent Livery
		1: return string(LV_100_SERIES_X);          // X
		2: return string(LV_100_SERIES_X_2CC);      // X 2cc
		3: return string(LV_100_SERIES_V);          // V set with bilevel
		4: return string(LV_100_SERIES_V_2CC);      // V set with bilevel 2cc
		return CB_RESULT_NO_TEXT;
		}

	// From 2000 onwards - introduction of Kodama Livery
	switch(FEAT_TRAINS, SELF, sw_100_series_2000_subtype_text, cargo_subtype) {
		0: return string(LV_YEAR_DEP_LIVERY);       // Year Dependent Livery
		1: return string(LV_100_SERIES_X);          // X
		2: return string(LV_100_SERIES_X_2CC);      // X 2cc
		3: return string(LV_100_SERIES_V);          // V set with bilevel
		4: return string(LV_100_SERIES_V_2CC);      // V set with bilevel 2cc
		5: return string(LV_100_SERIES_KODAMA);     // 8-car ser with Kodama livery 
		return CB_RESULT_NO_TEXT;
		}

	// SUBTYPE MENU over time
	switch(FEAT_TRAINS, SELF, sw_100_series_year_dep_subtype_text, current_year) {
		0..1987: sw_100_series_1985_subtype_text;
		1988..1999: sw_100_series_1988_subtype_text;
		sw_100_series_2000_subtype_text;
	}

/* Purchase Menu */

    // 12
	spriteset (ss_100_series_buy_original_jnr_12,	        	    "src/trains/dummy/purchase.png") {template_purchase(0, 0)}
	spriteset (ss_100_series_buy_original_jrc_12,	        	    "src/trains/dummy/purchase.png") {template_purchase(0, 0)}
	spriteset (ss_100_series_buy_original_c_w_12,	        	    "src/trains/dummy/purchase.png") {template_purchase(0, 0)}
	spriteset (ss_100_series_buy_kodama_c_w_12,	        	    	"src/trains/dummy/purchase.png") {template_purchase(0, 0)}
	spriteset (ss_100_series_buy_kodama_jrw_12,	        	    	"src/trains/dummy/purchase.png") {template_purchase(0, 0)}

    alternative_sprites(ss_100_series_buy_original_jnr_12,         	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/12/purchase_original_jnr.png") {template_purchase(0, 0)}
	alternative_sprites(ss_100_series_buy_original_jrc_12,         	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/12/purchase_original_jrc.png") {template_purchase(0, 0)}
	alternative_sprites(ss_100_series_buy_original_c_w_12,         	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/12/purchase_original_c&w.png") {template_purchase(0, 0)}
	alternative_sprites(ss_100_series_buy_kodama_c_w_12,           	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/12/purchase_kodama_c&w.png")   {template_purchase(0, 0)}
	alternative_sprites(ss_100_series_buy_kodama_jrw_12,           	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/12/purchase_kodama_jrw.png")   {template_purchase(0, 0)}

    // 10
	spriteset (ss_100_series_buy_original_jnr_10,	        	    "src/trains/dummy/purchase.png") {template_purchase(0, 0)}
	spriteset (ss_100_series_buy_original_jrc_10,	        	    "src/trains/dummy/purchase.png") {template_purchase(0, 0)}
	spriteset (ss_100_series_buy_original_c_w_10,	        	    "src/trains/dummy/purchase.png") {template_purchase(0, 0)}
	spriteset (ss_100_series_buy_kodama_c_w_10,	        	    	"src/trains/dummy/purchase.png") {template_purchase(0, 0)}
	spriteset (ss_100_series_buy_kodama_jrw_10,	        	    	"src/trains/dummy/purchase.png") {template_purchase(0, 0)}

	alternative_sprites(ss_100_series_buy_original_jnr_10,         	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/12/purchase_original_jnr.png") {template_purchase(0, 0)}
	alternative_sprites(ss_100_series_buy_original_jrc_10,         	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/12/purchase_original_jrc.png") {template_purchase(0, 0)}
	alternative_sprites(ss_100_series_buy_original_c_w_10,         	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/12/purchase_original_c&w.png") {template_purchase(0, 0)}
	alternative_sprites(ss_100_series_buy_kodama_c_w_10,           	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/12/purchase_kodama_c&w.png")   {template_purchase(0, 0)}
	alternative_sprites(ss_100_series_buy_kodama_jrw_10,           	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/12/purchase_kodama_jrw.png")   {template_purchase(0, 0)}

		switch (FEAT_TRAINS, SELF, ss_100_series_buy_original_jnr, param_spritelength) {
			1: ss_100_series_buy_original_jnr_10;					// Length 10
			ss_100_series_buy_original_jnr_12;						// Length 12
		}

		switch (FEAT_TRAINS, SELF, ss_100_series_buy_original_jrc, param_spritelength) {
			1: ss_100_series_buy_original_jrc_10;					// Length 10
			ss_100_series_buy_original_jrc_12;						// Length 12
		}

		switch (FEAT_TRAINS, SELF, ss_100_series_buy_original_c_w, param_spritelength) {
			1: ss_100_series_buy_original_c_w_10;					// Length 10
			ss_100_series_buy_original_c_w_12;						// Length 12
		}

		switch (FEAT_TRAINS, SELF, ss_100_series_buy_kodama_c_w, param_spritelength) {
			1: ss_100_series_buy_kodama_c_w_10;						// Length 10
			ss_100_series_buy_kodama_c_w_12;						// Length 12
		}

		switch (FEAT_TRAINS, SELF, ss_100_series_buy_kodama_jrw, param_spritelength) {
			1: ss_100_series_buy_kodama_jrw_10;						// Length 10
			ss_100_series_buy_kodama_jrw_12;						// Length 12
		}

	// Purchase Menu Sprite Selection
	switch(FEAT_TRAINS, SELF, sw_100_series_year_dep_purchase, current_year) {
			0..1986: ss_100_series_buy_original_jnr;        // JNR (Original Livery)
			1987..1988: ss_100_series_buy_original_jrc;     // JR Central (Original Livery)
			1989..1999: ss_100_series_buy_original_c_w;     // JR Central & West (Original Livery)
			2000..2001: ss_100_series_buy_kodama_c_w;       // JR Central & West (Kodama Livery)
			ss_100_series_buy_kodama_jrw;                   // JR West (Kodama Livery)
		}

# 1 "src/trains/100_series/100_series.pnml" 2
# 1 "src/trains/100_series/pnml/sprites/100_series_cab01.pnml" 1
/* cab01 */

// FORWARDS

spriteset(ss_100_series_cab01f_original_livery_12,          	"src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_100_series_cab01f_kodama_livery_12,             	"src/trains/dummy/empty.png") {template_dummy(0,0)}

spriteset(ss_100_series_cab01f_original_livery_10,          	"src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_100_series_cab01f_kodama_livery_10,             	"src/trains/dummy/empty.png") {template_dummy(0,0)}

// 100 Series Original Strip Livery
alternative_sprites(ss_100_series_cab01f_original_livery_12,    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/12/original.png") {template_12_standard(1,1)}
alternative_sprites(ss_100_series_cab01f_original_livery_10,	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/10/original.png") {template_10_standard(1,1)}		

// 100 Series Kodama Strip Livery
alternative_sprites(ss_100_series_cab01f_kodama_livery_12,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/12/kodama.png") {template_12_standard(1,1)}
alternative_sprites(ss_100_series_cab01f_kodama_livery_10,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/10/kodama.png") {template_10_standard(1,1)}

// 100 Series 2cc Livery
spriteset(ss_100_series_cab01f_2cc_livery_12,             	    "src/trains/100_series/12/2cc.png") {template_12_standard(1,1)}
spriteset(ss_100_series_cab01f_2cc_livery_10,             	    "src/trains/100_series/10/2cc.png") {template_10_standard(1,1)}

switch (FEAT_TRAINS, SELF, sw_100_series_cab01f_2cc_livery, param_spritelength) {
	1: ss_100_series_cab01f_2cc_livery_10;				        // Length 10
	ss_100_series_cab01f_2cc_livery_12;					        // Length 12
}

// Parameter Length
switch (FEAT_TRAINS, SELF, sw_100_series_cab01f_original_livery, param_spritelength) {
	1: ss_100_series_cab01f_original_livery_10;				// Length 10
	ss_100_series_cab01f_original_livery_12;				// Length 12
}

switch (FEAT_TRAINS, SELF, sw_100_series_cab01f_kodama_livery, param_spritelength) {
	1: ss_100_series_cab01f_kodama_livery_10;				// Length 10
	ss_100_series_cab01f_kodama_livery_12;					// Length 12
}

// Year Dependent Livery
switch(FEAT_TRAINS, SELF, sw_100_series_cab01f_year_dep_livery, build_year) {
	0..1999: sw_100_series_cab01f_original_livery;
	sw_100_series_cab01f_kodama_livery;
}

switch(FEAT_TRAINS, PARENT, sw_100_series_cab01f, cargo_subtype) {
	1: sw_100_series_cab01f_original_livery;       	// Original
	2: sw_100_series_cab01f_2cc_livery;       		// 2cc
	3: sw_100_series_cab01f_original_livery;       	// Original
	4: sw_100_series_cab01f_2cc_livery;       		// 2cc
	5: sw_100_series_cab01f_kodama_livery;         	// Kodama
	sw_100_series_cab01f_year_dep_livery;          	// Year-dependent Livery
}

// BACKWARDS

spriteset(ss_100_series_cab01b_original_livery_12,          	"src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_100_series_cab01b_kodama_livery_12,             	"src/trains/dummy/empty.png") {template_dummy(0,0)}

spriteset(ss_100_series_cab01b_original_livery_10,          	"src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_100_series_cab01b_kodama_livery_10,             	"src/trains/dummy/empty.png") {template_dummy(0,0)}

// 100 Series Original Strip Livery																									
alternative_sprites(ss_100_series_cab01b_original_livery_12,    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/12/original.png") {template_12_reversed(1,41)}
alternative_sprites(ss_100_series_cab01b_original_livery_10,	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/10/original.png") {template_10_reversed(1,41)}		

// 100 Series Kodama Strip Livery
alternative_sprites(ss_100_series_cab01b_kodama_livery_12,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/12/kodama.png") {template_12_reversed(1,41)}
alternative_sprites(ss_100_series_cab01b_kodama_livery_10,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/10/kodama.png") {template_10_reversed(1,41)}

// 100 Series 2cc Livery
spriteset(ss_100_series_cab01b_2cc_livery_12,             	    "src/trains/100_series/12/2cc.png") {template_10_reversed(1,41)}
spriteset(ss_100_series_cab01b_2cc_livery_10,             	    "src/trains/100_series/10/2cc.png") {template_10_reversed(1,41)}

switch (FEAT_TRAINS, SELF, sw_100_series_cab01b_2cc_livery, param_spritelength) {
	1: ss_100_series_cab01b_2cc_livery_10;				        // Length 10
	ss_100_series_cab01b_2cc_livery_12;					        // Length 12
}

// Parameter Length
switch (FEAT_TRAINS, SELF, sw_100_series_cab01b_original_livery, param_spritelength) {
	1: ss_100_series_cab01b_original_livery_10;				    // Length 10
	ss_100_series_cab01b_original_livery_12;				    // Length 12
}

switch (FEAT_TRAINS, SELF, sw_100_series_cab01b_kodama_livery, param_spritelength) {
	1: ss_100_series_cab01b_kodama_livery_10;				    // Length 10
	ss_100_series_cab01b_kodama_livery_12;					    // Length 12
}

// Year Dependent Livery
switch(FEAT_TRAINS, SELF, sw_100_series_cab01b_year_dep_livery, build_year) {
	0..1999: sw_100_series_cab01b_original_livery;
	sw_100_series_cab01b_kodama_livery;
}

switch(FEAT_TRAINS, PARENT, sw_100_series_cab01b, cargo_subtype) {
	1: sw_100_series_cab01b_original_livery;       	// Original
	2: sw_100_series_cab01b_2cc_livery;       		// 2cc
	3: sw_100_series_cab01b_original_livery;       	// Original
	4: sw_100_series_cab01b_2cc_livery;       		// 2cc
	5: sw_100_series_cab01b_kodama_livery;         	// Kodama
	sw_100_series_cab01b_year_dep_livery;          	// Year-dependent Livery
}
# 1 "src/trains/100_series/100_series.pnml" 2
# 1 "src/trains/100_series/pnml/sprites/100_series_cab02.pnml" 1
/* cab02 */

// FORWARDS

spriteset(ss_100_series_cab02f_original_livery_12,          	"src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_100_series_cab02f_kodama_livery_12,             	"src/trains/dummy/empty.png") {template_dummy(0,0)}

spriteset(ss_100_series_cab02f_original_livery_10,          	"src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_100_series_cab02f_kodama_livery_10,             	"src/trains/dummy/empty.png") {template_dummy(0,0)}

// 100 Series Original Strip Livery
alternative_sprites(ss_100_series_cab02f_original_livery_12,    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/12/original.png") {template_12_cab_rev_standard(1,121)}
alternative_sprites(ss_100_series_cab02f_original_livery_10,	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/10/original.png") {template_10_cab_rev_standard(1,121)}		

// 100 Series Kodama Strip Livery
alternative_sprites(ss_100_series_cab02f_kodama_livery_12,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/12/kodama.png") {template_12_cab_rev_standard(1,121)}
alternative_sprites(ss_100_series_cab02f_kodama_livery_10,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/10/kodama.png") {template_10_cab_rev_standard(1,121)}

// 100 Series 2cc Livery
spriteset(ss_100_series_cab02f_2cc_livery_12,             	    "src/trains/100_series/12/2cc.png") {template_12_cab_rev_standard(1,121)}
spriteset(ss_100_series_cab02f_2cc_livery_10,             	    "src/trains/100_series/10/2cc.png") {template_10_cab_rev_standard(1,121)}

switch (FEAT_TRAINS, SELF, sw_100_series_cab02f_2cc_livery, param_spritelength) {
	1: ss_100_series_cab02f_2cc_livery_10;				        // Length 10
	ss_100_series_cab02f_2cc_livery_12;					        // Length 12
}

// Parameter Length
switch (FEAT_TRAINS, SELF, sw_100_series_cab02f_original_livery, param_spritelength) {
	1: ss_100_series_cab02f_original_livery_10;				    // Length 10
	ss_100_series_cab02f_original_livery_12;				    // Length 12
}

switch (FEAT_TRAINS, SELF, sw_100_series_cab02f_kodama_livery, param_spritelength) {
	1: ss_100_series_cab02f_kodama_livery_10;				    // Length 10
	ss_100_series_cab02f_kodama_livery_12;					    // Length 12
}

// Year Dependent Livery
switch(FEAT_TRAINS, SELF, sw_100_series_cab02f_year_dep_livery, build_year) {
	0..1999: sw_100_series_cab02f_original_livery;
	sw_100_series_cab02f_kodama_livery;
}

switch(FEAT_TRAINS, PARENT, sw_100_series_cab02f, cargo_subtype) {
	1: sw_100_series_cab02f_original_livery;       	// Original
	2: sw_100_series_cab02f_2cc_livery;       		// 2cc
	3: sw_100_series_cab02f_original_livery;       	// Original
	4: sw_100_series_cab02f_2cc_livery;       		// 2cc
	5: sw_100_series_cab02f_kodama_livery;         	// Kodama
	sw_100_series_cab02f_year_dep_livery;          	// Year-dependent Livery
}


// BACKWARDS

spriteset(ss_100_series_cab02b_original_livery_12,          	"src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_100_series_cab02b_kodama_livery_12,             	"src/trains/dummy/empty.png") {template_dummy(0,0)}

spriteset(ss_100_series_cab02b_original_livery_10,          	"src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_100_series_cab02b_kodama_livery_10,             	"src/trains/dummy/empty.png") {template_dummy(0,0)}

// 100 Series Original Strip Livery
alternative_sprites(ss_100_series_cab02b_original_livery_12,    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/12/original.png") {template_12_cab_rev_reversed(1,81)}
alternative_sprites(ss_100_series_cab02b_original_livery_10,	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/10/original.png") {template_10_cab_rev_reversed(1,81)}		

// 100 Series Kodama Strip Livery
alternative_sprites(ss_100_series_cab02b_kodama_livery_12,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/12/kodama.png") {template_12_cab_rev_reversed(1,81)}
alternative_sprites(ss_100_series_cab02b_kodama_livery_10,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/10/kodama.png") {template_10_cab_rev_reversed(1,81)}

// 100 Series 2cc Livery
spriteset(ss_100_series_cab02b_2cc_livery_12,             	    "src/trains/100_series/12/2cc.png") {template_12_cab_rev_reversed(1,81)}
spriteset(ss_100_series_cab02b_2cc_livery_10,             	    "src/trains/100_series/10/2cc.png") {template_10_cab_rev_reversed(1,81)}

switch (FEAT_TRAINS, SELF, sw_100_series_cab02b_2cc_livery, param_spritelength) {
	1: ss_100_series_cab02b_2cc_livery_10;				        // Length 10
	ss_100_series_cab02b_2cc_livery_12;					        // Length 12
}

// Parameter Length
switch (FEAT_TRAINS, SELF, sw_100_series_cab02b_original_livery, param_spritelength) {
	1: ss_100_series_cab02b_original_livery_10;				    // Length 10
	ss_100_series_cab02b_original_livery_12;				    // Length 12
}

switch (FEAT_TRAINS, SELF, sw_100_series_cab02b_kodama_livery, param_spritelength) {
	1: ss_100_series_cab02b_kodama_livery_10;				    // Length 10
	ss_100_series_cab02b_kodama_livery_12;					    // Length 12
}

// Year Dependent Livery
switch(FEAT_TRAINS, SELF, sw_100_series_cab02b_year_dep_livery, build_year) {
	0..1999: sw_100_series_cab02b_original_livery;
	sw_100_series_cab02b_kodama_livery;
}

switch(FEAT_TRAINS, PARENT, sw_100_series_cab02b, cargo_subtype) {
	1: sw_100_series_cab02b_original_livery;       	// Original
	2: sw_100_series_cab02b_2cc_livery;       		// 2cc
	3: sw_100_series_cab02b_original_livery;       	// Original
	4: sw_100_series_cab02b_2cc_livery;       		// 2cc
	5: sw_100_series_cab02b_kodama_livery;         	// Kodama
	sw_100_series_cab02b_year_dep_livery;          	// Year-dependent Livery
}

# 1 "src/trains/100_series/100_series.pnml" 2
# 1 "src/trains/100_series/pnml/sprites/100_series_cab03.pnml" 1
/* cab03f */

// FORWARDS

spriteset(ss_100_series_cab03f_original_livery_12,          	"src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_100_series_cab03f_kodama_livery_12,             	"src/trains/dummy/empty.png") {template_dummy(0,0)}

spriteset(ss_100_series_cab03f_original_livery_10,          	"src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_100_series_cab03f_kodama_livery_10,             	"src/trains/dummy/empty.png") {template_dummy(0,0)}

// 100 Series Original Strip Livery
alternative_sprites(ss_100_series_cab03f_original_livery_12,    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/12/original.png") {template_12_cab_rev_standard(1,41)}
alternative_sprites(ss_100_series_cab03f_original_livery_10,	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/10/original.png") {template_10_cab_rev_standard(1,41)}		

// 100 Series Kodama Strip Livery
alternative_sprites(ss_100_series_cab03f_kodama_livery_12,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/12/kodama.png") {template_12_cab_rev_standard(1,41)}
alternative_sprites(ss_100_series_cab03f_kodama_livery_10,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/10/kodama.png") {template_10_cab_rev_standard(1,41)}

// 100 Series 2cc Livery
spriteset(ss_100_series_cab03f_2cc_livery_12,             	    "src/trains/100_series/12/2cc.png") {template_12_cab_rev_standard(1,41)}
spriteset(ss_100_series_cab03f_2cc_livery_10,             	    "src/trains/100_series/10/2cc.png") {template_10_cab_rev_standard(1,41)}

switch (FEAT_TRAINS, SELF, sw_100_series_cab03f_2cc_livery, param_spritelength) {
	1: ss_100_series_cab03f_2cc_livery_10;				        // Length 10
	ss_100_series_cab03f_2cc_livery_12;					        // Length 12
}

// Parameter Length
switch (FEAT_TRAINS, SELF, sw_100_series_cab03f_original_livery, param_spritelength) {
	1: ss_100_series_cab03f_original_livery_10;				    // Length 10
	ss_100_series_cab03f_original_livery_12;				    // Length 12
}

switch (FEAT_TRAINS, SELF, sw_100_series_cab03f_kodama_livery, param_spritelength) {
	1: ss_100_series_cab03f_kodama_livery_10;				    // Length 10
	ss_100_series_cab03f_kodama_livery_12;					    // Length 12
}

// Year Dependent Livery
switch(FEAT_TRAINS, SELF, sw_100_series_cab03f_year_dep_livery, build_year) {
	0..1999: sw_100_series_cab03f_original_livery;
	sw_100_series_cab03f_kodama_livery;
}

switch(FEAT_TRAINS, PARENT, sw_100_series_cab03f, cargo_subtype) {
	1: sw_100_series_cab03f_original_livery;       	// Original
	2: sw_100_series_cab03f_2cc_livery;       		// 2cc
	3: sw_100_series_cab03f_original_livery;       	// Original
	4: sw_100_series_cab03f_2cc_livery;       		// 2cc
	5: sw_100_series_cab03f_kodama_livery;         	// Kodama
	sw_100_series_cab03f_year_dep_livery;          	// Year-dependent Livery
}

// BACKWARDS

spriteset(ss_100_series_cab03b_original_livery_12,          	"src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_100_series_cab03b_kodama_livery_12,             	"src/trains/dummy/empty.png") {template_dummy(0,0)}

spriteset(ss_100_series_cab03b_original_livery_10,          	"src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_100_series_cab03b_kodama_livery_10,             	"src/trains/dummy/empty.png") {template_dummy(0,0)}

// 100 Series Original Strip Livery
alternative_sprites(ss_100_series_cab03b_original_livery_12,    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/12/original.png") {template_12_cab_rev_reversed(1,1)}
alternative_sprites(ss_100_series_cab03b_original_livery_10,	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/10/original.png") {template_10_cab_rev_reversed(1,1)}		

// 100 Series Kodama Strip Livery
alternative_sprites(ss_100_series_cab03b_kodama_livery_12,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/12/kodama.png") {template_12_cab_rev_reversed(1,1)}
alternative_sprites(ss_100_series_cab03b_kodama_livery_10,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/10/kodama.png") {template_10_cab_rev_reversed(1,1)}

// 100 Series 2cc Livery
spriteset(ss_100_series_cab03b_2cc_livery_12,             	    "src/trains/100_series/12/2cc.png") {template_12_cab_rev_reversed(1,1)}
spriteset(ss_100_series_cab03b_2cc_livery_10,             	    "src/trains/100_series/10/2cc.png") {template_10_cab_rev_reversed(1,1)}

switch (FEAT_TRAINS, SELF, sw_100_series_cab03b_2cc_livery, param_spritelength) {
	1: ss_100_series_cab03b_2cc_livery_10;				        // Length 10
	ss_100_series_cab03b_2cc_livery_12;					        // Length 12
}

// Parameter Length
switch (FEAT_TRAINS, SELF, sw_100_series_cab03b_original_livery, param_spritelength) {
	1: ss_100_series_cab03b_original_livery_10;				    // Length 10
	ss_100_series_cab03b_original_livery_12;				    // Length 12
}

switch (FEAT_TRAINS, SELF, sw_100_series_cab03b_kodama_livery, param_spritelength) {
	1: ss_100_series_cab03b_kodama_livery_10;				    // Length 10
	ss_100_series_cab03b_kodama_livery_12;					    // Length 12
}

// Year Dependent Livery
switch(FEAT_TRAINS, SELF, sw_100_series_cab03b_year_dep_livery, build_year) {
	0..1999: sw_100_series_cab03b_original_livery;
	sw_100_series_cab03b_kodama_livery;
}

switch(FEAT_TRAINS, PARENT, sw_100_series_cab03b, cargo_subtype) {
	1: sw_100_series_cab03b_original_livery;       	// Original
	2: sw_100_series_cab03b_2cc_livery;       		// 2cc
	3: sw_100_series_cab03b_original_livery;       	// Original
	4: sw_100_series_cab03b_2cc_livery;       		// 2cc
	5: sw_100_series_cab03b_kodama_livery;         	// Kodama
	sw_100_series_cab03b_year_dep_livery;          	// Year-dependent Livery
}
# 1 "src/trains/100_series/100_series.pnml" 2
# 1 "src/trains/100_series/pnml/sprites/100_series_coach.pnml" 1
/* coach */

spriteset(ss_100_series_coachf_original_livery_12,          	"src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_100_series_coachf_kodama_livery_12,             	"src/trains/dummy/empty.png") {template_dummy(0,0)}

spriteset(ss_100_series_coachf_original_livery_10,          	"src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_100_series_coachf_kodama_livery_10,             	"src/trains/dummy/empty.png") {template_dummy(0,0)}

// 100 Series Original Strip Livery
alternative_sprites(ss_100_series_coachf_original_livery_12,    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/12/original.png") {template_12_standard(1,201)}
alternative_sprites(ss_100_series_coachf_original_livery_10,	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/10/original.png") {template_10_standard(1,201)}		

// 100 Series Kodama Strip Livery
alternative_sprites(ss_100_series_coachf_kodama_livery_12,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/12/kodama.png") {template_12_standard(1,201)}
alternative_sprites(ss_100_series_coachf_kodama_livery_10,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/10/kodama.png") {template_10_standard(1,201)}

// 100 Series 2cc Livery
spriteset(ss_100_series_coachf_2cc_livery_12,             	    "src/trains/100_series/12/2cc.png") {template_12_standard(1,201)}
spriteset(ss_100_series_coachf_2cc_livery_10,             	    "src/trains/100_series/10/2cc.png") {template_10_standard(1,201)}

switch (FEAT_TRAINS, SELF, sw_100_series_coachf_2cc_livery, param_spritelength) {
	1: ss_100_series_coachf_2cc_livery_10;				        // Length 10
	ss_100_series_coachf_2cc_livery_12;					        // Length 12
}

// Parameter Length
switch (FEAT_TRAINS, SELF, sw_100_series_coachf_original_livery, param_spritelength) {
	1: ss_100_series_coachf_original_livery_10;				// Length 10
	ss_100_series_coachf_original_livery_12;				// Length 12
}

switch (FEAT_TRAINS, SELF, sw_100_series_coachf_kodama_livery, param_spritelength) {
	1: ss_100_series_coachf_kodama_livery_10;				// Length 10
	ss_100_series_coachf_kodama_livery_12;					// Length 12
}

// Year Dependent Livery
switch(FEAT_TRAINS, SELF, sw_100_series_coachf_year_dep_livery, build_year) {
	0..1999: sw_100_series_coachf_original_livery;
	sw_100_series_coachf_kodama_livery;
}

switch(FEAT_TRAINS, PARENT, sw_100_series_coachf, cargo_subtype) {
	1: sw_100_series_coachf_original_livery;       	// Original
	2: sw_100_series_coachf_2cc_livery;       		// 2cc
	3: sw_100_series_coachf_original_livery;       	// Original
	4: sw_100_series_coachf_2cc_livery;       		// 2cc
	5: sw_100_series_coachf_kodama_livery;         	// Kodama
	sw_100_series_coachf_year_dep_livery;          	// Year-dependent Livery
}

spriteset(ss_100_series_coachb_original_livery_12,          	"src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_100_series_coachb_kodama_livery_12,             	"src/trains/dummy/empty.png") {template_dummy(0,0)}

spriteset(ss_100_series_coachb_original_livery_10,          	"src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_100_series_coachb_kodama_livery_10,             	"src/trains/dummy/empty.png") {template_dummy(0,0)}

// 100 Series Original Strip Livery
alternative_sprites(ss_100_series_coachb_original_livery_12,    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/12/original.png") {template_12_reversed(1,201)}
alternative_sprites(ss_100_series_coachb_original_livery_10,	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/10/original.png") {template_10_reversed(1,201)}		

// 100 Series Kodama Strip Livery
alternative_sprites(ss_100_series_coachb_kodama_livery_12,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/12/kodama.png") {template_12_reversed(1,201)}
alternative_sprites(ss_100_series_coachb_kodama_livery_10,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/10/kodama.png") {template_10_reversed(1,201)}

// 100 Series 2cc Livery
spriteset(ss_100_series_coachb_2cc_livery_12,             	    "src/trains/100_series/12/2cc.png") {template_10_reversed(1,201)}
spriteset(ss_100_series_coachb_2cc_livery_10,             	    "src/trains/100_series/10/2cc.png") {template_10_reversed(1,201)}

switch (FEAT_TRAINS, SELF, sw_100_series_coachb_2cc_livery, param_spritelength) {
	1: ss_100_series_coachb_2cc_livery_10;				        // Length 10
	ss_100_series_coachb_2cc_livery_12;					        // Length 12
}

// Parameter Length
switch (FEAT_TRAINS, SELF, sw_100_series_coachb_original_livery, param_spritelength) {
	1: ss_100_series_coachb_original_livery_10;				// Length 10
	ss_100_series_coachb_original_livery_12;				// Length 12
}

switch (FEAT_TRAINS, SELF, sw_100_series_coachb_kodama_livery, param_spritelength) {
	1: ss_100_series_coachb_kodama_livery_10;				// Length 10
	ss_100_series_coachb_kodama_livery_12;					// Length 12
}

// Year Dependent Livery
switch(FEAT_TRAINS, SELF, sw_100_series_coachb_year_dep_livery, build_year) {
	0..1999: sw_100_series_coachb_original_livery;
	sw_100_series_coachb_kodama_livery;
}

switch(FEAT_TRAINS, PARENT, sw_100_series_coachb, cargo_subtype) {
	1: sw_100_series_coachb_original_livery;       	// Original
	2: sw_100_series_coachb_2cc_livery;       		// 2cc
	3: sw_100_series_coachb_original_livery;       	// Original
	4: sw_100_series_coachb_2cc_livery;       		// 2cc
	5: sw_100_series_coachb_kodama_livery;         	// Kodama
	sw_100_series_coachb_year_dep_livery;          	// Year-dependent Livery
}
# 1 "src/trains/100_series/100_series.pnml" 2
# 1 "src/trains/100_series/pnml/sprites/100_series_panto.pnml" 1
/* panto */

spriteset(ss_100_series_pantof_original_livery_12,          	"src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_100_series_pantof_kodama_livery_12,             	"src/trains/dummy/empty.png") {template_dummy(0,0)}

spriteset(ss_100_series_pantof_original_livery_10,          	"src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_100_series_pantof_kodama_livery_10,             	"src/trains/dummy/empty.png") {template_dummy(0,0)}

// 100 Series Original Strip Livery
alternative_sprites(ss_100_series_pantof_original_livery_12,    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/12/original.png") {template_12_standard(1,161)}
alternative_sprites(ss_100_series_pantof_original_livery_10,	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/10/original.png") {template_10_standard(1,161)}		

// 100 Series Kodama Strip Livery
alternative_sprites(ss_100_series_pantof_kodama_livery_12,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/12/kodama.png") {template_12_standard(1,161)}
alternative_sprites(ss_100_series_pantof_kodama_livery_10,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/10/kodama.png") {template_10_standard(1,161)}

// 100 Series 2cc Livery
spriteset(ss_100_series_pantof_2cc_livery_12,             	    "src/trains/100_series/12/2cc.png") {template_12_standard(1,161)}
spriteset(ss_100_series_pantof_2cc_livery_10,             	    "src/trains/100_series/10/2cc.png") {template_10_standard(1,161)}

switch (FEAT_TRAINS, SELF, sw_100_series_pantof_2cc_livery, param_spritelength) {
	1: ss_100_series_pantof_2cc_livery_10;				        // Length 10
	ss_100_series_pantof_2cc_livery_12;					        // Length 12
}

// Parameter Length
switch (FEAT_TRAINS, SELF, sw_100_series_pantof_original_livery, param_spritelength) {
	1: ss_100_series_pantof_original_livery_10;				// Length 10
	ss_100_series_pantof_original_livery_12;				// Length 12
}

switch (FEAT_TRAINS, SELF, sw_100_series_pantof_kodama_livery, param_spritelength) {
	1: ss_100_series_pantof_kodama_livery_10;				// Length 10
	ss_100_series_pantof_kodama_livery_12;					// Length 12
}

// Year Dependent Livery
switch(FEAT_TRAINS, SELF, sw_100_series_pantof_year_dep_livery, build_year) {
	0..1999: sw_100_series_pantof_original_livery;
	sw_100_series_pantof_kodama_livery;
}

switch(FEAT_TRAINS, PARENT, sw_100_series_pantof, cargo_subtype) {
	1: sw_100_series_pantof_original_livery;       	// Original
	2: sw_100_series_pantof_2cc_livery;       		// 2cc
	3: sw_100_series_pantof_original_livery;       	// Original
	4: sw_100_series_pantof_2cc_livery;       		// 2cc
	5: sw_100_series_pantof_kodama_livery;         	// Kodama
	sw_100_series_pantof_year_dep_livery;          	// Year-dependent Livery
}

spriteset(ss_100_series_pantob_original_livery_12,          	"src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_100_series_pantob_kodama_livery_12,             	"src/trains/dummy/empty.png") {template_dummy(0,0)}

spriteset(ss_100_series_pantob_original_livery_10,          	"src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_100_series_pantob_kodama_livery_10,             	"src/trains/dummy/empty.png") {template_dummy(0,0)}

// 100 Series Original Strip Livery
alternative_sprites(ss_100_series_pantob_original_livery_12,    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/12/original.png") {template_12_reversed(1,161)}
alternative_sprites(ss_100_series_pantob_original_livery_10,	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/10/original.png") {template_10_reversed(1,161)}		

// 100 Series Kodama Strip Livery
alternative_sprites(ss_100_series_pantob_kodama_livery_12,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/12/kodama.png") {template_12_reversed(1,161)}
alternative_sprites(ss_100_series_pantob_kodama_livery_10,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/10/kodama.png") {template_10_reversed(1,161)}

// 100 Series 2cc Livery
spriteset(ss_100_series_pantob_2cc_livery_12,             	    "src/trains/100_series/12/2cc.png") {template_10_reversed(1,161)}
spriteset(ss_100_series_pantob_2cc_livery_10,             	    "src/trains/100_series/10/2cc.png") {template_10_reversed(1,161)}

switch (FEAT_TRAINS, SELF, sw_100_series_pantob_2cc_livery, param_spritelength) {
	1: ss_100_series_pantob_2cc_livery_10;				        // Length 10
	ss_100_series_pantob_2cc_livery_12;					        // Length 12
}

// Parameter Length
switch (FEAT_TRAINS, SELF, sw_100_series_pantob_original_livery, param_spritelength) {
	1: ss_100_series_pantob_original_livery_10;				// Length 10
	ss_100_series_pantob_original_livery_12;				// Length 12
}

switch (FEAT_TRAINS, SELF, sw_100_series_pantob_kodama_livery, param_spritelength) {
	1: ss_100_series_pantob_kodama_livery_10;				// Length 10
	ss_100_series_pantob_kodama_livery_12;					// Length 12
}

// Year Dependent Livery
switch(FEAT_TRAINS, SELF, sw_100_series_pantob_year_dep_livery, build_year) {
	0..1999: sw_100_series_pantob_original_livery;
	sw_100_series_pantob_kodama_livery;
}

switch(FEAT_TRAINS, PARENT, sw_100_series_pantob, cargo_subtype) {
	1: sw_100_series_pantob_original_livery;       	// Original
	2: sw_100_series_pantob_2cc_livery;       		// 2cc
	3: sw_100_series_pantob_original_livery;       	// Original
	4: sw_100_series_pantob_2cc_livery;       		// 2cc
	5: sw_100_series_pantob_kodama_livery;         	// Kodama
	sw_100_series_pantob_year_dep_livery;          	// Year-dependent Livery
}
# 1 "src/trains/100_series/100_series.pnml" 2
# 1 "src/trains/100_series/pnml/sprites/100_series_2dec1.pnml" 1
/* 2dec1 */

// FORWARDS

// 100 Series Original Strip Livery
spriteset(ss_100_series_2dec1f_original_livery_12,          	"src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_100_series_2dec1f_original_livery_10,          	"src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_100_series_2dec1f_original_livery_12,    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/12/original.png") {template_12_standard(1,241)}
alternative_sprites(ss_100_series_2dec1f_original_livery_10,	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/10/original.png") {template_10_standard(1,241)}		

switch (FEAT_TRAINS, SELF, sw_100_series_2dec1f_original_livery, param_spritelength) {
	1: ss_100_series_2dec1f_original_livery_10;					// Length 10
	ss_100_series_2dec1f_original_livery_12;					// Length 12
}

// 100 Series 2cc Livery
spriteset(ss_100_series_2dec1f_2cc_livery_12,             	    "src/trains/100_series/12/2cc.png") {template_10_standard(1,241)}
spriteset(ss_100_series_2dec1f_2cc_livery_10,             	    "src/trains/100_series/10/2cc.png") {template_10_standard(1,241)}

switch (FEAT_TRAINS, SELF, sw_100_series_2dec1f_2cc_livery, param_spritelength) {
	1: ss_100_series_2dec1f_2cc_livery_10;				        // Length 10
	ss_100_series_2dec1f_2cc_livery_12;					        // Length 12
}

// Cargo subtype selection
switch(FEAT_TRAINS, PARENT, sw_100_series_2dec1f, cargo_subtype) {
	4: sw_100_series_2dec1f_2cc_livery;       					// V set 2cc
	sw_100_series_2dec1f_original_livery;          				// Original Livery
}

// BACKWARDS

// 100 Series Original Strip Livery
spriteset(ss_100_series_2dec1b_original_livery_12,          	"src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_100_series_2dec1b_original_livery_10,          	"src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_100_series_2dec1b_original_livery_12,    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/12/original.png") {template_12_reversed(1,241)}
alternative_sprites(ss_100_series_2dec1b_original_livery_10,	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/10/original.png") {template_10_reversed(1,241)}		

switch (FEAT_TRAINS, SELF, sw_100_series_2dec1b_original_livery, param_spritelength) {
	1: ss_100_series_2dec1b_original_livery_10;					// Length 10
	ss_100_series_2dec1b_original_livery_12;					// Length 12
}

// 100 Series 2cc Livery
spriteset(ss_100_series_2dec1b_2cc_livery_12,             	    "src/trains/100_series/12/2cc.png") {template_10_reversed(1,241)}
spriteset(ss_100_series_2dec1b_2cc_livery_10,             	    "src/trains/100_series/10/2cc.png") {template_10_reversed(1,241)}

switch (FEAT_TRAINS, SELF, sw_100_series_2dec1b_2cc_livery, param_spritelength) {
	1: ss_100_series_2dec1b_2cc_livery_10;				        // Length 10
	ss_100_series_2dec1b_2cc_livery_12;					        // Length 12
}

switch(FEAT_TRAINS, PARENT, sw_100_series_2dec1b, cargo_subtype) {
	4: sw_100_series_2dec1b_2cc_livery;       					// V set 2cc
	sw_100_series_2dec1b_original_livery;          				// Original Livery
}
# 1 "src/trains/100_series/100_series.pnml" 2
# 1 "src/trains/100_series/pnml/sprites/100_series_2dec2.pnml" 1
/* 2dec2 */

// FORWARDS

// 100 Series Original Strip Livery
spriteset(ss_100_series_2dec2f_original_livery_12,          	"src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_100_series_2dec2f_original_livery_10,          	"src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_100_series_2dec2f_original_livery_12,    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/12/original.png") {template_12_standard(1,281)}
alternative_sprites(ss_100_series_2dec2f_original_livery_10,	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/10/original.png") {template_10_standard(1,281)}		

switch (FEAT_TRAINS, SELF, sw_100_series_2dec2f_original_livery, param_spritelength) {
	1: ss_100_series_2dec2f_original_livery_10;					// Length 10
	ss_100_series_2dec2f_original_livery_12;					// Length 12
}

// 100 Series 2cc Livery
spriteset(ss_100_series_2dec2f_2cc_livery_12,             	    "src/trains/100_series/12/2cc.png") {template_10_standard(1,281)}
spriteset(ss_100_series_2dec2f_2cc_livery_10,             	    "src/trains/100_series/10/2cc.png") {template_10_standard(1,281)}

switch (FEAT_TRAINS, SELF, sw_100_series_2dec2f_2cc_livery, param_spritelength) {
	1: ss_100_series_2dec2f_2cc_livery_10;				        // Length 10
	ss_100_series_2dec2f_2cc_livery_12;					        // Length 12
}

// Cargo subtype selection
switch(FEAT_TRAINS, PARENT, sw_100_series_2dec2f, cargo_subtype) {
	4: sw_100_series_2dec2f_2cc_livery;       					// V set 2cc
	sw_100_series_2dec2f_original_livery;          				// Original Livery
}

// BACKWARDS

// 100 Series Original Strip Livery
spriteset(ss_100_series_2dec2b_original_livery_12,          	"src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_100_series_2dec2b_original_livery_10,          	"src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_100_series_2dec2b_original_livery_12,    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/12/original.png") {template_12_reversed(1,281)}
alternative_sprites(ss_100_series_2dec2b_original_livery_10,	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/100_series/10/original.png") {template_10_reversed(1,281)}		

switch (FEAT_TRAINS, SELF, sw_100_series_2dec2b_original_livery, param_spritelength) {
	1: ss_100_series_2dec2b_original_livery_10;					// Length 10
	ss_100_series_2dec2b_original_livery_12;					// Length 12
}

// 100 Series 2cc Livery
spriteset(ss_100_series_2dec2b_2cc_livery_12,             	    "src/trains/100_series/12/2cc.png") {template_10_reversed(1,281)}
spriteset(ss_100_series_2dec2b_2cc_livery_10,             	    "src/trains/100_series/10/2cc.png") {template_10_reversed(1,281)}

switch (FEAT_TRAINS, SELF, sw_100_series_2dec2b_2cc_livery, param_spritelength) {
	1: ss_100_series_2dec2b_2cc_livery_10;				        // Length 10
	ss_100_series_2dec2b_2cc_livery_12;					        // Length 12
}

switch(FEAT_TRAINS, PARENT, sw_100_series_2dec2b, cargo_subtype) {
	4: sw_100_series_2dec2b_2cc_livery;       					// V set 2cc
	sw_100_series_2dec2b_original_livery;          				// Original Livery
}
# 1 "src/trains/100_series/100_series.pnml" 2
# 1 "src/trains/100_series/pnml/100_series_formations.pnml" 1
// Backwards
switch (FEAT_TRAINS, SELF, sw_100_series_backwards_v_smaller, position_in_consist_from_end % 6) {				
		4:  sw_100_series_pantob;
		sw_100_series_coachb;				
	}

switch (FEAT_TRAINS, SELF, sw_100_series_backwards_9_and_10, position_in_consist_from_end == 13 || position_in_consist_from_end == 16 ) {				
		0:  sw_100_series_backwards_v_smaller;
		sw_100_series_2dec1b;				
	}

switch (FEAT_TRAINS, SELF, sw_100_series_backwards_11_to_14, position_in_consist_from_end ) {				
		13: sw_100_series_2dec1b;
		16: sw_100_series_2dec1b;
		19: sw_100_series_2dec2b;
		22: sw_100_series_2dec1b;
		sw_100_series_backwards_v_smaller;				
	}

switch (FEAT_TRAINS, SELF, sw_100_series_backwards_v_15plus, position_in_consist_from_end ) {				
		19: sw_100_series_2dec1b;
		22: sw_100_series_2dec1b;
		25: sw_100_series_2dec2b;
		28: sw_100_series_2dec1b;
		sw_100_series_backwards_v_smaller;				
	}

switch (FEAT_TRAINS, SELF, sw_100_series_backwards_v, num_vehs_in_consist ) {				
		0..24:  sw_100_series_backwards_v_smaller;
		25..30: sw_100_series_backwards_9_and_10;
		31..42: sw_100_series_backwards_11_to_14;
        sw_100_series_backwards_v_15plus;
	}
// Kodama
switch (FEAT_TRAINS, SELF, sw_100_series_backwards_others, position_in_consist_from_end % 6) {				
		4:  sw_100_series_pantob;
		sw_100_series_coachb;				
	}

// Year Dependent
switch (FEAT_TRAINS, SELF, sw_100_series_backwards_year_dep, build_year) {				
		1988..1999:  sw_100_series_backwards_v;
		sw_100_series_backwards_others;				
	}

switch (FEAT_TRAINS, PARENT, sw_100_series_backwards, cargo_subtype) {				
		0:  sw_100_series_backwards_year_dep;
		3:  sw_100_series_backwards_v;
		4:  sw_100_series_backwards_v;
		sw_100_series_backwards_others;				
	}

// Forwards

// V
switch (FEAT_TRAINS, SELF, sw_100_series_forwards_v_smaller, position_in_consist % 6) {				
		4:  sw_100_series_pantof;
		sw_100_series_coachf;				
	}

switch (FEAT_TRAINS, SELF, sw_100_series_forwards_9_and_10, position_in_consist == 13 || position_in_consist == 16 ) {				
		0:  sw_100_series_forwards_v_smaller;
		sw_100_series_2dec1f;				
	}

switch (FEAT_TRAINS, SELF, sw_100_series_forwards_11_to_14, position_in_consist ) {				
		13: sw_100_series_2dec1f;
		16: sw_100_series_2dec1f;
		19: sw_100_series_2dec2f;
		22: sw_100_series_2dec1f;
		sw_100_series_forwards_v_smaller;				
	}

switch (FEAT_TRAINS, SELF, sw_100_series_forwards_v_15plus, position_in_consist ) {				
		19: sw_100_series_2dec1f;
		22: sw_100_series_2dec1f;
		25: sw_100_series_2dec2f;
		28: sw_100_series_2dec1f;
		sw_100_series_forwards_v_smaller;				
	}

switch (FEAT_TRAINS, SELF, sw_100_series_forwards_v, num_vehs_in_consist ) {				
		0..24:  sw_100_series_forwards_v_smaller;
		25..30: sw_100_series_forwards_9_and_10;
		31..42: sw_100_series_forwards_11_to_14;
        sw_100_series_forwards_v_15plus;
	}

// Kodama
switch (FEAT_TRAINS, SELF, sw_100_series_forwards_others, position_in_consist % 6) {				
		4:  sw_100_series_pantof;
		sw_100_series_coachf;				
	}

// Year Dep
switch (FEAT_TRAINS, SELF, sw_100_series_forwards_year_dep, build_year) {				
		1988..1999:  sw_100_series_forwards_v;
		sw_100_series_forwards_others;				
	}

switch (FEAT_TRAINS, PARENT, sw_100_series_forwards, cargo_subtype) {				
		0:  sw_100_series_forwards_year_dep;
		3:  sw_100_series_forwards_v;
		4:  sw_100_series_forwards_v;
		sw_100_series_forwards_others;				
	}

// Is vehicle reversed?
switch (FEAT_TRAINS, PARENT, sw_100_series_midcars, vehicle_is_reversed) {				
		0:  sw_100_series_forwards;
		sw_100_series_backwards;				
	}

/* Cab selection */

    // Rear cab
    switch (FEAT_TRAINS, PARENT, sw_100_series_rear_not_reversed, num_vehs_in_consist % 2) {				
            1:  sw_100_series_cab03f;               // Odd
            sw_100_series_cab02f;		            // Even		
        }

    switch (FEAT_TRAINS, PARENT, sw_100_series_rear, vehicle_is_reversed) {				
            1:  sw_100_series_cab01b;               // Must be cab01	
            sw_100_series_rear_not_reversed;        // Not reversed - so choose odd or even	
        }

    // Lead cab
    switch (FEAT_TRAINS, PARENT, sw_100_series_lead_reversed, num_vehs_in_consist % 2) {				
            1:  sw_100_series_cab03b;               // Odd
            sw_100_series_cab02b;		            // Even		
        }
    
    switch (FEAT_TRAINS, PARENT, sw_100_series_lead, vehicle_is_reversed) {				
            1:  sw_100_series_lead_reversed;        // Reversed - so choose odd or even lead
            sw_100_series_cab01f;                   // Must be cab01	
        }

/* Find the cabs */
    switch (FEAT_TRAINS, SELF, sw_100_series_lead_or_rear, position_in_consist) {				
            1:  sw_100_series_lead;
            sw_100_series_rear;				
        }
    
    switch (FEAT_TRAINS, SELF, sw_100_series_ends, position_in_consist == 1 || position_in_consist_from_end == 1) {				
            1:  sw_100_series_lead_or_rear;
            sw_100_series_midcars;				
        }
# 1 "src/trains/100_series/100_series.pnml" 2
# 1 "src/trains/100_series/pnml/100_series_item.pnml" 1
switch (FEAT_TRAINS, SELF, sw_100_series_graphics, position_in_consist % 3) {				
		1:  sw_100_series_ends; 				
		dummy_sprites;
	}

switch (FEAT_TRAINS, SELF, sw_100_series_articulated_part, extra_callback_info1) {
		1 .. 2: return series_100;									
		return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
	}

/*---Coupling Switch---*/
switch(FEAT_TRAINS, SELF, sw_100_series_attach_vehid, [vehicle_type_id == mu_car_full]) {
 0: return string(ONLY_ADD_MUCAR);
}

/*---Length Check---*/
switch (FEAT_TRAINS, SELF, sw_100_series_stop_start, num_vehs_in_consist < 12) {				
		1:  return string(STR_LENGTH_ERROR); 				
		return CB_RESULT_NO_TEXT; 
	}

/* SPEED */
    switch(FEAT_TRAINS, SELF, sw_100_series_speed, cargo_subtype) {
        0..2: return 220;   // Original speed
        return 230;         // Kodama speed
    }

item(FEAT_TRAINS, series_100) {
	property {
		/* Menu */
        name: 							string(STR_NAME_100_SERIES);
		sprite_id:                      SPRITE_ID_NEW_TRAIN; 		// required to enable new graphics
        misc_flags:                     bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU, TRAIN_FLAG_TILT, TRAIN_FLAG_AUTOREFIT, TRAIN_FLAG_SPRITE_STACK);
		running_cost_base:              RUNNING_COST_ELECTRIC;
		engine_class:                   ENGINE_CLASS_ELECTRIC;
        /* Availability */
        climates_available:             ALL_CLIMATES;
		introduction_date:              date(1985,10,01);           // Date of launch
		model_life:                     1993 - 1985;		        // Constructed until 1992
		vehicle_life:                   30;							// 
		track_type:                     SHINKANSEN;
        /* Cargo */
        reliability_decay:              5;
		refittable_cargo_classes:       bitmask(CC_PASSENGERS);
		refit_cost:                     0;
		default_cargo_type:             PASS;
		ai_special_flag:                AI_FLAG_PASSENGER;
        cargo_capacity:                 1;							// Changed by callback
		loading_speed:                  50;							
		cargo_age_period:               278; 						// 1.5 times normal for this expensive long-distance train		
		/* Stats */
        speed:                          211 km/h;                   // Changed by callback
		power:                          8050 kW;					// Changed by callback
		weight:                         1464 ton;                   // Changed by callback					
		tractive_effort_coefficient:    0.3;
		air_drag_coefficient:			0;
	}
	graphics {
		/* Menu */
        additional_text:                string(STR_DESC_100_SERIES);
        cargo_subtype_text:             sw_100_series_year_dep_subtype_text;
		can_attach_wagon:				sw_100_series_attach_vehid;
		start_stop:						sw_100_series_stop_start;
		purchase_weight:                53;
        purchase_power:                 308 * 4;
        /* Graphics */
        default:                        sw_100_series_graphics;
		purchase:                       sw_100_series_year_dep_purchase;
		articulated_part:               sw_100_series_articulated_part;
		visual_effect_and_powered:      sw_visual_effect_and_powered;
        /* Stats */
        length:                         sw_param_length;
        weight:                         NumberCarsInConsist() * 53;
        power:                          max (NumberCarsInConsist() - 2 ,0) * 308 * 4;	// 230 kW
        speed:							sw_100_series_speed;
		cargo_capacity:                 27 * CapacityFactor();															
		loading_speed:					27 * CapacityFactor() / param_loading_2D;					// Capacity divided by door loading factor
		cargo_age_period:				param_decay_express;
		cost_factor:                    132;
		running_cost_factor:            (300 + 123 * NumberCarsInConsist() ) * RunningCostFactor();
		purchase_running_cost_factor:   300 + 123 * NumberCarsInConsist();
		
	}
	/*Multiple Unit Car*/
	
      livery_override(mu_car_full){
        default:                        sw_100_series_graphics;
        cargo_capacity:                 27 * CapacityFactor();	
        cargo_age_period:				param_decay_express;
        loading_speed:					27 * CapacityFactor() / param_loading_2D;
		articulated_part:				sw_mucar_full_articulated_part;
		length:							sw_param_length;
		//power:						// Apply power in graphics block to calculate power based on number of motorised cars correctly
		//weight:						// Apply weight to graphics block to calculate Max T.E. correctly
        //running_cost_factor:            sw_100_series_running_costs;
      }
}
# 1 "src/trains/100_series/100_series.pnml" 2
# 1 "JPplusShinkansen.pnml" 4
# 1 "src/trains/800_series/800_series.pnml" 1

# 1 "src/trains/800_series/pnml/800_series_menu.pnml" 1
/* Subtypes */

	switch(FEAT_TRAINS, SELF, sw_800_series_subtype_text, cargo_subtype) {
		0: return string(LV_800_SERIES);                            // Sharknose
		1: return string(LV_800_SERIES_2CC);                        // Sharknose 2cc
		return CB_RESULT_NO_TEXT;
		}

/* Purchase Menu */

    spriteset (ss_800_series_buy_12,	      		"src/trains/dummy/purchase.png") {template_purchase(0, 0)}
	spriteset (ss_800_series_buy_10,	      		"src/trains/dummy/purchase.png") {template_purchase(0, 0)}
    alternative_sprites(ss_800_series_buy_12,       ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/800_series/12/purchase.png") {template_purchase(0, 0)}
	alternative_sprites(ss_800_series_buy_10,       ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/800_series/12/purchase.png") {template_purchase(0, 0)}

		switch (FEAT_TRAINS, SELF, ss_800_series_buy, param_spritelength) {
			1: ss_800_series_buy_10;				// Length 10
			ss_800_series_buy_12;					// Length 12
		}
# 1 "src/trains/800_series/800_series.pnml" 2
# 1 "src/trains/800_series/pnml/sprites/800_series_cab01.pnml" 1
/* cab01 */

// FORWARDS

// 800 Series
spriteset(ss_800_series_cab01f_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_800_series_cab01f_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_800_series_cab01f_12,                ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/800_series/12/800_series.png") {template_12_standard(1,1)}
alternative_sprites(ss_800_series_cab01f_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/800_series/10/800_series.png") {template_10_standard(1,1)}		

switch (FEAT_TRAINS, SELF, sw_800_series_cab01f_irl, param_spritelength) {
	1: ss_800_series_cab01f_10;				                // Length 10
	ss_800_series_cab01f_12;				                // Length 12
}

// 800 Series 2cc
spriteset(ss_800_series_cab01f_2cc_12,             	        "src/trains/800_series/12/800_series_2cc.png") {template_12_standard(1,1)}
spriteset(ss_800_series_cab01f_2cc_10,             	        "src/trains/800_series/10/800_series_2cc.png") {template_10_standard(1,1)}

switch (FEAT_TRAINS, SELF, sw_800_series_cab01f_2cc, param_spritelength) {
	1: ss_800_series_cab01f_2cc_10;				            // Length 10
	ss_800_series_cab01f_2cc_12;					        // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_800_series_cab01f, cargo_subtype) {
        1: sw_800_series_cab01f_2cc;
        sw_800_series_cab01f_irl;
    }

// BACKWARDS

// 800 Series
spriteset(ss_800_series_cab01b_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_800_series_cab01b_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_800_series_cab01b_12,                ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/800_series/12/800_series.png") {template_12_reversed(1,41)}
alternative_sprites(ss_800_series_cab01b_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/800_series/10/800_series.png") {template_10_reversed(1,41)}		

switch (FEAT_TRAINS, SELF, sw_800_series_cab01b_irl, param_spritelength) {
	1: ss_800_series_cab01b_10;				                // Length 10
	ss_800_series_cab01b_12;				                // Length 12
}

// 800 Series 2cc
spriteset(ss_800_series_cab01b_2cc_12,             	        "src/trains/800_series/12/800_series_2cc.png") {template_12_reversed(1,41)}
spriteset(ss_800_series_cab01b_2cc_10,             	        "src/trains/800_series/10/800_series_2cc.png") {template_10_reversed(1,41)}

switch (FEAT_TRAINS, SELF, sw_800_series_cab01b_2cc, param_spritelength) {
	1: ss_800_series_cab01b_2cc_10;				 	        // Length 10
	ss_800_series_cab01b_2cc_12;					        // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_800_series_cab01b, cargo_subtype) {
        1: sw_800_series_cab01b_2cc;
        sw_800_series_cab01b_irl;
    }
# 1 "src/trains/800_series/800_series.pnml" 2
# 1 "src/trains/800_series/pnml/sprites/800_series_cab02.pnml" 1
/* cab02 */

// FORWARDS

// 800 Series
spriteset(ss_800_series_cab02f_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_800_series_cab02f_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_800_series_cab02f_12,                ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/800_series/12/800_series.png") {template_12_cab_rev_standard(1,41)}
alternative_sprites(ss_800_series_cab02f_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/800_series/10/800_series.png") {template_10_cab_rev_standard(1,41)}		

switch (FEAT_TRAINS, SELF, sw_800_series_cab02f_irl, param_spritelength) {
	1: ss_800_series_cab02f_10;				                // Length 10
	ss_800_series_cab02f_12;				                // Length 12
}

// 800 Series 2cc
spriteset(ss_800_series_cab02f_2cc_12,             	        "src/trains/800_series/12/800_series_2cc.png") {template_12_cab_rev_standard(1,41)}
spriteset(ss_800_series_cab02f_2cc_10,             	        "src/trains/800_series/10/800_series_2cc.png") {template_10_cab_rev_standard(1,41)}

switch (FEAT_TRAINS, SELF, sw_800_series_cab02f_2cc, param_spritelength) {
	1: ss_800_series_cab02f_2cc_10;					        // Length 10
	ss_800_series_cab02f_2cc_12;						    // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_800_series_cab02f, cargo_subtype) {
        1: sw_800_series_cab02f_2cc;
        sw_800_series_cab02f_irl;
    }

// BACKWARDS

// 800 Series
spriteset(ss_800_series_cab02b_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_800_series_cab02b_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_800_series_cab02b_12,                ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/800_series/12/800_series.png") {template_12_cab_rev_reversed(1,1)}
alternative_sprites(ss_800_series_cab02b_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/800_series/10/800_series.png") {template_10_cab_rev_reversed(1,1)}		

switch (FEAT_TRAINS, SELF, sw_800_series_cab02b_irl, param_spritelength) {
	1: ss_800_series_cab02b_10;				                // Length 10
	ss_800_series_cab02b_12;				                // Length 12
}

// 800 Series 2cc
spriteset(ss_800_series_cab02b_2cc_12,                      "src/trains/800_series/12/800_series_2cc.png") {template_12_cab_rev_reversed(1,1)}
spriteset(ss_800_series_cab02b_2cc_10,             	        "src/trains/800_series/10/800_series_2cc.png") {template_10_cab_rev_reversed(1,1)}

switch (FEAT_TRAINS, SELF, sw_800_series_cab02b_2cc, param_spritelength) {
	1: ss_800_series_cab02b_2cc_10;					        // Length 10
	ss_800_series_cab02b_2cc_12;						    // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_800_series_cab02b, cargo_subtype) {
        1: sw_800_series_cab02b_2cc;
        sw_800_series_cab02b_irl;
    }
# 1 "src/trains/800_series/800_series.pnml" 2
# 1 "src/trains/800_series/pnml/sprites/800_series_coach.pnml" 1
/* coach */

// FORWARDS

// 800 Series
spriteset(ss_800_series_coachf_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_800_series_coachf_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_800_series_coachf_12,                ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/800_series/12/800_series.png") {template_12_standard(1,121)}
alternative_sprites(ss_800_series_coachf_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/800_series/10/800_series.png") {template_10_standard(1,121)}		

switch (FEAT_TRAINS, SELF, sw_800_series_coachf_irl, param_spritelength) {
	1: ss_800_series_coachf_10;				                // Length 10
	ss_800_series_coachf_12;				                // Length 12
}

// 800 Series 2cc
spriteset(ss_800_series_coachf_2cc_12,             	        "src/trains/800_series/12/800_series_2cc.png") {template_12_standard(1,121)}
spriteset(ss_800_series_coachf_2cc_10,             	        "src/trains/800_series/10/800_series_2cc.png") {template_10_standard(1,121)}

switch (FEAT_TRAINS, SELF, sw_800_series_coachf_2cc, param_spritelength) {
	1: ss_800_series_coachf_2cc_10;				            // Length 10
	ss_800_series_coachf_2cc_12;					        // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_800_series_coachf, cargo_subtype) {
        1: sw_800_series_coachf_2cc;
        sw_800_series_coachf_irl;
    }

// BACKWARDS

// 800 Series
spriteset(ss_800_series_coachb_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_800_series_coachb_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_800_series_coachb_12,                ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/800_series/12/800_series.png") {template_12_reversed(1,121)}
alternative_sprites(ss_800_series_coachb_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/800_series/10/800_series.png") {template_10_reversed(1,121)}		

switch (FEAT_TRAINS, SELF, sw_800_series_coachb_irl, param_spritelength) {
	1: ss_800_series_coachb_10;				                // Length 10
	ss_800_series_coachb_12;				                // Length 12
}

// 800 Series 2cc
spriteset(ss_800_series_coachb_2cc_12,             	        "src/trains/800_series/12/800_series_2cc.png") {template_12_reversed(1,121)}
spriteset(ss_800_series_coachb_2cc_10,             	        "src/trains/800_series/10/800_series_2cc.png") {template_10_reversed(1,121)}

switch (FEAT_TRAINS, SELF, sw_800_series_coachb_2cc, param_spritelength) {
	1: ss_800_series_coachb_2cc_10;				 	        // Length 10
	ss_800_series_coachb_2cc_12;					        // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_800_series_coachb, cargo_subtype) {
        1: sw_800_series_coachb_2cc;
        sw_800_series_coachb_irl;
    }
# 1 "src/trains/800_series/800_series.pnml" 2
# 1 "src/trains/800_series/pnml/sprites/800_series_pant1.pnml" 1
/* pant1 */

// FORWARDS

// 800 Series
spriteset(ss_800_series_pant1f_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_800_series_pant1f_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_800_series_pant1f_12,                ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/800_series/12/800_series.png") {template_12_standard(1,81)}
alternative_sprites(ss_800_series_pant1f_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/800_series/10/800_series.png") {template_10_standard(1,81)}		

switch (FEAT_TRAINS, SELF, sw_800_series_pant1f_irl, param_spritelength) {
	1: ss_800_series_pant1f_10;				                // Length 10
	ss_800_series_pant1f_12;				                // Length 12
}

// 800 Series 2cc
spriteset(ss_800_series_pant1f_2cc_12,             	        "src/trains/800_series/12/800_series_2cc.png") {template_12_standard(1,81)}
spriteset(ss_800_series_pant1f_2cc_10,             	        "src/trains/800_series/10/800_series_2cc.png") {template_10_standard(1,81)}

switch (FEAT_TRAINS, SELF, sw_800_series_pant1f_2cc, param_spritelength) {
	1: ss_800_series_pant1f_2cc_10;				            // Length 10
	ss_800_series_pant1f_2cc_12;					        // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_800_series_pant1f, cargo_subtype) {
        1: sw_800_series_pant1f_2cc;
        sw_800_series_pant1f_irl;
    }

// BACKWARDS

// 800 Series
spriteset(ss_800_series_pant1b_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_800_series_pant1b_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_800_series_pant1b_12,                ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/800_series/12/800_series.png") {template_12_reversed(1,81)}
alternative_sprites(ss_800_series_pant1b_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/800_series/10/800_series.png") {template_10_reversed(1,81)}		

switch (FEAT_TRAINS, SELF, sw_800_series_pant1b_irl, param_spritelength) {
	1: ss_800_series_pant1b_10;				                // Length 10
	ss_800_series_pant1b_12;				                // Length 12
}

// 800 Series 2cc
spriteset(ss_800_series_pant1b_2cc_12,             	        "src/trains/800_series/12/800_series_2cc.png") {template_12_reversed(1,81)}
spriteset(ss_800_series_pant1b_2cc_10,             	        "src/trains/800_series/10/800_series_2cc.png") {template_10_reversed(1,81)}

switch (FEAT_TRAINS, SELF, sw_800_series_pant1b_2cc, param_spritelength) {
	1: ss_800_series_pant1b_2cc_10;				 	        // Length 10
	ss_800_series_pant1b_2cc_12;					        // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_800_series_pant1b, cargo_subtype) {
        1: sw_800_series_pant1b_2cc;
        sw_800_series_pant1b_irl;
    }
# 1 "src/trains/800_series/800_series.pnml" 2
# 1 "src/trains/800_series/pnml/sprites/800_series_pant2.pnml" 1
/* pant2 */

// FORWARDS

// 800 Series
spriteset(ss_800_series_pant2f_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_800_series_pant2f_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_800_series_pant2f_12,                ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/800_series/12/800_series.png") {template_12_cab_rev_standard(1,81)}
alternative_sprites(ss_800_series_pant2f_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/800_series/10/800_series.png") {template_10_cab_rev_standard(1,81)}		

switch (FEAT_TRAINS, SELF, sw_800_series_pant2f_irl, param_spritelength) {
	1: ss_800_series_pant2f_10;				                // Length 10
	ss_800_series_pant2f_12;				                // Length 12
}

// 800 Series 2cc
spriteset(ss_800_series_pant2f_2cc_12,             	        "src/trains/800_series/12/800_series_2cc.png") {template_12_cab_rev_standard(1,81)}
spriteset(ss_800_series_pant2f_2cc_10,             	        "src/trains/800_series/10/800_series_2cc.png") {template_10_cab_rev_standard(1,81)}

switch (FEAT_TRAINS, SELF, sw_800_series_pant2f_2cc, param_spritelength) {
	1: ss_800_series_pant2f_2cc_10;				            // Length 10
	ss_800_series_pant2f_2cc_12;					        // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_800_series_pant2f, cargo_subtype) {
        1: sw_800_series_pant2f_2cc;
        sw_800_series_pant2f_irl;
    }

// BACKWARDS

// 800 Series
spriteset(ss_800_series_pant2b_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_800_series_pant2b_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_800_series_pant2b_12,                ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/800_series/12/800_series.png") {template_12_cab_rev_reversed(1,81)}
alternative_sprites(ss_800_series_pant2b_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/800_series/10/800_series.png") {template_10_cab_rev_reversed(1,81)}		

switch (FEAT_TRAINS, SELF, sw_800_series_pant2b_irl, param_spritelength) {
	1: ss_800_series_pant2b_10;				                // Length 10
	ss_800_series_pant2b_12;				                // Length 12
}

// 800 Series 2cc
spriteset(ss_800_series_pant2b_2cc_12,             	        "src/trains/800_series/12/800_series_2cc.png") {template_12_cab_rev_reversed(1,81)}
spriteset(ss_800_series_pant2b_2cc_10,             	        "src/trains/800_series/10/800_series_2cc.png") {template_10_cab_rev_reversed(1,81)}

switch (FEAT_TRAINS, SELF, sw_800_series_pant2b_2cc, param_spritelength) {
	1: ss_800_series_pant2b_2cc_10;				 	        // Length 10
	ss_800_series_pant2b_2cc_12;					        // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_800_series_pant2b, cargo_subtype) {
        1: sw_800_series_pant2b_2cc;
        sw_800_series_pant2b_irl;
    }
# 1 "src/trains/800_series/800_series.pnml" 2
# 1 "src/trains/800_series/pnml/800_series_formations.pnml" 1

/* Midcars */
    // coaches    
        switch (FEAT_TRAINS, PARENT, sw_800_series_coaches, vehicle_is_reversed) {				
                1:  sw_800_series_coachb;
                sw_800_series_coachf;			
            }

    /* long */
        switch (FEAT_TRAINS, SELF, sw_800_series_long_panto_backwards, position_in_consist_from_end == 13 ) {				
                1:  sw_800_series_pant1b;
                sw_800_series_pant2b;				
            }

        switch (FEAT_TRAINS, SELF, sw_800_series_long_panto_forwards, position_in_consist == 13 ) {				
                1:  sw_800_series_pant1f;
                sw_800_series_pant2f;				
            }
        
        switch (FEAT_TRAINS, PARENT, sw_800_series_long_panto_positions, vehicle_is_reversed) {				
                1:  sw_800_series_long_panto_backwards;
                sw_800_series_long_panto_forwards;			
            }

        switch (FEAT_TRAINS, SELF, sw_800_series_long, position_in_consist == 13 || position_in_consist_from_end == 13) {				
                1:  sw_800_series_long_panto_positions;
                sw_800_series_coaches;				
            }

    /* penultimate pantos */
        switch (FEAT_TRAINS, SELF, sw_800_series_penultimate_panto_backwards, position_in_consist_from_end == 4 ) {				
                1:  sw_800_series_pant1b;
                sw_800_series_pant2b;				
            }

        switch (FEAT_TRAINS, SELF, sw_800_series_penultimate_panto_forwards, position_in_consist == 4 ) {				
                1:  sw_800_series_pant1f;
                sw_800_series_pant2f;				
            }
        
        switch (FEAT_TRAINS, PARENT, sw_800_series_penultimate_panto_positions, vehicle_is_reversed) {				
                1:  sw_800_series_penultimate_panto_backwards;
                sw_800_series_penultimate_panto_forwards;			
            }

        switch (FEAT_TRAINS, SELF, sw_800_series_penultimate_pantos, position_in_consist == 4 || position_in_consist_from_end == 4) {				
                1:  sw_800_series_penultimate_panto_positions;
                sw_800_series_coaches;				
            }

    /* panto_in_middle */
        // Backwards
        switch (FEAT_TRAINS, SELF, sw_800_series_panto_in_middle_backwards, (position_in_consist == position_in_consist_from_end ) || (position_in_consist - 3 == position_in_consist_from_end)) {				
                0:  sw_800_series_coachb;
                sw_800_series_pant1b;
            }

        // Forwards
        switch (FEAT_TRAINS, SELF, sw_800_series_panto_in_middle_forwards, (position_in_consist == position_in_consist_from_end ) || (position_in_consist - 3 == position_in_consist_from_end)) {				
                0:  sw_800_series_coachf;
                sw_800_series_pant1f;				
            }

        switch (FEAT_TRAINS, PARENT, sw_800_series_panto_in_middle, vehicle_is_reversed) {				
                1:  sw_800_series_panto_in_middle_backwards;
                sw_800_series_panto_in_middle_forwards;				
            }

    /* Midcar selection */
    switch (FEAT_TRAINS, SELF, sw_800_series_midcars, num_vehs_in_consist ) {				
			1..21:  sw_800_series_panto_in_middle;
            22..39:  sw_800_series_penultimate_pantos;
			sw_800_series_long;				
		}

/* Cab selection */
    // Rear cab
    switch (FEAT_TRAINS, PARENT, sw_800_series_rear, vehicle_is_reversed) {				
            1:  sw_800_series_cab01b;                   // cab01	
            sw_800_series_cab02f;                       // cab02
        }

    // Lead cab
    switch (FEAT_TRAINS, PARENT, sw_800_series_lead, vehicle_is_reversed) {				
            1:  sw_800_series_cab02b;                   // cab02
            sw_800_series_cab01f;                       // cab01	
        }

/* Find the cabs */
    switch (FEAT_TRAINS, SELF, sw_800_series_lead_or_rear, position_in_consist) {				
            1:  sw_800_series_lead;
            sw_800_series_rear;				
        }
    
    switch (FEAT_TRAINS, SELF, sw_800_series_ends, position_in_consist == 1 || position_in_consist_from_end == 1) {				
            1:  sw_800_series_lead_or_rear;
            sw_800_series_midcars;				
        }
# 1 "src/trains/800_series/800_series.pnml" 2
# 1 "src/trains/800_series/pnml/800_series_item.pnml" 1
switch (FEAT_TRAINS, SELF, sw_800_series_graphics, position_in_consist % 3) {				
		1:  sw_800_series_ends; 				
		dummy_sprites;
	}

switch (FEAT_TRAINS, SELF, sw_800_series_articulated_part, extra_callback_info1) {
		1 .. 2: return series_800;									
		return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
	}

/*---Coupling Switch---*/
switch(FEAT_TRAINS, SELF, sw_800_series_attach_vehid, [vehicle_type_id == mu_car_full]) {
 0: return string(ONLY_ADD_MUCAR);
}

/*---Length Check---*/
switch (FEAT_TRAINS, SELF, sw_800_series_stop_start, num_vehs_in_consist < 12) {				
		1:  return string(STR_LENGTH_ERROR); 				
		return CB_RESULT_NO_TEXT; 
	}

item(FEAT_TRAINS, series_800) {
	property {
		/* Menu */
		name: 							string(STR_NAME_800_SERIES);
		sprite_id:                      SPRITE_ID_NEW_TRAIN; 		// required to enable new graphics
		misc_flags:                     bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU, TRAIN_FLAG_TILT, TRAIN_FLAG_AUTOREFIT);
		running_cost_base:              RUNNING_COST_ELECTRIC;
		engine_class:                   ENGINE_CLASS_ELECTRIC;
		/* Availability */
		climates_available:             ALL_CLIMATES;
		introduction_date:              date(2004,03,13);
		model_life:                     VEHICLE_NEVER_EXPIRES;		//
		vehicle_life:                   30;							// 
		track_type:                     SHINKANSEN;
		/* Cargo */
		reliability_decay:              5;
		refittable_cargo_classes:       bitmask(CC_PASSENGERS);
		refit_cost:                     0;
		default_cargo_type:             PASS;
		ai_special_flag:                AI_FLAG_PASSENGER;
		cargo_capacity:                 1;							// 
		loading_speed:                  50;							
		cargo_age_period:               278; 						// 1.5 times normal for this expensive long-distance train
		/* Stats */
		speed:                          261 km/h;				
		power:                          9300 hp;					// 1550 hp (per JPS) x 6 cars					
		weight:                         44 * 6 tons;				// 44t (per JPS) x 6 cars					
		tractive_effort_coefficient:    0.3;
		air_drag_coefficient:			0;
	}
	graphics {
		/* Menu */
		additional_text:                string(STR_DESC_800_SERIES);
		cargo_subtype_text:             sw_800_series_subtype_text;
		can_attach_wagon:				sw_800_series_attach_vehid;
		start_stop:						sw_800_series_stop_start;
		purchase_weight:                44;
        purchase_power:                 375 * 4;
		/* Graphics */
		default:                        sw_800_series_graphics;
		purchase:                       ss_800_series_buy;
		articulated_part:               sw_800_series_articulated_part;
		visual_effect_and_powered:      sw_visual_effect_and_powered;
		/* Stats */
		length:                         sw_param_length;
        power:                          NumberCarsInConsist() * 375 * 4;	// (285 kW)
        weight:                         NumberCarsInConsist() * 44 ;
		cargo_capacity:                 22 * CapacityFactor();															
		loading_speed:					22 * CapacityFactor() / param_loading_2D;					// Capacity divided by door loading factor
		cargo_age_period:				param_decay_express;
		cost_factor:                    121;
		running_cost_factor:            (290 + 120 * NumberCarsInConsist() ) * RunningCostFactor();
		purchase_running_cost_factor:   290 + 120 * NumberCarsInConsist();
	}
	/*Multiple Unit Car*/
	
      livery_override(mu_car_full){
        default:                        sw_800_series_graphics;
        cargo_capacity:                 22 * CapacityFactor();
        cargo_age_period:				param_decay_express;
        loading_speed:                  22 * CapacityFactor() / param_loading_2D;
		articulated_part:				sw_mucar_full_articulated_part;
		length:							sw_param_length;
		//power:						// Apply power in graphics block to calculate power based on number of motorised cars correctly
		//weight:						// Apply weight to graphics block to calculate Max T.E. correctly
        //running_cost_factor:            sw_800_series_running_costs;
      }
}
# 1 "src/trains/800_series/800_series.pnml" 2
# 1 "JPplusShinkansen.pnml" 4
# 1 "src/trains/l0_series/l0_series.pnml" 1

# 1 "src/trains/l0_series/pnml/l0_series_menu.pnml" 1
/* Subtypes */

	switch(FEAT_TRAINS, SELF, sw_l0_series_subtype_text, cargo_subtype) {
		0: return string(LV_L0_SERIES);                            // Sharknose
		1: return string(LV_L0_SERIES_2CC);                        // Sharknose 2cc
		return CB_RESULT_NO_TEXT;
		}


/* Purchase Menu */
    spriteset (ss_l0_series_buy_12,	        	    "src/trains/dummy/purchase.png") {template_purchase(0, 0)}
	spriteset (ss_l0_series_buy_10,	        	    "src/trains/dummy/purchase.png") {template_purchase(0, 0)}
    alternative_sprites(ss_l0_series_buy_12,           ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/l0_series/12/purchase_32bpp.png") {template_purchase(0, 0)}
    alternative_sprites(ss_l0_series_buy_10,           ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/l0_series/12/purchase_32bpp.png") {template_purchase(0, 0)}

		switch (FEAT_TRAINS, SELF, ss_l0_series_buy, param_spritelength) {
			1: ss_l0_series_buy_10;					// Length 10
			ss_l0_series_buy_12;						// Length 12
		}

# 1 "src/trains/l0_series/l0_series.pnml" 2
# 1 "src/trains/l0_series/pnml/sprites/l0_series_cab01.pnml" 1
/* cab01 */

// FORWARDS

// L0 Series
spriteset(ss_l0_series_cab01f_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_l0_series_cab01f_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_l0_series_cab01f_12,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/l0_series/12/l0950.png") {template_12_standard(1,1)}
alternative_sprites(ss_l0_series_cab01f_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/l0_series/10/l0950.png") {template_10_standard(1,1)}		

switch (FEAT_TRAINS, SELF, sw_l0_series_cab01f_irl, param_spritelength) {
	1: ss_l0_series_cab01f_10;				            // Length 10
	ss_l0_series_cab01f_12;				                // Length 12
}

// L0 Series 2cc
spriteset(ss_l0_series_cab01f_2cc_12,             	    "src/trains/l0_series/12/l0950_2cc.png") {template_12_standard(1,1)}
spriteset(ss_l0_series_cab01f_2cc_10,             	    "src/trains/l0_series/10/l0950_2cc.png") {template_10_standard(1,1)}

switch (FEAT_TRAINS, SELF, sw_l0_series_cab01f_2cc, param_spritelength) {
	1: ss_l0_series_cab01f_2cc_10;				        // Length 10
	ss_l0_series_cab01f_2cc_12;					        // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_l0_series_cab01f, cargo_subtype) {
        1: sw_l0_series_cab01f_2cc;
        sw_l0_series_cab01f_irl;
    }

// BACKWARDS

// L0 Series
spriteset(ss_l0_series_cab01b_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_l0_series_cab01b_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_l0_series_cab01b_12,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/l0_series/12/l0950.png") {template_12_reversed(1,41)}
alternative_sprites(ss_l0_series_cab01b_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/l0_series/10/l0950.png") {template_10_reversed(1,41)}		

switch (FEAT_TRAINS, SELF, sw_l0_series_cab01b_irl, param_spritelength) {
	1: ss_l0_series_cab01b_10;				            // Length 10
	ss_l0_series_cab01b_12;				                // Length 12
}

// L0 Series 2cc
spriteset(ss_l0_series_cab01b_2cc_12,                   "src/trains/l0_series/12/l0950_2cc.png") {template_12_reversed(1,41)}
spriteset(ss_l0_series_cab01b_2cc_10,             	    "src/trains/l0_series/10/l0950_2cc.png") {template_10_reversed(1,41)}

switch (FEAT_TRAINS, SELF, sw_l0_series_cab01b_2cc, param_spritelength) {
	1: ss_l0_series_cab01b_2cc_10;				 	    // Length 10
	ss_l0_series_cab01b_2cc_12;					        // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_l0_series_cab01b, cargo_subtype) {
        1: sw_l0_series_cab01b_2cc;
        sw_l0_series_cab01b_irl;
    }
# 1 "src/trains/l0_series/l0_series.pnml" 2
# 1 "src/trains/l0_series/pnml/sprites/l0_series_cab02.pnml" 1
/* cab02 */

// FORWARDS

// L0 Series
spriteset(ss_l0_series_cab02f_12,          	                "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_l0_series_cab02f_10,          	                "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_l0_series_cab02f_12,                 ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/l0_series/12/l0950.png") {template_12_cab_rev_standard(1,41)}
alternative_sprites(ss_l0_series_cab02f_10,	                ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/l0_series/10/l0950.png") {template_10_cab_rev_standard(1,41)}		

switch (FEAT_TRAINS, SELF, sw_l0_series_cab02f_irl, param_spritelength) {
	1: ss_l0_series_cab02f_10;				                // Length 10
	ss_l0_series_cab02f_12;				                    // Length 12
}

// L0 Series 2cc
spriteset(ss_l0_series_cab02f_2cc_12,             	        "src/trains/l0_series/12/l0950_2cc.png") {template_12_cab_rev_standard(1,41)}
spriteset(ss_l0_series_cab02f_2cc_10,             	        "src/trains/l0_series/10/l0950_2cc.png") {template_10_cab_rev_standard(1,41)}

switch (FEAT_TRAINS, SELF, sw_l0_series_cab02f_2cc, param_spritelength) {
	1: ss_l0_series_cab02f_2cc_10;					        // Length 10
	ss_l0_series_cab02f_2cc_12;						        // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_l0_series_cab02f, cargo_subtype) {
        1: sw_l0_series_cab02f_2cc;
        sw_l0_series_cab02f_irl;
    }

// BACKWARDS

// L0 Series
spriteset(ss_l0_series_cab02b_12,          	                "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_l0_series_cab02b_10,          	                "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_l0_series_cab02b_12,                 ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/l0_series/12/l0950.png") {template_12_cab_rev_reversed(1,1)}
alternative_sprites(ss_l0_series_cab02b_10,	                ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/l0_series/10/l0950.png") {template_10_cab_rev_reversed(1,1)}		

switch (FEAT_TRAINS, SELF, sw_l0_series_cab02b_irl, param_spritelength) {
	1: ss_l0_series_cab02b_10;				                // Length 10
	ss_l0_series_cab02b_12;				                    // Length 12
}

// L0 Series 2cc
spriteset(ss_l0_series_cab02b_2cc_12,                       "src/trains/l0_series/12/l0950_2cc.png") {template_12_cab_rev_reversed(1,1)}
spriteset(ss_l0_series_cab02b_2cc_10,             	        "src/trains/l0_series/10/l0950_2cc.png") {template_10_cab_rev_reversed(1,1)}

switch (FEAT_TRAINS, SELF, sw_l0_series_cab02b_2cc, param_spritelength) {
	1: ss_l0_series_cab02b_2cc_10;					        // Length 10
	ss_l0_series_cab02b_2cc_12;						        // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_l0_series_cab02b, cargo_subtype) {
        1: sw_l0_series_cab02b_2cc;
        sw_l0_series_cab02b_irl;
    }
# 1 "src/trains/l0_series/l0_series.pnml" 2
# 1 "src/trains/l0_series/pnml/sprites/l0_series_coach.pnml" 1
/* coach */

// FORWARDS

// L0 Series
spriteset(ss_l0_series_coachf_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_l0_series_coachf_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_l0_series_coachf_12,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/l0_series/12/l0950.png") {template_12_standard(1,121)}
alternative_sprites(ss_l0_series_coachf_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/l0_series/10/l0950.png") {template_10_standard(1,121)}		

switch (FEAT_TRAINS, SELF, sw_l0_series_coachf_irl, param_spritelength) {
	1: ss_l0_series_coachf_10;				            // Length 10
	ss_l0_series_coachf_12;				                // Length 12
}

// L0 Series 2cc
spriteset(ss_l0_series_coachf_2cc_12,             	    "src/trains/l0_series/12/l0950_2cc.png") {template_12_standard(1,121)}
spriteset(ss_l0_series_coachf_2cc_10,             	    "src/trains/l0_series/10/l0950_2cc.png") {template_10_standard(1,121)}

switch (FEAT_TRAINS, SELF, sw_l0_series_coachf_2cc, param_spritelength) {
	1: ss_l0_series_coachf_2cc_10;				        // Length 10
	ss_l0_series_coachf_2cc_12;					        // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_l0_series_coachf, cargo_subtype) {
        1: sw_l0_series_coachf_2cc;
        sw_l0_series_coachf_irl;
    }

// BACKWARDS

// L0 Series
spriteset(ss_l0_series_coachb_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_l0_series_coachb_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_l0_series_coachb_12,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/l0_series/12/l0950.png") {template_12_reversed(1,121)}
alternative_sprites(ss_l0_series_coachb_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/l0_series/10/l0950.png") {template_10_reversed(1,121)}		

switch (FEAT_TRAINS, SELF, sw_l0_series_coachb_irl, param_spritelength) {
	1: ss_l0_series_coachb_10;				            // Length 10
	ss_l0_series_coachb_12;				                // Length 12
}

// L0 Series 2cc
spriteset(ss_l0_series_coachb_2cc_12,                   "src/trains/l0_series/12/l0950_2cc.png") {template_12_reversed(1,121)}
spriteset(ss_l0_series_coachb_2cc_10,             	    "src/trains/l0_series/10/l0950_2cc.png") {template_10_reversed(1,121)}

switch (FEAT_TRAINS, SELF, sw_l0_series_coachb_2cc, param_spritelength) {
	1: ss_l0_series_coachb_2cc_10;				 	    // Length 10
	ss_l0_series_coachb_2cc_12;					        // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_l0_series_coachb, cargo_subtype) {
        1: sw_l0_series_coachb_2cc;
        sw_l0_series_coachb_irl;
    }
# 1 "src/trains/l0_series/l0_series.pnml" 2
# 1 "src/trains/l0_series/pnml/l0_series_formations.pnml" 1

switch (FEAT_TRAINS, PARENT, sw_l0_series_midcars, vehicle_is_reversed) {				
		0:  sw_l0_series_coachf;
		sw_l0_series_coachb;				
	}

/* Cab selection */
    // Rear cab
    switch (FEAT_TRAINS, PARENT, sw_l0_series_rear, vehicle_is_reversed) {				
            1:  sw_l0_series_cab01b;                   // cab01	
            sw_l0_series_cab02f;                       // cab02
        }

    // Lead cab
    switch (FEAT_TRAINS, PARENT, sw_l0_series_lead, vehicle_is_reversed) {				
            1:  sw_l0_series_cab02b;                   // cab02
            sw_l0_series_cab01f;                       // cab01	
        }

/* Find the cabs */
    switch (FEAT_TRAINS, SELF, sw_l0_series_lead_or_rear, position_in_consist) {				
            1:  sw_l0_series_lead;
            sw_l0_series_rear;				
        }
    
    switch (FEAT_TRAINS, SELF, sw_l0_series_ends, position_in_consist == 1 || position_in_consist_from_end == 1) {				
            1:  sw_l0_series_lead_or_rear;
            sw_l0_series_midcars;				
        }
# 1 "src/trains/l0_series/l0_series.pnml" 2
# 1 "src/trains/l0_series/pnml/l0_series_item.pnml" 1
switch (FEAT_TRAINS, SELF, sw_l0_series_graphics, position_in_consist % 3) {				
		1:  sw_l0_series_ends; 				
		dummy_sprites;
	}

switch (FEAT_TRAINS, SELF, sw_l0_series_articulated_part, extra_callback_info1) {
		1 .. 2: return series_l0;									
		return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
	}

/*---Cargo Capacity---*/
switch (FEAT_TRAINS, SELF, sw_l0_series_cargo_capacity_levels, position_in_consist == 1 || position_in_consist_from_end == 1 ) {				
		1:  return 24 * CapacityFactor();		
		return 60 * CapacityFactor();
	}

switch (FEAT_TRAINS, SELF, sw_l0_series_cargo_capacity, position_in_consist % 3) {				
		1:  sw_l0_series_cargo_capacity_levels; 				
		return 0;
	}

/*---Coupling Switch---*/
switch(FEAT_TRAINS, SELF, sw_l0_series_attach_vehid, [vehicle_type_id == mu_car_maglev]) {
 0: return string(ONLY_ADD_MUCAR);
}

/*---Length Check---*/
switch (FEAT_TRAINS, SELF, sw_l0_series_stop_start, num_vehs_in_consist < 12) {				
		1:  return string(STR_LENGTH_ERROR); 				
		return CB_RESULT_NO_TEXT; 
	}

item(FEAT_TRAINS, series_l0) {
	property {
		/* Menu */
        name: 							string(STR_NAME_L0_SERIES);
		sprite_id:                      SPRITE_ID_NEW_TRAIN; 		// required to enable new graphics
        misc_flags:                     bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_TILT, TRAIN_FLAG_AUTOREFIT);
        running_cost_base:              RUNNING_COST_ELECTRIC;
		engine_class:                   ENGINE_CLASS_ELECTRIC;
        /* Availability */
        climates_available:             ALL_CLIMATES;
		introduction_date:              date(2027,01,01);
		model_life:                     VEHICLE_NEVER_EXPIRES;
		vehicle_life:                   30;							// 
		track_type:                     SC_MAGLEV;
        /* Cargo */
        reliability_decay:              5;
		refittable_cargo_classes:       bitmask(CC_PASSENGERS);
		refit_cost:                     0;
		default_cargo_type:             PASS;
        ai_special_flag:                AI_FLAG_PASSENGER;
		cargo_capacity:                 1;							// 
		loading_speed:                  50;							
		cargo_age_period:               278; 						// 1.5 times normal for this expensive long-distance train
		/* Stats */
        speed:                          505 km/h;									
		power:                          800*4*10 hp;            			
		weight:                         25 tons;	                			
		tractive_effort_coefficient:    0.3;
		air_drag_coefficient:			0;
	}
	graphics {
		/* Menu */
        additional_text:                string(STR_DESC_L0_SERIES);
        cargo_subtype_text:             sw_l0_series_subtype_text;
		can_attach_wagon:				sw_l0_series_attach_vehid;
		start_stop:						sw_l0_series_stop_start;
		purchase_weight:                25;
        purchase_power:                 800 * 4;
        /* Graphics */
        default:                        sw_l0_series_graphics;
		purchase:                       ss_l0_series_buy;
		articulated_part:               sw_l0_series_articulated_part;
		visual_effect_and_powered:      sw_visual_effect_and_powered;
        /* Stats */
        length:                         sw_param_length;
        power:                          (( NumberCarsInConsist() / 2 ) + 2 ) * 400 * 4;	
        weight:                         NumberCarsInConsist() * 25;									// https://linear-chuo-shinkansen.jr-central.co.jp/about/design/
		cargo_capacity:                 sw_l0_series_cargo_capacity();
		purchase_cargo_capacity:		60 / 3 * CapacityFactor() ;													
		loading_speed:					28 * CapacityFactor() / param_loading_2D;					// Capacity divided by door loading factor
		cargo_age_period:				param_decay_express;
		cost_factor:                    260;
		running_cost_factor:            (600 + 250 * NumberCarsInConsist() ) * RunningCostFactor();
		purchase_running_cost_factor:   600 + 250 * NumberCarsInConsist();	
	}
	/*Multiple Unit Car*/
	
      livery_override(mu_car_maglev){
        default:                        sw_l0_series_graphics;
        cargo_capacity:                 sw_l0_series_cargo_capacity;
        cargo_age_period:				param_decay_express;
        loading_speed:					28 * CapacityFactor() / param_loading_2D;
		articulated_part:				sw_mucar_maglev_articulated_part;
		length:							sw_param_length;
		//power:						// Apply power in graphics block to calculate power based on number of motorised cars correctly
		//weight:						// Apply weight to graphics block to calculate Max T.E. correctly
        //running_cost_factor:            sw_l0_series_running_costs;
      }
}
# 1 "src/trains/l0_series/l0_series.pnml" 2
# 1 "JPplusShinkansen.pnml" 4

/*---JR EAST TRAINS---*/
# 1 "src/trains/200_series/200_series.pnml" 1

# 1 "src/trains/200_series/pnml/200_series_original_menu.pnml" 1
/* SUBTYPES */

	// From 1982 to 1999
	switch(FEAT_TRAINS, SELF, sw_200_series_1982_subtype_text, cargo_subtype) {
		0: return string(LV_200_SERIES_ORIGINAL);           // Original
        1: return string(LV_200_SERIES_ORIGINAL_2CC);       // 2CC
		return CB_RESULT_NO_TEXT;
		}

	// From 1999 onwards - introduction of Refurbished Livery
	switch(FEAT_TRAINS, SELF, sw_200_series_1992_subtype_text, cargo_subtype) {
		0: return string(LV_200_SERIES_ORIGINAL);           // Original  
        1: return string(LV_200_SERIES_ORIGINAL_2CC);       // 2CC      
		2: return string(LV_200_SERIES_REFURB);             // Refurbished
		return CB_RESULT_NO_TEXT;
		}

	// Subtype Menu
	switch(FEAT_TRAINS, SELF, sw_200_series_original_year_dep_subtype_text, current_year) {
			0..1998: sw_200_series_1982_subtype_text;
			sw_200_series_1992_subtype_text;
		}

/* Purchase Menu */
	spriteset (ss_200_series_buy_original_jnr_12,	        	    "src/trains/dummy/purchase.png") {template_purchase(0, 0)}
	spriteset (ss_200_series_buy_original_jre_12,	        	    "src/trains/dummy/purchase.png") {template_purchase(0, 0)}
	spriteset (ss_200_series_buy_original_jnr_10,	        	    "src/trains/dummy/purchase.png") {template_purchase(0, 0)}
	spriteset (ss_200_series_buy_original_jre_10,	        	    "src/trains/dummy/purchase.png") {template_purchase(0, 0)}

	alternative_sprites(ss_200_series_buy_original_jnr_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/12/purchase_original_jnr.png") {template_purchase(0, 0)}
	alternative_sprites(ss_200_series_buy_original_jre_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/12/purchase_original_jre.png") {template_purchase(0, 0)}
	alternative_sprites(ss_200_series_buy_original_jnr_10,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/12/purchase_original_jnr.png") {template_purchase(0, 0)}
	alternative_sprites(ss_200_series_buy_original_jre_10,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/12/purchase_original_jre.png") {template_purchase(0, 0)}

		switch (FEAT_TRAINS, SELF, ss_200_series_buy_original_jnr, param_spritelength) {
			1: ss_200_series_buy_original_jnr_10;					// Length 10
			ss_200_series_buy_original_jnr_12;						// Length 12
		}

		switch (FEAT_TRAINS, SELF, ss_200_series_buy_original_jre, param_spritelength) {
			1: ss_200_series_buy_original_jre_10;					// Length 10
			ss_200_series_buy_original_jre_12;						// Length 12
		}

		switch(FEAT_TRAINS, SELF, sw_200_series_original_year_dep_purchase, current_year) {
			0..1986: ss_200_series_buy_original_jnr;        		// JNR
			ss_200_series_buy_original_jre;                 		// JR East
		}
# 1 "src/trains/200_series/200_series.pnml" 2
# 1 "src/trains/200_series/pnml/200_series_sharknose_menu.pnml" 1
/* Subtypes */

	switch(FEAT_TRAINS, SELF, sw_200_series_sharknose_subtype_text, cargo_subtype) {
		0: return string(LV_200_SERIES_ORIGINAL);                   // Sharknose
		1: return string(LV_200_SERIES_ORIGINAL_2CC);               // Sharknose 2cc
		return CB_RESULT_NO_TEXT;
		}

/* Purchase Menu */
	spriteset (ss_200_series_buy_sharknose_livery_12,	        	"src/trains/dummy/purchase.png") {template_purchase(0, 0)}
	spriteset (ss_200_series_buy_sharknose_livery_10,	        	"src/trains/dummy/purchase.png") {template_purchase(0, 0)}

	alternative_sprites(ss_200_series_buy_sharknose_livery_12,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/12/purchase_sharknose.png") {template_purchase(0, 0)}
	alternative_sprites(ss_200_series_buy_sharknose_livery_10,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/12/purchase_sharknose.png") {template_purchase(0, 0)}

		switch (FEAT_TRAINS, SELF, ss_200_series_buy_sharknose_livery, param_spritelength) {
			1: ss_200_series_buy_sharknose_livery_10;				// Length 10
			ss_200_series_buy_sharknose_livery_12;					// Length 12
		}
# 1 "src/trains/200_series/200_series.pnml" 2
# 1 "src/trains/200_series/pnml/sprites/200_series_original_cab01.pnml" 1
/* cab01 */

// FORWARDS

// 200 Series Original
spriteset(ss_200_series_original_cab01f_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_200_series_original_cab01f_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_200_series_original_cab01f_12,           ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/12/original.png") {template_12_standard(1,1)}
alternative_sprites(ss_200_series_original_cab01f_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/10/original.png") {template_10_standard(1,1)}		

switch (FEAT_TRAINS, SELF, sw_200_series_original_cab01f_irl, param_spritelength) {
	1: ss_200_series_original_cab01f_10;				        // Length 10
	ss_200_series_original_cab01f_12;				            // Length 12
}

// 200 Series Original 2cc
spriteset(ss_200_series_original_cab01f_2cc_12,             	"src/trains/200_series/12/original_2cc.png") {template_12_standard(1,1)}
spriteset(ss_200_series_original_cab01f_2cc_10,             	"src/trains/200_series/10/original_2cc.png") {template_10_standard(1,1)}

switch (FEAT_TRAINS, SELF, sw_200_series_original_cab01f_2cc, param_spritelength) {
	1: ss_200_series_original_cab01f_2cc_10;			    	// Length 10
	ss_200_series_original_cab01f_2cc_12;						// Length 12
}

// 200 Series Refurb
spriteset(ss_200_series_original_cab01f_refurb_12,          	"src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_200_series_original_cab01f_refurb_10,          	"src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_200_series_original_cab01f_refurb_12, 	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/12/refurb.png") {template_12_standard(1,1)}
alternative_sprites(ss_200_series_original_cab01f_refurb_10,	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/10/refurb.png") {template_10_standard(1,1)}		

switch (FEAT_TRAINS, SELF, sw_200_series_original_cab01f_refurb, param_spritelength) {
	1: ss_200_series_original_cab01f_refurb_10;				    // Length 10
	ss_200_series_original_cab01f_refurb_12;				    // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_200_series_original_cab01f, cargo_subtype) {
        1: sw_200_series_original_cab01f_2cc;
		2: sw_200_series_original_cab01f_refurb;
        sw_200_series_original_cab01f_irl;
    }

// BACKWARDS

// 200 Series Original
spriteset(ss_200_series_original_cab01b_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_200_series_original_cab01b_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_200_series_original_cab01b_12,           ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/12/original.png") {template_12_reversed(1,41)}
alternative_sprites(ss_200_series_original_cab01b_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/10/original.png") {template_10_reversed(1,41)}		

switch (FEAT_TRAINS, SELF, sw_200_series_original_cab01b_irl, param_spritelength) {
	1: ss_200_series_original_cab01b_10;				        // Length 10
	ss_200_series_original_cab01b_12;				            // Length 12
}

// 200 Series Original 2cc
spriteset(ss_200_series_original_cab01b_2cc_12,             	"src/trains/200_series/12/original_2cc.png") {template_12_reversed(1,41)}
spriteset(ss_200_series_original_cab01b_2cc_10,             	"src/trains/200_series/10/original_2cc.png") {template_10_reversed(1,41)}

switch (FEAT_TRAINS, SELF, sw_200_series_original_cab01b_2cc, param_spritelength) {
	1: ss_200_series_original_cab01b_2cc_10;			    	// Length 10
	ss_200_series_original_cab01b_2cc_12;						// Length 12
}

// 200 Series Refurb
spriteset(ss_200_series_original_cab01b_refurb_12,          	"src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_200_series_original_cab01b_refurb_10,          	"src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_200_series_original_cab01b_refurb_12,    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/12/refurb.png") {template_12_reversed(1,41)}
alternative_sprites(ss_200_series_original_cab01b_refurb_10,	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/10/refurb.png") {template_10_reversed(1,41)}		

switch (FEAT_TRAINS, SELF, sw_200_series_original_cab01b_refurb, param_spritelength) {
	1: ss_200_series_original_cab01b_refurb_10;				    // Length 10
	ss_200_series_original_cab01b_refurb_12;				    // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_200_series_original_cab01b, cargo_subtype) {
        1: sw_200_series_original_cab01b_2cc;
		2: sw_200_series_original_cab01b_refurb;
        sw_200_series_original_cab01b_irl;
    }
# 1 "src/trains/200_series/200_series.pnml" 2
# 1 "src/trains/200_series/pnml/sprites/200_series_original_cab02.pnml" 1
/* cab02 */

// FORWARDS

// 200 Series Original
spriteset(ss_200_series_original_cab02f_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_200_series_original_cab02f_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_200_series_original_cab02f_12,           ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/12/original.png") {template_12_cab_rev_standard(1,121)}
alternative_sprites(ss_200_series_original_cab02f_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/10/original.png") {template_10_cab_rev_standard(1,121)}		

switch (FEAT_TRAINS, SELF, sw_200_series_original_cab02f_irl, param_spritelength) {
	1: ss_200_series_original_cab02f_10;				        // Length 10
	ss_200_series_original_cab02f_12;				            // Length 12
}

// 200 Series Original 2cc
spriteset(ss_200_series_original_cab02f_2cc_12,             	"src/trains/200_series/12/original_2cc.png") {template_12_cab_rev_standard(1,121)}
spriteset(ss_200_series_original_cab02f_2cc_10,             	"src/trains/200_series/10/original_2cc.png") {template_10_cab_rev_standard(1,121)}

switch (FEAT_TRAINS, SELF, sw_200_series_original_cab02f_2cc, param_spritelength) {
	1: ss_200_series_original_cab02f_2cc_10;			    	// Length 10
	ss_200_series_original_cab02f_2cc_12;						// Length 12
}

// 200 Series Refurb
spriteset(ss_200_series_original_cab02f_refurb_12,         		"src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_200_series_original_cab02f_refurb_10,          	"src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_200_series_original_cab02f_refurb_12,    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/12/refurb.png") {template_12_cab_rev_standard(1,121)}
alternative_sprites(ss_200_series_original_cab02f_refurb_10,	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/10/refurb.png") {template_10_cab_rev_standard(1,121)}		

switch (FEAT_TRAINS, SELF, sw_200_series_original_cab02f_refurb, param_spritelength) {
	1: ss_200_series_original_cab02f_refurb_10;				   	// Length 10
	ss_200_series_original_cab02f_refurb_12;				    // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_200_series_original_cab02f, cargo_subtype) {
        1: sw_200_series_original_cab02f_2cc;
		2: sw_200_series_original_cab02f_refurb;
        sw_200_series_original_cab02f_irl;
    }

// BACKWARDS

// 200 Series Original
spriteset(ss_200_series_original_cab02b_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_200_series_original_cab02b_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_200_series_original_cab02b_12,           ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/12/original.png") {template_12_cab_rev_reversed(1,81)}
alternative_sprites(ss_200_series_original_cab02b_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/10/original.png") {template_10_cab_rev_reversed(1,81)}		

switch (FEAT_TRAINS, SELF, sw_200_series_original_cab02b_irl, param_spritelength) {
	1: ss_200_series_original_cab02b_10;				        // Length 10
	ss_200_series_original_cab02b_12;				            // Length 12
}

// 200 Series Original 2cc
spriteset(ss_200_series_original_cab02b_2cc_12,                 "src/trains/200_series/12/original_2cc.png") {template_12_cab_rev_reversed(1,81)}
spriteset(ss_200_series_original_cab02b_2cc_10,             	"src/trains/200_series/10/original_2cc.png") {template_10_cab_rev_reversed(1,81)}

switch (FEAT_TRAINS, SELF, sw_200_series_original_cab02b_2cc, param_spritelength) {
	1: ss_200_series_original_cab02b_2cc_10;			    	// Length 10
	ss_200_series_original_cab02b_2cc_12;						// Length 12
}

// 200 Series Refurb
spriteset(ss_200_series_original_cab02b_refurb_12,          	"src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_200_series_original_cab02b_refurb_10,          	"src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_200_series_original_cab02b_refurb_12,    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/12/refurb.png") {template_12_cab_rev_reversed(1,81)}
alternative_sprites(ss_200_series_original_cab02b_refurb_10,	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/10/refurb.png") {template_10_cab_rev_reversed(1,81)}		

switch (FEAT_TRAINS, SELF, sw_200_series_original_cab02b_refurb, param_spritelength) {
	1: ss_200_series_original_cab02b_refurb_10;				    // Length 10
	ss_200_series_original_cab02b_refurb_12;				    // Length 12
}


// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_200_series_original_cab02b, cargo_subtype) {
        1: sw_200_series_original_cab02b_2cc;
		2: sw_200_series_original_cab02b_refurb;
        sw_200_series_original_cab02b_irl;
    }
# 1 "src/trains/200_series/200_series.pnml" 2
# 1 "src/trains/200_series/pnml/sprites/200_series_original_cab03.pnml" 1
/* cab03 */

// FORWARDS

// 200 Series Original
spriteset(ss_200_series_original_cab03f_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_200_series_original_cab03f_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_200_series_original_cab03f_12,           ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/12/original.png") {template_12_cab_rev_standard(1,1)}
alternative_sprites(ss_200_series_original_cab03f_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/10/original.png") {template_10_cab_rev_standard(1,1)}		

switch (FEAT_TRAINS, SELF, sw_200_series_original_cab03f_irl, param_spritelength) {
	1: ss_200_series_original_cab03f_10;				        // Length 10
	ss_200_series_original_cab03f_12;				            // Length 12
}

// 200 Series Original 2cc
spriteset(ss_200_series_original_cab03f_2cc_12,             	"src/trains/200_series/12/original_2cc.png") {template_12_cab_rev_standard(1,1)}
spriteset(ss_200_series_original_cab03f_2cc_10,             	"src/trains/200_series/10/original_2cc.png") {template_10_cab_rev_standard(1,1)}

switch (FEAT_TRAINS, SELF, sw_200_series_original_cab03f_2cc, param_spritelength) {
	1: ss_200_series_original_cab03f_2cc_10;			    	// Length 10
	ss_200_series_original_cab03f_2cc_12;						// Length 12
}

// 200 Series Refurb
spriteset(ss_200_series_original_cab03f_refurb_12,          	"src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_200_series_original_cab03f_refurb_10,          	"src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_200_series_original_cab03f_refurb_12,    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/12/refurb.png") {template_12_cab_rev_standard(1,1)}
alternative_sprites(ss_200_series_original_cab03f_refurb_10,	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/10/refurb.png") {template_10_cab_rev_standard(1,1)}		

switch (FEAT_TRAINS, SELF, sw_200_series_original_cab03f_refurb, param_spritelength) {
	1: ss_200_series_original_cab03f_refurb_10;				   	// Length 10
	ss_200_series_original_cab03f_refurb_12;				    // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_200_series_original_cab03f, cargo_subtype) {
        1: sw_200_series_original_cab03f_2cc;
		2: sw_200_series_original_cab03f_refurb;
        sw_200_series_original_cab03f_irl;
    }

// BACKWARDS

// 200 Series Original
spriteset(ss_200_series_original_cab03b_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_200_series_original_cab03b_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_200_series_original_cab03b_12,           ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/12/original.png") {template_12_cab_rev_reversed(1,41)}
alternative_sprites(ss_200_series_original_cab03b_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/10/original.png") {template_10_cab_rev_reversed(1,41)}		

switch (FEAT_TRAINS, SELF, sw_200_series_original_cab03b_irl, param_spritelength) {
	1: ss_200_series_original_cab03b_10;				        // Length 10
	ss_200_series_original_cab03b_12;				            // Length 12
}

// 200 Series Original 2cc
spriteset(ss_200_series_original_cab03b_2cc_12,                 "src/trains/200_series/12/original_2cc.png") {template_12_cab_rev_reversed(1,41)}
spriteset(ss_200_series_original_cab03b_2cc_10,                 "src/trains/200_series/10/original_2cc.png") {template_10_cab_rev_reversed(1,41)}

switch (FEAT_TRAINS, SELF, sw_200_series_original_cab03b_2cc, param_spritelength) {
	1: ss_200_series_original_cab03b_2cc_10;			    	// Length 10
	ss_200_series_original_cab03b_2cc_12;						// Length 12
}

// 200 Series Refurb
spriteset(ss_200_series_original_cab03b_refurb_12,         		"src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_200_series_original_cab03b_refurb_10,          	"src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_200_series_original_cab03b_refurb_12,    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/12/original.png") {template_12_cab_rev_reversed(1,41)}
alternative_sprites(ss_200_series_original_cab03b_refurb_10,	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/10/original.png") {template_10_cab_rev_reversed(1,41)}		

switch (FEAT_TRAINS, SELF, sw_200_series_original_cab03b_refurb, param_spritelength) {
	1: ss_200_series_original_cab03b_refurb_10;				    // Length 10
	ss_200_series_original_cab03b_refurb_12;				    // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_200_series_original_cab03b, cargo_subtype) {
        1: sw_200_series_original_cab03b_2cc;
		2: sw_200_series_original_cab03b_refurb;
        sw_200_series_original_cab03b_irl;
    }
# 1 "src/trains/200_series/200_series.pnml" 2
# 1 "src/trains/200_series/pnml/sprites/200_series_sharknose_cab01.pnml" 1
/* cab01 */

// FORWARDS

// 200 Series Sharknose
spriteset(ss_200_series_sharknose_cab01f_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_200_series_sharknose_cab01f_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_200_series_sharknose_cab01f_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/12/sharknose.png") {template_12_standard(1,1)}
alternative_sprites(ss_200_series_sharknose_cab01f_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/10/sharknose.png") {template_10_standard(1,1)}		

switch (FEAT_TRAINS, SELF, sw_200_series_sharknose_cab01f_irl, param_spritelength) {
	1: ss_200_series_sharknose_cab01f_10;				        // Length 10
	ss_200_series_sharknose_cab01f_12;				            // Length 12
}

// 200 Series Sharknose 2cc
spriteset(ss_200_series_sharknose_cab01f_2cc_12,             	"src/trains/200_series/12/sharknose_2cc.png") {template_12_standard(1,1)}
spriteset(ss_200_series_sharknose_cab01f_2cc_10,             	"src/trains/200_series/10/sharknose_2cc.png") {template_10_standard(1,1)}

switch (FEAT_TRAINS, SELF, sw_200_series_sharknose_cab01f_2cc, param_spritelength) {
	1: ss_200_series_sharknose_cab01f_2cc_10;				    // Length 10
	ss_200_series_sharknose_cab01f_2cc_12;					    // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_200_series_sharknose_cab01f, cargo_subtype) {
        1: sw_200_series_sharknose_cab01f_2cc;
        sw_200_series_sharknose_cab01f_irl;
    }

// BACKWARDS

// 200 Series Sharknose
spriteset(ss_200_series_sharknose_cab01b_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_200_series_sharknose_cab01b_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_200_series_sharknose_cab01b_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/12/sharknose.png") {template_12_reversed(1,41)}
alternative_sprites(ss_200_series_sharknose_cab01b_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/10/sharknose.png") {template_10_reversed(1,41)}		

switch (FEAT_TRAINS, SELF, sw_200_series_sharknose_cab01b_irl, param_spritelength) {
	1: ss_200_series_sharknose_cab01b_10;				        // Length 10
	ss_200_series_sharknose_cab01b_12;				            // Length 12
}

// 200 Series Sharknose 2cc
spriteset(ss_200_series_sharknose_cab01b_2cc_12,             	"src/trains/200_series/12/sharknose_2cc.png") {template_12_reversed(1,41)}
spriteset(ss_200_series_sharknose_cab01b_2cc_10,             	"src/trains/200_series/10/sharknose_2cc.png") {template_10_reversed(1,41)}

switch (FEAT_TRAINS, SELF, sw_200_series_sharknose_cab01b_2cc, param_spritelength) {
	1: ss_200_series_sharknose_cab01b_2cc_10;				 	// Length 10
	ss_200_series_sharknose_cab01b_2cc_12;					    // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_200_series_sharknose_cab01b, cargo_subtype) {
        1: sw_200_series_sharknose_cab01b_2cc;
        sw_200_series_sharknose_cab01b_irl;
    }
# 1 "src/trains/200_series/200_series.pnml" 2
# 1 "src/trains/200_series/pnml/sprites/200_series_sharknose_cab02.pnml" 1
/* cab02 */

// FORWARDS

// 200 Series Sharknose
spriteset(ss_200_series_sharknose_cab02f_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_200_series_sharknose_cab02f_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_200_series_sharknose_cab02f_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/12/sharknose.png") {template_12_cab_rev_standard(1,81)}
alternative_sprites(ss_200_series_sharknose_cab02f_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/10/sharknose.png") {template_10_cab_rev_standard(1,81)}		

switch (FEAT_TRAINS, SELF, sw_200_series_sharknose_cab02f_irl, param_spritelength) {
	1: ss_200_series_sharknose_cab02f_10;				        // Length 10
	ss_200_series_sharknose_cab02f_12;				            // Length 12
}

// 200 Series Sharknose 2cc
spriteset(ss_200_series_sharknose_cab02f_2cc_12,             	"src/trains/200_series/12/sharknose_2cc.png") {template_12_cab_rev_standard(1,81)}
spriteset(ss_200_series_sharknose_cab02f_2cc_10,             	"src/trains/200_series/10/sharknose_2cc.png") {template_10_cab_rev_standard(1,81)}

switch (FEAT_TRAINS, SELF, sw_200_series_sharknose_cab02f_2cc, param_spritelength) {
	1: ss_200_series_sharknose_cab02f_2cc_10;					// Length 10
	ss_200_series_sharknose_cab02f_2cc_12;						// Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_200_series_sharknose_cab02f, cargo_subtype) {
        1: sw_200_series_sharknose_cab02f_2cc;
        sw_200_series_sharknose_cab02f_irl;
    }

// BACKWARDS

// 200 Series Sharknose
spriteset(ss_200_series_sharknose_cab02b_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_200_series_sharknose_cab02b_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_200_series_sharknose_cab02b_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/12/sharknose.png") {template_12_cab_rev_reversed(1,121)}
alternative_sprites(ss_200_series_sharknose_cab02b_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/10/sharknose.png") {template_10_cab_rev_reversed(1,121)}		

switch (FEAT_TRAINS, SELF, sw_200_series_sharknose_cab02b_irl, param_spritelength) {
	1: ss_200_series_sharknose_cab02b_10;				        // Length 10
	ss_200_series_sharknose_cab02b_12;				            // Length 12
}

// 200 Series Sharknose 2cc
spriteset(ss_200_series_sharknose_cab02b_2cc_12,                "src/trains/200_series/12/sharknose_2cc.png") {template_12_cab_rev_reversed(1,121)}
spriteset(ss_200_series_sharknose_cab02b_2cc_10,             	"src/trains/200_series/10/sharknose_2cc.png") {template_10_cab_rev_reversed(1,121)}

switch (FEAT_TRAINS, SELF, sw_200_series_sharknose_cab02b_2cc, param_spritelength) {
	1: ss_200_series_sharknose_cab02b_2cc_10;					// Length 10
	ss_200_series_sharknose_cab02b_2cc_12;						// Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_200_series_sharknose_cab02b, cargo_subtype) {
        1: sw_200_series_sharknose_cab02b_2cc;
        sw_200_series_sharknose_cab02b_irl;
    }
# 1 "src/trains/200_series/200_series.pnml" 2
# 1 "src/trains/200_series/pnml/sprites/200_series_sharknose_cab03.pnml" 1
/* cab03 */

// FORWARDS

// 200 Series Sharknose
spriteset(ss_200_series_sharknose_cab03f_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_200_series_sharknose_cab03f_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_200_series_sharknose_cab03f_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/12/sharknose.png") {template_12_cab_rev_standard(1,1)}
alternative_sprites(ss_200_series_sharknose_cab03f_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/10/sharknose.png") {template_10_cab_rev_standard(1,1)}		

switch (FEAT_TRAINS, SELF, sw_200_series_sharknose_cab03f_irl, param_spritelength) {
	1: ss_200_series_sharknose_cab03f_10;				        // Length 10
	ss_200_series_sharknose_cab03f_12;				            // Length 12
}

// 200 Series Sharknose 2cc
spriteset(ss_200_series_sharknose_cab03f_2cc_12,             	"src/trains/200_series/12/sharknose_2cc.png") {template_12_cab_rev_standard(1,1)}
spriteset(ss_200_series_sharknose_cab03f_2cc_10,             	"src/trains/200_series/10/sharknose_2cc.png") {template_10_cab_rev_standard(1,1)}

switch (FEAT_TRAINS, SELF, sw_200_series_sharknose_cab03f_2cc, param_spritelength) {
	1: ss_200_series_sharknose_cab03f_2cc_10;					// Length 10
	ss_200_series_sharknose_cab03f_2cc_12;						// Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_200_series_sharknose_cab03f, cargo_subtype) {
        1: sw_200_series_sharknose_cab03f_2cc;
        sw_200_series_sharknose_cab03f_irl;
    }

// BACKWARDS

// 200 Series Sharknose
spriteset(ss_200_series_sharknose_cab03b_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_200_series_sharknose_cab03b_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_200_series_sharknose_cab03b_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/12/sharknose.png") {template_12_cab_rev_reversed(1,41)}
alternative_sprites(ss_200_series_sharknose_cab03b_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/10/sharknose.png") {template_10_cab_rev_reversed(1,41)}		

switch (FEAT_TRAINS, SELF, sw_200_series_sharknose_cab03b_irl, param_spritelength) {
	1: ss_200_series_sharknose_cab03b_10;				        // Length 10
	ss_200_series_sharknose_cab03b_12;				            // Length 12
}

// 200 Series Sharknose 2cc
spriteset(ss_200_series_sharknose_cab03b_2cc_12,                "src/trains/200_series/12/sharknose_2cc.png") {template_12_cab_rev_reversed(1,41)}
spriteset(ss_200_series_sharknose_cab03b_2cc_10,             	"src/trains/200_series/10/sharknose_2cc.png") {template_10_cab_rev_reversed(1,41)}

switch (FEAT_TRAINS, SELF, sw_200_series_sharknose_cab03b_2cc, param_spritelength) {
	1: ss_200_series_sharknose_cab03b_2cc_10;					// Length 10
	ss_200_series_sharknose_cab03b_2cc_12;						// Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_200_series_sharknose_cab03b, cargo_subtype) {
        1: sw_200_series_sharknose_cab03b_2cc;
        sw_200_series_sharknose_cab03b_irl;
    }
# 1 "src/trains/200_series/200_series.pnml" 2
# 1 "src/trains/200_series/pnml/sprites/200_series_coach.pnml" 1
/* coach */

// FORWARDS

// 200 Series Original
spriteset(ss_200_series_coachf_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_200_series_coachf_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_200_series_coachf_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/12/original.png") {template_12_standard(1,201)}
alternative_sprites(ss_200_series_coachf_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/10/original.png") {template_10_standard(1,201)}		

switch (FEAT_TRAINS, SELF, sw_200_series_coachf_irl, param_spritelength) {
	1: ss_200_series_coachf_10;				            // Length 10
	ss_200_series_coachf_12;				            // Length 12
}

// 200 Series Original 2cc
spriteset(ss_200_series_coachf_2cc_12,             	    "src/trains/200_series/12/original_2cc.png") {template_12_standard(1,201)}
spriteset(ss_200_series_coachf_2cc_10,             	    "src/trains/200_series/10/original_2cc.png") {template_10_standard(1,201)}

switch (FEAT_TRAINS, SELF, sw_200_series_coachf_2cc, param_spritelength) {
	1: ss_200_series_coachf_2cc_10;			    		// Length 10
	ss_200_series_coachf_2cc_12;				    	// Length 12
}

// 200 Series Refurb
spriteset(ss_200_series_coachf_refurb_12,          	   	"src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_200_series_coachf_refurb_10,        		"src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_200_series_coachf_refurb_12,     ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/12/refurb.png") {template_12_standard(1,201)}
alternative_sprites(ss_200_series_coachf_refurb_10,	   	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/10/refurb.png") {template_10_standard(1,201)}		

switch (FEAT_TRAINS, SELF, sw_200_series_coachf_refurb, param_spritelength) {
	1: ss_200_series_coachf_refurb_10;				    // Length 10
	ss_200_series_coachf_refurb_12;				        // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_200_series_coachf, cargo_subtype) {
        1: sw_200_series_coachf_2cc;
		2: sw_200_series_coachf_refurb;
        sw_200_series_coachf_irl;
    }

// BACKWARDS

// 200 Series Original
spriteset(ss_200_series_coachb_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_200_series_coachb_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_200_series_coachb_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/12/original.png") {template_12_reversed(1,201)}
alternative_sprites(ss_200_series_coachb_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/10/original.png") {template_10_reversed(1,201)}		

switch (FEAT_TRAINS, SELF, sw_200_series_coachb_irl, param_spritelength) {
	1: ss_200_series_coachb_10;				            // Length 10
	ss_200_series_coachb_12;				            // Length 12
}

// 200 Series Original 2cc
spriteset(ss_200_series_coachb_2cc_12,             	    "src/trains/200_series/12/original_2cc.png") {template_12_reversed(1,201)}
spriteset(ss_200_series_coachb_2cc_10,             	    "src/trains/200_series/10/original_2cc.png") {template_10_reversed(1,201)}

switch (FEAT_TRAINS, SELF, sw_200_series_coachb_2cc, param_spritelength) {
	1: ss_200_series_coachb_2cc_10;			    		// Length 10
	ss_200_series_coachb_2cc_12;				    	// Length 12
}

// 200 Series Refurb
spriteset(ss_200_series_coachb_refurb_12,          	   	"src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_200_series_coachb_refurb_10,          	   	"src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_200_series_coachb_refurb_12,  	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/12/refurb.png") {template_12_reversed(1,201)}
alternative_sprites(ss_200_series_coachb_refurb_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/10/refurb.png") {template_10_reversed(1,201)}		

switch (FEAT_TRAINS, SELF, sw_200_series_coachb_refurb, param_spritelength) {
	1: ss_200_series_coachb_10;				            // Length 10
	ss_200_series_coachb_12;				            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_200_series_coachb, cargo_subtype) {
        1: sw_200_series_coachb_2cc;
		2: sw_200_series_coachb_refurb;
        sw_200_series_coachb_irl;
    }
# 1 "src/trains/200_series/200_series.pnml" 2
# 1 "src/trains/200_series/pnml/sprites/200_series_panto.pnml" 1
/* panto */

// FORWARDS

// 200 Series Original
spriteset(ss_200_series_pantof_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_200_series_pantof_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_200_series_pantof_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/12/original.png") {template_12_standard(1,161)}
alternative_sprites(ss_200_series_pantof_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/10/original.png") {template_10_standard(1,161)}		

switch (FEAT_TRAINS, SELF, sw_200_series_pantof_irl, param_spritelength) {
	1: ss_200_series_pantof_10;				            // Length 10
	ss_200_series_pantof_12;				            // Length 12
}

// 200 Series Original 2cc
spriteset(ss_200_series_pantof_2cc_12,             	    "src/trains/200_series/12/original_2cc.png") {template_12_standard(1,161)}
spriteset(ss_200_series_pantof_2cc_10,             	    "src/trains/200_series/10/original_2cc.png") {template_10_standard(1,161)}

switch (FEAT_TRAINS, SELF, sw_200_series_pantof_2cc, param_spritelength) {
	1: ss_200_series_pantof_2cc_10;			    		// Length 10
	ss_200_series_pantof_2cc_12;				    	// Length 12
}

// 200 Series Refurb
spriteset(ss_200_series_pantof_refurb_12,          		"src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_200_series_pantof_refurb_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_200_series_pantof_refurb_12,     ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/12/refurb.png") {template_12_standard(1,161)}
alternative_sprites(ss_200_series_pantof_refurb_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/10/refurb.png") {template_10_standard(1,161)}		

switch (FEAT_TRAINS, SELF, sw_200_series_pantof_refurb, param_spritelength) {
	1: ss_200_series_pantof_10;				            // Length 10
	ss_200_series_pantof_12;				            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_200_series_pantof, cargo_subtype) {
        1: sw_200_series_pantof_2cc;
		2: sw_200_series_pantof_refurb;
        sw_200_series_pantof_irl;
    }

// BACKWARDS

// 200 Series Original
spriteset(ss_200_series_pantob_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_200_series_pantob_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_200_series_pantob_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/12/original.png") {template_12_reversed(1,161)}
alternative_sprites(ss_200_series_pantob_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/10/original.png") {template_10_reversed(1,161)}		

switch (FEAT_TRAINS, SELF, sw_200_series_pantob_irl, param_spritelength) {
	1: ss_200_series_pantob_10;				            // Length 10
	ss_200_series_pantob_12;				            // Length 12
}

// 200 Series Original 2cc
spriteset(ss_200_series_pantob_2cc_12,             	    "src/trains/200_series/12/original_2cc.png") {template_12_reversed(1,161)}
spriteset(ss_200_series_pantob_2cc_10,             	    "src/trains/200_series/10/original_2cc.png") {template_10_reversed(1,161)}

switch (FEAT_TRAINS, SELF, sw_200_series_pantob_2cc, param_spritelength) {
	1: ss_200_series_pantob_2cc_10;			    		// Length 10
	ss_200_series_pantob_2cc_12;				    	// Length 12
}

// 200 Series Refurb
spriteset(ss_200_series_pantob_refurb_12,          	   	"src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_200_series_pantob_refurb_10,          	   	"src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_200_series_pantob_refurb_12,     ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/12/refurb.png") {template_12_reversed(1,161)}
alternative_sprites(ss_200_series_pantob_refurb_10,	   	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/10/refurb.png") {template_10_reversed(1,161)}		

switch (FEAT_TRAINS, SELF, sw_200_series_pantob_refurb, param_spritelength) {
	1: ss_200_series_pantob_refurb_10;				    // Length 10
	ss_200_series_pantob_refurb_12;				        // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_200_series_pantob, cargo_subtype) {
        1: sw_200_series_pantob_2cc;
		2: sw_200_series_pantob_refurb;
        sw_200_series_pantob_irl;
    }
# 1 "src/trains/200_series/200_series.pnml" 2
# 1 "src/trains/200_series/pnml/sprites/200_series_2dec1.pnml" 1
/* 2dec1 */

// FORWARDS

// 200 Series Sharknose
spriteset(ss_200_series_sharknose_2dec1f_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_200_series_sharknose_2dec1f_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_200_series_sharknose_2dec1f_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/12/sharknose.png") {template_12_standard(1,161)}
alternative_sprites(ss_200_series_sharknose_2dec1f_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/10/sharknose.png") {template_10_standard(1,161)}		

switch (FEAT_TRAINS, SELF, sw_200_series_sharknose_2dec1f, param_spritelength) {
	1: ss_200_series_sharknose_2dec1f_10;				        // Length 10
	ss_200_series_sharknose_2dec1f_12;				            // Length 12
}

// 200 Series Sharknose 2cc
spriteset(ss_200_series_sharknose_2dec1f_2cc_12,             	"src/trains/200_series/12/sharknose_2cc.png") {template_12_standard(1,161)}
spriteset(ss_200_series_sharknose_2dec1f_2cc_10,             	"src/trains/200_series/10/sharknose_2cc.png") {template_10_standard(1,161)}

switch (FEAT_TRAINS, SELF, sw_200_series_sharknose_2dec1f_2cc, param_spritelength) {
	1: ss_200_series_sharknose_2dec1f_2cc_10;					// Length 10
	ss_200_series_sharknose_2dec1f_2cc_12;						// Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_200_series_2dec1f, cargo_subtype) {
        1: sw_200_series_sharknose_2dec1f_2cc;
        sw_200_series_sharknose_2dec1f;
    }

// BACKWARDS

// 200 Series Sharknose
spriteset(ss_200_series_sharknose_2dec1b_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_200_series_sharknose_2dec1b_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_200_series_sharknose_2dec1b_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/12/sharknose.png") {template_12_reversed(1,161)}
alternative_sprites(ss_200_series_sharknose_2dec1b_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/200_series/10/sharknose.png") {template_10_reversed(1,161)}		

switch (FEAT_TRAINS, SELF, sw_200_series_sharknose_2dec1b, param_spritelength) {
	1: ss_200_series_sharknose_2dec1b_10;				        // Length 10
	ss_200_series_sharknose_2dec1b_12;				            // Length 12
}

// 200 Series Sharknose 2cc
spriteset(ss_200_series_sharknose_2dec1b_2cc_12,             	"src/trains/200_series/12/sharknose_2cc.png") {template_12_reversed(1,161)}
spriteset(ss_200_series_sharknose_2dec1b_2cc_10,             	"src/trains/200_series/10/sharknose_2cc.png") {template_10_reversed(1,161)}

switch (FEAT_TRAINS, SELF, sw_200_series_sharknose_2dec1b_2cc, param_spritelength) {
	1: ss_200_series_sharknose_2dec1b_2cc_10;					// Length 10
	ss_200_series_sharknose_2dec1b_2cc_12;						// Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_200_series_2dec1b, cargo_subtype) {
        1: sw_200_series_sharknose_2dec1b_2cc;
        sw_200_series_sharknose_2dec1b;
    }
# 1 "src/trains/200_series/200_series.pnml" 2
# 1 "src/trains/200_series/pnml/200_series_original_formations.pnml" 1
/* Midcars */

    // Midcars going backwards
    switch (FEAT_TRAINS, SELF, sw_200_series_original_backwards, position_in_consist_from_end % 36) {				
            4:  sw_200_series_pantob;
            10: sw_200_series_pantob;
            16: sw_200_series_pantob;
            22: sw_200_series_pantob;
            28: sw_200_series_pantob;
            34: sw_200_series_pantob;
            sw_200_series_coachb;				
        }

    // Midcars going forwards
    switch (FEAT_TRAINS, SELF, sw_200_series_original_forwards, position_in_consist % 36) {				
            4:  sw_200_series_pantof;
            10: sw_200_series_pantof;
            16: sw_200_series_pantof;
            22: sw_200_series_pantof;
            28: sw_200_series_pantof;
            34: sw_200_series_pantof;
            sw_200_series_coachf;				
        }

    // Is vehicle reversed?
    switch (FEAT_TRAINS, PARENT, sw_200_series_original_midcars, vehicle_is_reversed) {				
            0:  sw_200_series_original_forwards;
            sw_200_series_original_backwards;				
        }

/* Cab selection */

    // Rear cab
    switch (FEAT_TRAINS, PARENT, sw_200_series_original_rear_not_reversed, num_vehs_in_consist % 2) {				
            1:  sw_200_series_original_cab03f;                  // Odd
            sw_200_series_original_cab02f;		                // Even		
        }

    switch (FEAT_TRAINS, PARENT, sw_200_series_original_rear, vehicle_is_reversed) {				
            1:  sw_200_series_original_cab01b;                  // Must be cab01	
            sw_200_series_original_rear_not_reversed;           // Not reversed - so choose odd or even	
        }

    // Lead cab
    switch (FEAT_TRAINS, PARENT, sw_200_series_original_lead_reversed, num_vehs_in_consist % 2) {				
            1:  sw_200_series_original_cab03b;                  // Odd
            sw_200_series_original_cab02b;		                // Even		
        }
    
    switch (FEAT_TRAINS, PARENT, sw_200_series_original_lead, vehicle_is_reversed) {				
            1:  sw_200_series_original_lead_reversed;           // Reversed - so choose odd or even lead
            sw_200_series_original_cab01f;                      // Must be cab01	
        }


/* Find the cabs */
    switch (FEAT_TRAINS, SELF, sw_200_series_original_lead_or_rear, position_in_consist) {				
            1:  sw_200_series_original_lead;
            sw_200_series_original_rear;				
        }
    
    switch (FEAT_TRAINS, SELF, sw_200_series_original_ends, position_in_consist == 1 || position_in_consist_from_end == 1) {				
            1:  sw_200_series_original_lead_or_rear;
            sw_200_series_original_midcars;				
        }
# 1 "src/trains/200_series/200_series.pnml" 2
# 1 "src/trains/200_series/pnml/200_series_sharknose_formations.pnml" 1

/* Midcars */

    // Midcars going backwards
    switch (FEAT_TRAINS, SELF, sw_200_series_sharknose_backwards, position_in_consist_from_end % 48) {				
            4:  sw_200_series_pantob;
            10: sw_200_series_pantob;
            16: sw_200_series_pantob;
            22: sw_200_series_pantob;
            25: sw_200_series_2dec1b;
            28: sw_200_series_2dec1b;
            34: sw_200_series_pantob;
            40: sw_200_series_pantob;
            sw_200_series_coachb;				
        }

    // Midcars going forwards
    switch (FEAT_TRAINS, SELF, sw_200_series_sharknose_forwards, position_in_consist % 48) {				
            4:  sw_200_series_pantof;
            10: sw_200_series_pantof;
            16: sw_200_series_pantof;
            22: sw_200_series_pantof;
            25: sw_200_series_2dec1f;
            28: sw_200_series_2dec1f;
            34: sw_200_series_pantof;
            40: sw_200_series_pantof;
            sw_200_series_coachf;				
        }

    // Is vehicle reversed?
    switch (FEAT_TRAINS, PARENT, sw_200_series_sharknose_midcars, vehicle_is_reversed) {				
            0:  sw_200_series_sharknose_forwards;
            sw_200_series_sharknose_backwards;				
        }

/* Cab selection */

    // Rear cab
    switch (FEAT_TRAINS, PARENT, sw_200_series_sharknose_rear_not_reversed, num_vehs_in_consist % 2) {				
            1:  sw_200_series_sharknose_cab03f;                 // Odd
            sw_200_series_sharknose_cab02f;		                // Even		
        }

    switch (FEAT_TRAINS, PARENT, sw_200_series_sharknose_rear, vehicle_is_reversed) {				
            1:  sw_200_series_sharknose_cab01b;                 // Must be cab01	
            sw_200_series_sharknose_rear_not_reversed;          // Not reversed - so choose odd or even	
        }

    // Lead cab
    switch (FEAT_TRAINS, PARENT, sw_200_series_sharknose_lead_reversed, num_vehs_in_consist % 2) {				
            1:  sw_200_series_sharknose_cab03b;                 // Odd
            sw_200_series_sharknose_cab02b;		                // Even		
        }
    
    switch (FEAT_TRAINS, PARENT, sw_200_series_sharknose_lead, vehicle_is_reversed) {				
            1:  sw_200_series_sharknose_lead_reversed;          // Reversed - so choose odd or even lead
            sw_200_series_sharknose_cab01f;                     // Must be cab01	
        }


/* Find the cabs */
    switch (FEAT_TRAINS, SELF, sw_200_series_sharknose_lead_or_rear, position_in_consist) {				
            1:  sw_200_series_sharknose_lead;
            sw_200_series_sharknose_rear;				
        }
    
    switch (FEAT_TRAINS, SELF, sw_200_series_sharknose_ends, position_in_consist == 1 || position_in_consist_from_end == 1) {				
            1:  sw_200_series_sharknose_lead_or_rear;
            sw_200_series_sharknose_midcars;				
        }
# 1 "src/trains/200_series/200_series.pnml" 2
# 1 "src/trains/200_series/pnml/200_series_original_item.pnml" 1
switch (FEAT_TRAINS, SELF, sw_200_series_original_graphics, position_in_consist % 3) {				
		1:  sw_200_series_original_ends;			
		dummy_sprites;
	}

switch (FEAT_TRAINS, SELF, sw_200_series_original_articulated_part, extra_callback_info1) {
		1 .. 2: return series_200;									
		return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
	}

/*---Coupling Switch---*/
switch(FEAT_TRAINS, SELF, sw_200_series_original_attach_vehid, [vehicle_type_id == mu_car_full]) {
 		0: return string(ONLY_ADD_MUCAR);
}

/*---Length Check---*/
switch (FEAT_TRAINS, SELF, sw_200_series_original_stop_start, num_vehs_in_consist < 12) {				
		1:  return string(STR_LENGTH_ERROR); 				
		return CB_RESULT_NO_TEXT; 
	}

item(FEAT_TRAINS, series_200) {
	property {
		/* Menu */
		name: 							string(STR_NAME_200_SERIES);
		sprite_id:                      SPRITE_ID_NEW_TRAIN; 		// required to enable new graphics
		misc_flags:                     bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_TILT, TRAIN_FLAG_AUTOREFIT);
		running_cost_base:              RUNNING_COST_ELECTRIC;
		engine_class:                   ENGINE_CLASS_ELECTRIC;
		/* Availability */
		climates_available:             ALL_CLIMATES;
		introduction_date:              date(1982,06,23);           // Date of launch
		model_life:                     34;		                    // Until 2008
		vehicle_life:                   30;							// 
		track_type:                     SHINKANSEN;
		/* Cargo */
		reliability_decay:              5;
		refittable_cargo_classes:       bitmask(CC_PASSENGERS);
		refit_cost:                     0;
		default_cargo_type:             PASS;
		ai_special_flag:                AI_FLAG_PASSENGER;
		cargo_capacity:                 1;							// Changed by callback
		loading_speed:                  50;							
		cargo_age_period:               278; 						// 1.5 times normal for this expensive long-distance train
		/* Stats */
		speed:                          210 km/h;                   // Changed by callback
		power:                          8050 kW;					// Changed by callback
		weight:                         1464 ton;                   // Changed by callback					
		tractive_effort_coefficient:    0.3;
		air_drag_coefficient:			0;
	}
	graphics {
		/* Menu */
		additional_text:                string(STR_DESC_200_SERIES);
		cargo_subtype_text:             sw_200_series_original_year_dep_subtype_text;
		can_attach_wagon:				sw_200_series_original_attach_vehid;
		start_stop:						sw_200_series_original_stop_start;
		purchase_weight:                58;
        purchase_power:                 308 * 4;
		/* Graphics */
		default:                        sw_200_series_original_graphics;
		purchase:                       sw_200_series_original_year_dep_purchase;
		articulated_part:               sw_200_series_original_articulated_part;
		visual_effect_and_powered:      sw_visual_effect_and_powered;
		/* Stats */
		length:                         sw_param_length;
        power:							NumberCarsInConsist() * 308 * 4 ;		// 230 kW
		weight:							NumberCarsInConsist() * 58;
        //speed:							sw_200_series_speed;
		cargo_capacity:                 26 * CapacityFactor();										// 1230 capacity / (16 cars * 3 parts) is approx 26						
		loading_speed:					26 * CapacityFactor() / param_loading_2D;					// Capacity divided by door loading factor
		cargo_age_period:				param_decay_express;
		cost_factor:                    130;
		running_cost_factor:            (295 + 125 * NumberCarsInConsist() ) * RunningCostFactor();
		purchase_running_cost_factor:   295 + 125 * NumberCarsInConsist();
		
	}
	/*Multiple Unit Car*/
	
      livery_override(mu_car_full){
        default:                        sw_200_series_original_graphics;
        cargo_capacity:                 26 * CapacityFactor();	
        cargo_age_period:				param_decay_express;
        loading_speed:                  26 * CapacityFactor() / param_loading_2D;
		articulated_part:				sw_mucar_full_articulated_part;
		length:							sw_param_length;
		//power:						// Apply power in graphics block to calculate power based on number of motorised cars correctly
		//weight:						// Apply weight to graphics block to calculate Max T.E. correctly
        //running_cost_factor:            sw_200_series_running_costs;
      }
}
# 1 "src/trains/200_series/200_series.pnml" 2
# 1 "src/trains/200_series/pnml/200_series_sharknose_item.pnml" 1
// GRAPHICS
switch (FEAT_TRAINS, SELF, sw_200_series_sharknose_graphics, position_in_consist % 3) {				
		1:  sw_200_series_sharknose_ends; 				
		dummy_sprites;
	}

switch (FEAT_TRAINS, SELF, sw_200_series_sharknose_articulated_part, extra_callback_info1) {
		1 .. 2: return series_200_sharknose;									
		return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
	}

/*---Coupling Switch---*/
switch(FEAT_TRAINS, SELF, sw_200_series_sharknose_attach_vehid, [vehicle_type_id == mu_car_full]) {
 0: return string(ONLY_ADD_MUCAR);
}

/*---Length Check---*/
switch (FEAT_TRAINS, SELF, sw_200_series_sharknose_stop_start, num_vehs_in_consist < 12) {				
		1:  return string(STR_LENGTH_ERROR); 				
		return CB_RESULT_NO_TEXT; 
	}

item(FEAT_TRAINS, series_200_sharknose) {
	property {
		/* Menu */
		name: 							string(STR_NAME_200_SERIES_SHARK);
		sprite_id:                      SPRITE_ID_NEW_TRAIN; 		// required to enable new graphics
		misc_flags:                     bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_TILT, TRAIN_FLAG_AUTOREFIT);
		running_cost_base:              RUNNING_COST_ELECTRIC;
		engine_class:                   ENGINE_CLASS_ELECTRIC;
		variant_group:					200;
		/* Availability */
		climates_available:             ALL_CLIMATES;
		introduction_date:              date(1990,03,01);           // Date of launch
		model_life:                     34;		                    // Until 2008
		vehicle_life:                   30;							// 
		track_type:                     SHINKANSEN;
		extra_flags:					bitmask(VEHICLE_FLAG_DISABLE_EXCLUSIVE_PREVIEW);
		/* Cargo */
		reliability_decay:              5;
		refittable_cargo_classes:       bitmask(CC_PASSENGERS);
		refit_cost:                     0;
		default_cargo_type:             PASS;
		ai_special_flag:                AI_FLAG_PASSENGER;
		cargo_capacity:                 1;							// Changed by callback
		loading_speed:                  50;							
		cargo_age_period:               278; 						// 1.5 times normal for this expensive long-distance train
		/* Stats */
		speed:                          240 km/h;                   
		power:                          8050 kW;					// Changed by callback
		weight:                         1464 ton;                   // Changed by callback					
		tractive_effort_coefficient:    0.3;
		air_drag_coefficient:			0;
	}
	graphics {
		/* Menu */
		additional_text:                string(STR_DESC_200_SERIES_SHARK);
		cargo_subtype_text:             sw_200_series_sharknose_subtype_text;
		can_attach_wagon:				sw_200_series_sharknose_attach_vehid;
		start_stop:						sw_200_series_sharknose_stop_start;
		purchase_weight:                58;
        purchase_power:                 308 * 4;
		/* Graphics */
		default:                        sw_200_series_sharknose_graphics;
		purchase:                       ss_200_series_buy_sharknose_livery;
		articulated_part:               sw_200_series_sharknose_articulated_part;
		visual_effect_and_powered:      sw_visual_effect_and_powered;
		/* Stats */
		length:                         sw_param_length;
        power:							NumberCarsInConsist() * 308 * 4 ;		// 230 kW
		weight:							NumberCarsInConsist() * 58;
        //speed:						240 km/h;
		cargo_capacity:                 26 * CapacityFactor();										// 1230 capacity / (16 cars * 3 parts) is approx 26						
		loading_speed:					26 * CapacityFactor() / param_loading_2D;					// Capacity divided by door loading factor
		cargo_age_period:				param_decay_express;
		cost_factor:                    130;
		running_cost_factor:            (295 + 125 * NumberCarsInConsist() ) * RunningCostFactor();
		purchase_running_cost_factor:   295 + 125 * NumberCarsInConsist();
		
	}
	/*Multiple Unit Car*/
	
      livery_override(mu_car_full){
        default:                        sw_200_series_sharknose_graphics;
        cargo_capacity:                 26 * CapacityFactor();	
        cargo_age_period:				param_decay_express;
        loading_speed:                  26 * CapacityFactor() / param_loading_2D;
		articulated_part:				sw_mucar_full_articulated_part;
		length:							sw_param_length;
		//power:						// Apply power in graphics block to calculate power based on number of motorised cars correctly
		//weight:						// Apply weight to graphics block to calculate Max T.E. correctly
        //running_cost_factor:            sw_200_series_sharknose_running_costs;
      }
}
# 1 "src/trains/200_series/200_series.pnml" 2
# 1 "JPplusShinkansen.pnml" 4
# 1 "src/trains/400_series/400_series.pnml" 1
// Begin 400_series

/* SUBTYPES */

  switch(FEAT_TRAINS, SELF, sw_400_series_subtypetext_mucar, cargo_subtype) {
    0 : string(LV_400_SERIES_ORIGINAL);
    1 : string(LV_400_SERIES_REFURB);
  }
  switch(FEAT_TRAINS, SELF, sw_400_series_subtypetext_main, cargo_subtype) {
    0 : string(LV_400_SERIES_ORIGINAL);
    1 : string(LV_400_SERIES_REFURB);
  }

/* GRAPHICS */

    // Purchase Sprites
        spriteset (spriteset_400_series_purchase,	        	"src/trains/dummy/purchase.png") {tmpl_purchase_dh(0, 0)}
        alternative_sprites(spriteset_400_series_purchase,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/400_series/buy_400.png") {tmpl_purchase_dh_32bpp(0, 0)}

    // 400 Series Original
        spriteset(ss_400_series_cab_original,                   "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        spriteset(ss_400_series_cab_rev_original,               "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        spriteset(ss_400_series_coach_original,                 "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        spriteset(ss_400_series_coach_rev_original,             "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        spriteset(ss_400_series_panto_original,                 "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        spriteset(ss_400_series_panto_rev_original,             "src/trains/dummy/mucar.png") {template_8_standard(1,1)}

        alternative_sprites(ss_400_series_cab_original,         ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/400_series/400_series_original.png") {template_8_standard(1,1)}
        alternative_sprites(ss_400_series_cab_rev_original,     ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/400_series/400_series_original.png") {template_8_standard(1,41)}
        alternative_sprites(ss_400_series_coach_original,       ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/400_series/400_series_original.png") {template_8_standard(1,121)}
        alternative_sprites(ss_400_series_coach_rev_original,   ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/400_series/400_series_original.png") {template_8_reversed(1,121)}
        alternative_sprites(ss_400_series_panto_original,       ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/400_series/400_series_original.png") {template_8_standard(1,81)}
        alternative_sprites(ss_400_series_panto_rev_original,   ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/400_series/400_series_original.png") {template_8_reversed(1,81)}

    // 400 Series Refurbished
        spriteset(ss_400_series_cab_refurb,                     "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        spriteset(ss_400_series_cab_rev_refurb,                 "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        spriteset(ss_400_series_coach_refurb,                   "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        spriteset(ss_400_series_coach_rev_refurb,               "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        spriteset(ss_400_series_panto_refurb,                   "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        spriteset(ss_400_series_panto_rev_refurb,               "src/trains/dummy/mucar.png") {template_8_standard(1,1)}

        alternative_sprites(ss_400_series_cab_refurb,           ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/400_series/400_series_refurb.png") {template_8_standard(1,1)}
        alternative_sprites(ss_400_series_cab_rev_refurb,       ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/400_series/400_series_refurb.png") {template_8_standard(1,41)}
        alternative_sprites(ss_400_series_coach_refurb,         ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/400_series/400_series_refurb.png") {template_8_standard(1,121)}
        alternative_sprites(ss_400_series_coach_rev_refurb,     ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/400_series/400_series_refurb.png") {template_8_reversed(1,121)}
        alternative_sprites(ss_400_series_panto_refurb,         ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/400_series/400_series_refurb.png") {template_8_standard(1,81)}
        alternative_sprites(ss_400_series_panto_rev_refurb,     ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/400_series/400_series_refurb.png") {template_8_reversed(1,81)}    

/* LIVERIES */

    // Cab Livery (Yellow Lights)
    switch(FEAT_TRAINS, SELF, sw_400_series_gfx_cab_livery, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x0000FFFF, 0xF2]]){
        0 : ss_400_series_cab_original;
        1 : ss_400_series_cab_refurb;
    }
    // Cab Reversed Livery (Red lights)
    switch(FEAT_TRAINS, SELF, sw_400_series_gfx_cab_rev_livery, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x0000FFFF, 0xF2]]){
        0 : ss_400_series_cab_rev_original;
        1 : ss_400_series_cab_rev_refurb;
    }
    // Coach Livery
    switch(FEAT_TRAINS, SELF, sw_400_series_gfx_coach_livery, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x0000FFFF, 0xF2]]){
        0 : ss_400_series_coach_original;
        1 : ss_400_series_coach_refurb;
    }
    // Coach Reversed Livery
    switch(FEAT_TRAINS, SELF, sw_400_series_gfx_coach_rev_livery, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x0000FFFF, 0xF2]]){
        0 : ss_400_series_coach_rev_original;
        1 : ss_400_series_coach_rev_refurb;
    }
    // Panto Livery
    switch(FEAT_TRAINS, SELF, sw_400_series_gfx_panto_livery, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x0000FFFF, 0xF2]]){
        0 : ss_400_series_panto_original;
        1 : ss_400_series_panto_refurb;
    }
    // Panto Reversed Livery
    switch(FEAT_TRAINS, SELF, sw_400_series_gfx_panto_rev_livery, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x0000FFFF, 0xF2]]){
        0 : ss_400_series_panto_rev_original;
        1 : ss_400_series_panto_rev_refurb;
    }

/* COACH and PANTO flipping */

    // Check if Coach is flipped
    switch(FEAT_TRAINS, SELF, sw_400_series_gfx_coach_flippedcheck, vehicle_is_flipped) {
        1 : sw_400_series_gfx_coach_livery;
        default : sw_400_series_gfx_coach_rev_livery;
    }
    // Check if Panto is flipped
    switch(FEAT_TRAINS, SELF, sw_400_series_gfx_panto_flippedcheck, vehicle_is_flipped) {
        1 : sw_400_series_gfx_panto_livery;
        default : sw_400_series_gfx_panto_rev_livery;
    }

/* PANTOGRAPH CHECKS */

    switch(FEAT_TRAINS, SELF, sw_400_series_gfx_rev_pantograph_pos_original_sw1, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]]){
        0 : sw_400_series_gfx_panto_flippedcheck;
        default : sw_400_series_gfx_coach_flippedcheck;
    }
    switch(FEAT_TRAINS, SELF, sw_400_series_gfx_rev_pantograph_pos_original_sw2, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%10]){
        1 : sw_400_series_gfx_panto_flippedcheck;
        //4 : sw_400_series_gfx_panto_flippedcheck;
        7 : sw_400_series_gfx_panto_flippedcheck;
    default : sw_400_series_gfx_coach_flippedcheck;
    }

    switch(FEAT_TRAINS, SELF, sw_400_series_gfx_rev_pantograph_pos_original, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 16, 0x000000FF, 0x41]]){
        0..2 : sw_400_series_gfx_rev_pantograph_pos_original_sw1;
        default : sw_400_series_gfx_rev_pantograph_pos_original_sw2;
    }

    switch(FEAT_TRAINS, SELF, sw_400_series_gfx_rev_pantograph_pos_refurb_sw1, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]]){
        0 : sw_400_series_gfx_panto_flippedcheck;
        default : sw_400_series_gfx_coach_flippedcheck;
    }
    switch(FEAT_TRAINS, SELF, sw_400_series_gfx_rev_pantograph_pos_refurb_sw2, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%10]){
        1 : sw_400_series_gfx_panto_flippedcheck;
        //4 : sw_400_series_gfx_panto_flippedcheck;
        7 : sw_400_series_gfx_panto_flippedcheck;
        default : sw_400_series_gfx_coach_flippedcheck;
    }

    switch(FEAT_TRAINS, SELF, sw_400_series_gfx_rev_pantograph_pos_refurb, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 16, 0x000000FF, 0x41]]){
        0..2 : sw_400_series_gfx_rev_pantograph_pos_refurb_sw1;
        default : sw_400_series_gfx_rev_pantograph_pos_refurb_sw2;
    }

    switch(FEAT_TRAINS,SELF, sw_400_series_gfx_rev_pantograph_pos, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x0000FFFF, 0xF2]]){
        0 : sw_400_series_gfx_rev_pantograph_pos_original;
        1 : sw_400_series_gfx_rev_pantograph_pos_refurb;
    }

    switch(FEAT_TRAINS, SELF, sw_400_series_gfx_rev_frontback_nomucars,
    [STORE_TEMP(position_in_consist_from_end-position_in_consist-1, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%2]){
        1 : sw_400_series_gfx_cab_rev_livery;
        0 : sw_400_series_gfx_cab_livery;
    }
    switch(FEAT_TRAINS, SELF, sw_400_series_gfx_rev_frontback_aftermucars,
    [STORE_TEMP(position_in_consist_from_end-position_in_consist-1, 0x10F), var[0x61, 0, 0x000000FF, 0x41]%2]){
        1 : sw_400_series_gfx_cab_livery;
        0 : sw_400_series_gfx_cab_rev_livery;
    }
    switch(FEAT_TRAINS, SELF, sw_400_series_gfx_rev_frontback_mucarcheck,
    [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F),STORE_TEMP(var[0x61, 0, 0x000000FF, 0x41],0),
    STORE_TEMP((position_in_consist_from_end-position_in_consist-1)-LOAD_TEMP(0), 0x10F),
    var[0x61, 0, 0x0000FFFF, 0xC6]]){
        1111 : sw_400_series_gfx_rev_frontback_aftermucars;         // From above switch
        default : sw_400_series_gfx_rev_frontback_nomucars;         // From above switch
    }
    switch(FEAT_TRAINS, SELF, sw_400_series_gfx_rev_frontback_sameid,
    [STORE_TEMP(position_in_consist_from_end-position_in_consist+1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]){
        400 : sw_400_series_gfx_rev_frontback_mucarcheck;
        1111 : sw_400_series_gfx_cab_rev_livery;
        default : sw_400_series_gfx_cab_livery;
    }
    switch(FEAT_TRAINS, SELF, sw_400_series_gfx_rev_frontback,
    [STORE_TEMP(position_in_consist_from_end-position_in_consist-1, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]){
        400 : sw_400_series_gfx_rev_frontback_sameid;
        1111 : sw_400_series_gfx_cab_livery;
        default : sw_400_series_gfx_cab_rev_livery;
    }
    switch(FEAT_TRAINS, SELF, sw_400_series_gfx_rev_idcheck, [STORE_TEMP(position_in_consist_from_end-position_in_consist, 0x10F), var[0x61, 0, 0x0000FFFF, 0xC6]]){
        1111 : sw_400_series_gfx_rev_pantograph_pos;        
        400 : sw_400_series_gfx_rev_frontback;
    }
/*---END OF SECTION---*/
/*---GFX: Pantograph Positions---*/
    
    // Original
    switch(FEAT_TRAINS, SELF, sw_400_series_gfx_pantograph_pos_original_sw1, position_in_vehid_chain){
        0 : ss_400_series_panto_original;
        default : ss_400_series_coach_original;
    }
    switch(FEAT_TRAINS, SELF, sw_400_series_gfx_pantograph_pos_original_sw2, position_in_vehid_chain%10){
        1 : ss_400_series_panto_original;
        //4 : ss_400_series_panto_original;
        7 : ss_400_series_panto_original;
        default : ss_400_series_coach_original;
    }
    switch(FEAT_TRAINS, SELF, sw_400_series_gfx_pantograph_pos_original, num_vehs_in_vehid_chain){
        0..2 : sw_400_series_gfx_pantograph_pos_original_sw1;
        default : sw_400_series_gfx_pantograph_pos_original_sw2;
    }
    
    // Refurbished
    switch(FEAT_TRAINS, SELF, sw_400_series_gfx_pantograph_pos_refurb_sw1, position_in_vehid_chain){
        0 : ss_400_series_panto_refurb;
        default : ss_400_series_coach_refurb;
    }
    switch(FEAT_TRAINS, SELF, sw_400_series_gfx_pantograph_pos_refurb_sw2, position_in_vehid_chain%10){
        1 : ss_400_series_panto_refurb;
        //4 : ss_400_series_panto_refurb;
        7 : ss_400_series_panto_refurb;
        default : ss_400_series_coach_refurb;
    }
    switch(FEAT_TRAINS, SELF, sw_400_series_gfx_pantograph_pos_refurb, num_vehs_in_vehid_chain){
        0..2 : sw_400_series_gfx_pantograph_pos_refurb_sw1;
        default : sw_400_series_gfx_pantograph_pos_refurb_sw2;
    }

/*---END OF SECTION---*/
/*---GFX: Front/Back Cab Car Switches---*/

// Original Set
    switch(FEAT_TRAINS, SELF, sw_400_series_gfx_cab_flipcheck_original, vehicle_is_flipped){
        0: ss_400_series_cab_original;                             // Cab
        default: ss_400_series_cab_rev_original;                   // Cab Reversed
    }
    switch(FEAT_TRAINS, PARENT, sw_400_series_gfx_cab_original, vehicle_is_reversed){
        0: sw_400_series_gfx_cab_flipcheck_original;               // Above switch
        default: sw_400_series_gfx_rev_idcheck;              
    }

// Refurbished Set
    switch(FEAT_TRAINS, SELF, sw_400_series_gfx_cab_flipcheck_refurb, vehicle_is_flipped){
        0: ss_400_series_cab_refurb;                             // Cab
        default: ss_400_series_cab_rev_refurb;                   // Cab Reversed
    }
    switch(FEAT_TRAINS, PARENT, sw_400_series_gfx_cab_refurb, vehicle_is_reversed){
        0: sw_400_series_gfx_cab_flipcheck_refurb;               // Above switch
        default: sw_400_series_gfx_rev_idcheck;             
    }


/*---END OF SECTION---*/
/*---GFX: Middle Car Switches---*/
    switch(FEAT_TRAINS, PARENT, sw_400_series_gfx_mucar_revcheck_mid_original, vehicle_is_reversed){
        0: sw_400_series_gfx_pantograph_pos_original;
        default: sw_400_series_gfx_rev_idcheck;
    }

    switch(FEAT_TRAINS, PARENT, sw_400_series_gfx_mucar_revcheck_mid_refurb, vehicle_is_reversed){
        0: sw_400_series_gfx_pantograph_pos_refurb;
        default: sw_400_series_gfx_rev_idcheck;
    }

/*---END OF SECTION---*/
/*---GFX: Livery Refitting Switches---*/
    switch(FEAT_TRAINS, SELF, sw_400_series_gfx_mucar,  cargo_subtype) {
        0 : sw_400_series_gfx_mucar_revcheck_mid_original;
        1 : sw_400_series_gfx_mucar_revcheck_mid_refurb;
    }
    switch(FEAT_TRAINS, SELF, sw_400_series_gfx_main,  cargo_subtype) {
        0 : sw_400_series_gfx_cab_original;
        1 : sw_400_series_gfx_cab_refurb;
    }
/*---END OF SECTION---*/

/*---Coupling Switch---*/
    switch(FEAT_TRAINS, SELF, sw_400_series_attach_vehid, [vehicle_type_id == series_400 || vehicle_type_id == mu_car_ms]) {
        0: return string(MU_UNIQUE);
    }
/*---END OF SECTION---*/

item(FEAT_TRAINS, series_400) {
    property {
        name:                           string(STR_NAME_400_SERIES);
        introduction_date:              date(1992,07,01);
        model_life:                     28;                             // In service until 2010,04,18
        vehicle_life:                   38;
        reliability_decay:              21;
        cargo_capacity:                 50;
        loading_speed:                  20;
        cost_factor:                    175;
        running_cost_factor:            120;
        speed:                          240 km/h;
        track_type:                     MINI_SHINKANSEN;
        power:                          4 * 280 hp;
        weight:                         42 ton;
        climates_available:             ALL_CLIMATES;
        ai_special_flag:                AI_FLAG_PASSENGER;
        sprite_id:                      SPRITE_ID_NEW_TRAIN;
        misc_flags:                     bitmask(TRAIN_FLAG_MU);
        refittable_cargo_classes:       bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:   bitmask();
        refit_cost:                     0;
        dual_headed:                    1;
        ai_engine_rank:                 0;
        running_cost_base:              RUNNING_COST_ELECTRIC;
        engine_class:                   ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered:      visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 4, ENABLE_WAGON_POWER);
        tractive_effort_coefficient:    0.3;
        air_drag_coefficient:           0;
        bitmask_vehicle_info:           0;
        length:                         8;
    }
    /*Graphics and Callbacks*/
      graphics {
        default:                        sw_400_series_gfx_main;
	    purchase:                       spriteset_400_series_purchase;
		additional_text:	            return string(STR_DESC_400_SERIES);
        cargo_subtype_text:             sw_400_series_subtypetext_main;
        can_attach_wagon:			    sw_400_series_attach_vehid;
        //start_stop:                   ;
        purchase_weight:                42 / 2;
        purchase_power:                 282 * 4;
        /* Stats */
        power:                          max (num_vehs_in_consist - 1 , 0 ) * 282 * 4;               // 210 kW = 282 hp
        cargo_capacity:                 57 * CapacityFactor();							            // 399 / 7 = 57					
		loading_speed:					57 * CapacityFactor() / param_loading_1D;					// Capacity divided by door loading factor
        running_cost_factor:            (445 + 125 * num_vehs_in_consist ) * RunningCostFactor();
        purchase_running_cost_factor:   (445 + 125 ) / 2;	
    }
    /*Multiple Unit Car*/
      livery_override(mu_car_ms){
        default:                        sw_400_series_gfx_mucar;
        cargo_capacity:                 57 * CapacityFactor();	
        cargo_age_period:				param_decay_express;
        loading_speed:                  57 * CapacityFactor() / param_loading_1D;
        cargo_subtype_text:             sw_400_series_subtypetext_mucar;
        //power:                          4 * 280;
        weight:                         42;
        //running_cost_factor:            120;
      }

}

// End 400_series
# 1 "JPplusShinkansen.pnml" 4
# 1 "src/trains/e1_series/e1_series.pnml" 1

# 1 "src/trains/e1_series/pnml/e1_series_menu.pnml" 1
/* Subtypes */
    switch(FEAT_TRAINS, SELF, sw_e1_series_subtype_text, cargo_subtype) {
        0: return string(LV_YEAR_DEP_LIVERY);
        1: return string(LV_E1_SERIES_ORIGINAL);
        2: return string(LV_E1_SERIES_REFURB);
        3: return string(LV_E1_SERIES_2CC);
        return CB_RESULT_NO_TEXT;
        }

/* Purchase Menu */
    spriteset (ss_e1_series_buy_original_livery_12,	        	    "src/trains/dummy/purchase.png") {template_purchase(0, 0)}
	spriteset (ss_e1_series_buy_original_livery_10,	        	    "src/trains/dummy/purchase.png") {template_purchase(0, 0)}
	spriteset (ss_e1_series_buy_refurb_livery_12,	        	    "src/trains/dummy/purchase.png") {template_purchase(0, 0)}
	spriteset (ss_e1_series_buy_refurb_livery_10,	        	    "src/trains/dummy/purchase.png") {template_purchase(0, 0)}

    alternative_sprites(ss_e1_series_buy_original_livery_12,        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e1_series/12/buy_e1_original.png") {template_purchase(0, 0)}
	alternative_sprites(ss_e1_series_buy_original_livery_10,       	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e1_series/12/buy_e1_original.png") {template_purchase(0, 0)}
    alternative_sprites(ss_e1_series_buy_refurb_livery_12,     	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e1_series/12/buy_e1_refurb.png")   {template_purchase(0, 0)}
    alternative_sprites(ss_e1_series_buy_refurb_livery_10,     	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e1_series/12/buy_e1_refurb.png")   {template_purchase(0, 0)}

		switch (FEAT_TRAINS, SELF, ss_e1_series_buy_original_livery, param_spritelength) {
			1: ss_e1_series_buy_original_livery_10;					// Length 10
			ss_e1_series_buy_original_livery_12;					// Length 12
		}

		switch (FEAT_TRAINS, SELF, ss_e1_series_buy_refurb_livery, param_spritelength) {
			1: ss_e1_series_buy_refurb_livery_10;					// Length 10
			ss_e1_series_buy_refurb_livery_12;						// Length 12
		}

		switch(FEAT_TRAINS, SELF, sw_e1_series_year_dep_purchase, current_year) {
			0..2003: ss_e1_series_buy_original_livery;
			ss_e1_series_buy_refurb_livery;
		}
# 1 "src/trains/e1_series/e1_series.pnml" 2
# 1 "src/trains/e1_series/pnml/sprites/e1_series_cab01.pnml" 1
/* cab01 */

// FORWARDS

// E1 Series Original
spriteset(ss_e1_series_cab01f_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e1_series_cab01f_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e1_series_cab01f_original_12,        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e1_series/12/e1_original.png") {template_12_standard(1,1)}
alternative_sprites(ss_e1_series_cab01f_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e1_series/10/e1_original.png") {template_10_standard(1,1)}		

switch (FEAT_TRAINS, SELF, sw_e1_series_cab01f_original, param_spritelength) {
	1: ss_e1_series_cab01f_original_10;				        // Length 10
	ss_e1_series_cab01f_original_12;				        // Length 12
}

// E1 Series Refurb
spriteset(ss_e1_series_cab01f_refurb_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e1_series_cab01f_refurb_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e1_series_cab01f_refurb_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e1_series/12/e1_refurb.png") {template_12_standard(1,1)}
alternative_sprites(ss_e1_series_cab01f_refurb_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e1_series/10/e1_refurb.png") {template_10_standard(1,1)}		

switch (FEAT_TRAINS, SELF, sw_e1_series_cab01f_refurb, param_spritelength) {
	1: ss_e1_series_cab01f_refurb_10;				        // Length 10
	ss_e1_series_cab01f_refurb_12;				            // Length 12
}

// E1 Series 2cc
spriteset(ss_e1_series_cab01f_2cc_12,             	        "src/trains/e1_series/12/e1_2cc.png") {template_12_standard(1,1)}
spriteset(ss_e1_series_cab01f_2cc_10,             	        "src/trains/e1_series/10/e1_2cc.png") {template_10_standard(1,1)}

switch (FEAT_TRAINS, SELF, sw_e1_series_cab01f_2cc, param_spritelength) {
	1: ss_e1_series_cab01f_2cc_10;				            // Length 10
	ss_e1_series_cab01f_2cc_12;					            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, SELF, sw_e1_series_cab01f_year_dep_livery, build_year) {
        0..2003: sw_e1_series_cab01f_original;
        sw_e1_series_cab01f_refurb;
    }

switch(FEAT_TRAINS, PARENT, sw_e1_series_cab01f, cargo_subtype) {
        1: sw_e1_series_cab01f_original;
        2: sw_e1_series_cab01f_refurb;
        3: sw_e1_series_cab01f_2cc;
        sw_e1_series_cab01f_year_dep_livery;
    }

// BACKWARDS

// 500 Series Original
spriteset(ss_e1_series_cab01b_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e1_series_cab01b_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e1_series_cab01b_original_12,        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e1_series/12/e1_original.png") {template_12_reversed(1,41)}
alternative_sprites(ss_e1_series_cab01b_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e1_series/10/e1_original.png") {template_10_reversed(1,41)}		

switch (FEAT_TRAINS, SELF, sw_e1_series_cab01b_original, param_spritelength) {
	1: ss_e1_series_cab01b_original_10;				        // Length 10
	ss_e1_series_cab01b_original_12;				        // Length 12
}

// 500 Series Type Refurb
spriteset(ss_e1_series_cab01b_refurb_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e1_series_cab01b_refurb_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e1_series_cab01b_refurb_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e1_series/12/e1_refurb.png") {template_12_reversed(1,41)}
alternative_sprites(ss_e1_series_cab01b_refurb_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e1_series/10/e1_refurb.png") {template_10_reversed(1,41)}		

switch (FEAT_TRAINS, SELF, sw_e1_series_cab01b_refurb, param_spritelength) {
	1: ss_e1_series_cab01b_refurb_10;				        // Length 10
	ss_e1_series_cab01b_refurb_12;				            // Length 12
}

// 500 Series 2cc
spriteset(ss_e1_series_cab01b_2cc_12,             	        "src/trains/e1_series/12/e1_2cc.png") {template_12_reversed(1,41)}
spriteset(ss_e1_series_cab01b_2cc_10,             	        "src/trains/e1_series/10/e1_2cc.png") {template_10_reversed(1,41)}

switch (FEAT_TRAINS, SELF, sw_e1_series_cab01b_2cc, param_spritelength) {
	1: ss_e1_series_cab01b_2cc_10;				 	        // Length 10
	ss_e1_series_cab01b_2cc_12;					            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, SELF, sw_e1_series_cab01b_year_dep_livery, build_year) {
        0..2003: sw_e1_series_cab01b_original;
        sw_e1_series_cab01b_refurb;
    }

switch(FEAT_TRAINS, PARENT, sw_e1_series_cab01b, cargo_subtype) {
        1: sw_e1_series_cab01b_original;
        2: sw_e1_series_cab01b_refurb;
        3: sw_e1_series_cab01b_2cc;
        sw_e1_series_cab01b_year_dep_livery;
    }
# 1 "src/trains/e1_series/e1_series.pnml" 2
# 1 "src/trains/e1_series/pnml/sprites/e1_series_cab02.pnml" 1
/* cab02 */

// FORWARDS

// E1 Series Original
spriteset(ss_e1_series_cab02f_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e1_series_cab02f_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e1_series_cab02f_original_12,        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e1_series/12/e1_original.png") {template_12_cab_rev_standard(1,41)}
alternative_sprites(ss_e1_series_cab02f_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e1_series/10/e1_original.png") {template_10_cab_rev_standard(1,41)}		

switch (FEAT_TRAINS, SELF, sw_e1_series_cab02f_original, param_spritelength) {
	1: ss_e1_series_cab02f_original_10;				        // Length 10
	ss_e1_series_cab02f_original_12;				        // Length 12
}

// E1 Series Refurb
spriteset(ss_e1_series_cab02f_refurb_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e1_series_cab02f_refurb_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e1_series_cab02f_refurb_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e1_series/12/e1_refurb.png") {template_12_cab_rev_standard(1,41)}
alternative_sprites(ss_e1_series_cab02f_refurb_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e1_series/10/e1_refurb.png") {template_10_cab_rev_standard(1,41)}		

switch (FEAT_TRAINS, SELF, sw_e1_series_cab02f_refurb, param_spritelength) {
	1: ss_e1_series_cab02f_refurb_10;				        // Length 10
	ss_e1_series_cab02f_refurb_12;				            // Length 12
}

// E1 Series 2cc
spriteset(ss_e1_series_cab02f_2cc_12,             	        "src/trains/e1_series/12/e1_2cc.png") {template_12_cab_rev_standard(1,41)}
spriteset(ss_e1_series_cab02f_2cc_10,             	        "src/trains/e1_series/10/e1_2cc.png") {template_10_cab_rev_standard(1,41)}

switch (FEAT_TRAINS, SELF, sw_e1_series_cab02f_2cc, param_spritelength) {
	1: ss_e1_series_cab02f_2cc_10;				            // Length 10
	ss_e1_series_cab02f_2cc_12;					            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, SELF, sw_e1_series_cab02f_year_dep_livery, build_year) {
        0..2003: sw_e1_series_cab02f_original;
        sw_e1_series_cab02f_refurb;
    }

switch(FEAT_TRAINS, PARENT, sw_e1_series_cab02f, cargo_subtype) {
        1: sw_e1_series_cab02f_original;
        2: sw_e1_series_cab02f_refurb;
        3: sw_e1_series_cab02f_2cc;
        sw_e1_series_cab02f_year_dep_livery;
    }

// BACKWARDS

// 500 Series Original
spriteset(ss_e1_series_cab02b_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e1_series_cab02b_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e1_series_cab02b_original_12,        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e1_series/12/e1_original.png") {template_12_cab_rev_reversed(1,1)}
alternative_sprites(ss_e1_series_cab02b_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e1_series/10/e1_original.png") {template_10_cab_rev_reversed(1,1)}		

switch (FEAT_TRAINS, SELF, sw_e1_series_cab02b_original, param_spritelength) {
	1: ss_e1_series_cab02b_original_10;				        // Length 10
	ss_e1_series_cab02b_original_12;				        // Length 12
}

// 500 Series Type Refurb
spriteset(ss_e1_series_cab02b_refurb_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e1_series_cab02b_refurb_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e1_series_cab02b_refurb_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e1_series/12/e1_refurb.png") {template_12_cab_rev_reversed(1,1)}
alternative_sprites(ss_e1_series_cab02b_refurb_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e1_series/10/e1_refurb.png") {template_10_cab_rev_reversed(1,1)}		

switch (FEAT_TRAINS, SELF, sw_e1_series_cab02b_refurb, param_spritelength) {
	1: ss_e1_series_cab02b_refurb_10;				            // Length 10
	ss_e1_series_cab02b_refurb_12;				            // Length 12
}

// 500 Series 2cc
spriteset(ss_e1_series_cab02b_2cc_12,             	        "src/trains/e1_series/12/e1_2cc.png") {template_12_cab_rev_reversed(1,1)}
spriteset(ss_e1_series_cab02b_2cc_10,             	        "src/trains/e1_series/10/e1_2cc.png") {template_10_cab_rev_reversed(1,1)}

switch (FEAT_TRAINS, SELF, sw_e1_series_cab02b_2cc, param_spritelength) {
	1: ss_e1_series_cab02b_2cc_10;				 	        // Length 10
	ss_e1_series_cab02b_2cc_12;					            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, SELF, sw_e1_series_cab02b_year_dep_livery, build_year) {
        0..2003: sw_e1_series_cab02b_original;
        sw_e1_series_cab02b_refurb;
    }

switch(FEAT_TRAINS, PARENT, sw_e1_series_cab02b, cargo_subtype) {
        1: sw_e1_series_cab02b_original;
        2: sw_e1_series_cab02b_refurb;
        3: sw_e1_series_cab02b_2cc;
        sw_e1_series_cab02b_year_dep_livery;
    }
# 1 "src/trains/e1_series/e1_series.pnml" 2
# 1 "src/trains/e1_series/pnml/sprites/e1_series_coach.pnml" 1
/* coach */

// FORWARDS

// E1 Series Original
spriteset(ss_e1_series_coachf_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e1_series_coachf_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e1_series_coachf_original_12,        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e1_series/12/e1_original.png") {template_12_standard(1,121)}
alternative_sprites(ss_e1_series_coachf_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e1_series/10/e1_original.png") {template_10_standard(1,121)}		

switch (FEAT_TRAINS, SELF, sw_e1_series_coachf_original, param_spritelength) {
	1: ss_e1_series_coachf_original_10;				        // Length 10
	ss_e1_series_coachf_original_12;				        // Length 12
}

// E1 Series Refurb
spriteset(ss_e1_series_coachf_refurb_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e1_series_coachf_refurb_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e1_series_coachf_refurb_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e1_series/12/e1_refurb.png") {template_12_standard(1,121)}
alternative_sprites(ss_e1_series_coachf_refurb_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e1_series/10/e1_refurb.png") {template_10_standard(1,121)}		

switch (FEAT_TRAINS, SELF, sw_e1_series_coachf_refurb, param_spritelength) {
	1: ss_e1_series_coachf_refurb_10;				        // Length 10
	ss_e1_series_coachf_refurb_12;				            // Length 12
}

// E1 Series 2cc
spriteset(ss_e1_series_coachf_2cc_12,             	        "src/trains/e1_series/12/e1_2cc.png") {template_12_standard(1,121)}
spriteset(ss_e1_series_coachf_2cc_10,             	        "src/trains/e1_series/10/e1_2cc.png") {template_10_standard(1,121)}

switch (FEAT_TRAINS, SELF, sw_e1_series_coachf_2cc, param_spritelength) {
	1: ss_e1_series_coachf_2cc_10;				            // Length 10
	ss_e1_series_coachf_2cc_12;					            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, SELF, sw_e1_series_coachf_year_dep_livery, build_year) {
        0..2003: sw_e1_series_coachf_original;
        sw_e1_series_coachf_refurb;
    }

switch(FEAT_TRAINS, PARENT, sw_e1_series_coachf, cargo_subtype) {
        1: sw_e1_series_coachf_original;
        2: sw_e1_series_coachf_refurb;
        3: sw_e1_series_coachf_2cc;
        sw_e1_series_coachf_year_dep_livery;
    }

// BACKWARDS

// 500 Series Original
spriteset(ss_e1_series_coachb_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e1_series_coachb_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e1_series_coachb_original_12,        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e1_series/12/e1_original.png") {template_12_reversed(1,121)}
alternative_sprites(ss_e1_series_coachb_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e1_series/10/e1_original.png") {template_10_reversed(1,121)}		

switch (FEAT_TRAINS, SELF, sw_e1_series_coachb_original, param_spritelength) {
	1: ss_e1_series_coachb_original_10;				        // Length 10
	ss_e1_series_coachb_original_12;				        // Length 12
}

// 500 Series Type Refurb
spriteset(ss_e1_series_coachb_refurb_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e1_series_coachb_refurb_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e1_series_coachb_refurb_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e1_series/12/e1_refurb.png") {template_12_reversed(1,121)}
alternative_sprites(ss_e1_series_coachb_refurb_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e1_series/10/e1_refurb.png") {template_10_reversed(1,121)}		

switch (FEAT_TRAINS, SELF, sw_e1_series_coachb_refurb, param_spritelength) {
	1: ss_e1_series_coachb_refurb_10;				        // Length 10
	ss_e1_series_coachb_refurb_12;				            // Length 12
}

// 500 Series 2cc
spriteset(ss_e1_series_coachb_2cc_12,             	        "src/trains/e1_series/12/e1_2cc.png") {template_12_reversed(1,121)}
spriteset(ss_e1_series_coachb_2cc_10,             	        "src/trains/e1_series/10/e1_2cc.png") {template_10_reversed(1,121)}

switch (FEAT_TRAINS, SELF, sw_e1_series_coachb_2cc, param_spritelength) {
	1: ss_e1_series_coachb_2cc_10;				 	        // Length 10
	ss_e1_series_coachb_2cc_12;					            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, SELF, sw_e1_series_coachb_year_dep_livery, build_year) {
        0..2003: sw_e1_series_coachb_original;
        sw_e1_series_coachb_refurb;
    }

switch(FEAT_TRAINS, PARENT, sw_e1_series_coachb, cargo_subtype) {
        1: sw_e1_series_coachb_original;
        2: sw_e1_series_coachb_refurb;
        3: sw_e1_series_coachb_2cc;
        sw_e1_series_coachb_year_dep_livery;
    }
# 1 "src/trains/e1_series/e1_series.pnml" 2
# 1 "src/trains/e1_series/pnml/sprites/e1_series_panto.pnml" 1
/* panto */

// FORWARDS

// E1 Series Original
spriteset(ss_e1_series_pantof_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e1_series_pantof_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e1_series_pantof_original_12,        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e1_series/12/e1_original.png") {template_12_standard(1,81)}
alternative_sprites(ss_e1_series_pantof_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e1_series/10/e1_original.png") {template_10_standard(1,81)}		

switch (FEAT_TRAINS, SELF, sw_e1_series_pantof_original, param_spritelength) {
	1: ss_e1_series_pantof_original_10;				        // Length 10
	ss_e1_series_pantof_original_12;				        // Length 12
}

// E1 Series Refurb
spriteset(ss_e1_series_pantof_refurb_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e1_series_pantof_refurb_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e1_series_pantof_refurb_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e1_series/12/e1_refurb.png") {template_12_standard(1,81)}
alternative_sprites(ss_e1_series_pantof_refurb_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e1_series/10/e1_refurb.png") {template_10_standard(1,81)}		

switch (FEAT_TRAINS, SELF, sw_e1_series_pantof_refurb, param_spritelength) {
	1: ss_e1_series_pantof_refurb_10;				        // Length 10
	ss_e1_series_pantof_refurb_12;				            // Length 12
}

// E1 Series 2cc
spriteset(ss_e1_series_pantof_2cc_12,             	        "src/trains/e1_series/12/e1_2cc.png") {template_12_standard(1,81)}
spriteset(ss_e1_series_pantof_2cc_10,             	        "src/trains/e1_series/10/e1_2cc.png") {template_10_standard(1,81)}

switch (FEAT_TRAINS, SELF, sw_e1_series_pantof_2cc, param_spritelength) {
	1: ss_e1_series_pantof_2cc_10;				            // Length 10
	ss_e1_series_pantof_2cc_12;					            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, SELF, sw_e1_series_pantof_year_dep_livery, build_year) {
        0..2003: sw_e1_series_pantof_original;
        sw_e1_series_pantof_refurb;
    }

switch(FEAT_TRAINS, PARENT, sw_e1_series_pantof, cargo_subtype) {
        1: sw_e1_series_pantof_original;
        2: sw_e1_series_pantof_refurb;
        3: sw_e1_series_pantof_2cc;
        sw_e1_series_pantof_year_dep_livery;
    }

// BACKWARDS

// 500 Series Original
spriteset(ss_e1_series_pantob_original_12,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e1_series_pantob_original_10,          	    "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e1_series_pantob_original_12,        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e1_series/12/e1_original.png") {template_12_reversed(1,81)}
alternative_sprites(ss_e1_series_pantob_original_10,	    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e1_series/10/e1_original.png") {template_10_reversed(1,81)}		

switch (FEAT_TRAINS, SELF, sw_e1_series_pantob_original, param_spritelength) {
	1: ss_e1_series_pantob_original_10;				        // Length 10
	ss_e1_series_pantob_original_12;				        // Length 12
}

// 500 Series Type Refurb
spriteset(ss_e1_series_pantob_refurb_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e1_series_pantob_refurb_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e1_series_pantob_refurb_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e1_series/12/e1_refurb.png") {template_12_reversed(1,81)}
alternative_sprites(ss_e1_series_pantob_refurb_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e1_series/10/e1_refurb.png") {template_10_reversed(1,81)}		

switch (FEAT_TRAINS, SELF, sw_e1_series_pantob_refurb, param_spritelength) {
	1: ss_e1_series_pantob_refurb_10;				        // Length 10
	ss_e1_series_pantob_refurb_12;				            // Length 12
}

// 500 Series 2cc
spriteset(ss_e1_series_pantob_2cc_12,             	        "src/trains/e1_series/12/e1_2cc.png") {template_12_reversed(1,81)}
spriteset(ss_e1_series_pantob_2cc_10,             	        "src/trains/e1_series/10/e1_2cc.png") {template_10_reversed(1,81)}

switch (FEAT_TRAINS, SELF, sw_e1_series_pantob_2cc, param_spritelength) {
	1: ss_e1_series_pantob_2cc_10;				 	        // Length 10
	ss_e1_series_pantob_2cc_12;					            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, SELF, sw_e1_series_pantob_year_dep_livery, build_year) {
        0..2003: sw_e1_series_pantob_original;
        sw_e1_series_pantob_refurb;
    }

switch(FEAT_TRAINS, PARENT, sw_e1_series_pantob, cargo_subtype) {
        1: sw_e1_series_pantob_original;
        2: sw_e1_series_pantob_refurb;
        3: sw_e1_series_pantob_2cc;
        sw_e1_series_pantob_year_dep_livery;
    }
# 1 "src/trains/e1_series/e1_series.pnml" 2
# 1 "src/trains/e1_series/pnml/e1_series_formations.pnml" 1
/* Midcars */    
    // Backwards
    switch (FEAT_TRAINS, SELF, sw_e1_series_backwards_panto_in_middle, (position_in_consist == position_in_consist_from_end ) || (position_in_consist - 3 == position_in_consist_from_end)) {				
            0:  sw_e1_series_coachb;
            sw_e1_series_pantob;				
        }

    switch (FEAT_TRAINS, SELF, sw_e1_series_backwards_6th_and_3_from_end, position_in_consist == 7 || position_in_consist_from_end  == 16) {				
            0:  sw_e1_series_coachb;
            sw_e1_series_pantob;				
        }

    switch (FEAT_TRAINS, SELF, sw_e1_series_backwards, num_vehs_in_consist ) {				
            0..35:  sw_e1_series_backwards_panto_in_middle;
            sw_e1_series_backwards_6th_and_3_from_end;				
        }

    // Forwards
    switch (FEAT_TRAINS, SELF, sw_e1_series_forwards_panto_in_middle, (position_in_consist == position_in_consist_from_end ) || (position_in_consist - 3 == position_in_consist_from_end)) {				
            0:  sw_e1_series_coachf;
            sw_e1_series_pantof;				
        }

    switch (FEAT_TRAINS, SELF, sw_e1_series_forwards_6th_and_3_from_end, position_in_consist == 16 || position_in_consist_from_end  == 7) {				
            0:  sw_e1_series_coachf;
            sw_e1_series_pantof;				
        }

    switch (FEAT_TRAINS, SELF, sw_e1_series_forwards, num_vehs_in_consist ) {				
            0..35:  sw_e1_series_forwards_panto_in_middle;
            sw_e1_series_forwards_6th_and_3_from_end;				
        }

    switch (FEAT_TRAINS, PARENT, sw_e1_series_midcars, vehicle_is_reversed) {				
            0:  sw_e1_series_forwards;
            sw_e1_series_backwards;				
        }

/* Cab selection */
    // Rear cab
    switch (FEAT_TRAINS, PARENT, sw_e1_series_rear, vehicle_is_reversed) {				
            1:  sw_e1_series_cab01b;                   // cab01	
            sw_e1_series_cab02f;                       // cab02
        }

    // Lead cab
    switch (FEAT_TRAINS, PARENT, sw_e1_series_lead, vehicle_is_reversed) {				
            1:  sw_e1_series_cab02b;                   // cab02
            sw_e1_series_cab01f;                       // cab01	
        }

/* Find the cabs */
    switch (FEAT_TRAINS, SELF, sw_e1_series_lead_or_rear, position_in_consist) {				
            1:  sw_e1_series_lead;
            sw_e1_series_rear;				
        }
    
    switch (FEAT_TRAINS, SELF, sw_e1_series_ends, position_in_consist == 1 || position_in_consist_from_end == 1) {				
            1:  sw_e1_series_lead_or_rear;
            sw_e1_series_midcars;				
        }
# 1 "src/trains/e1_series/e1_series.pnml" 2
# 1 "src/trains/e1_series/pnml/e1_series_item.pnml" 1
switch (FEAT_TRAINS, SELF, sw_e1_series_graphics, position_in_consist % 3) {				
		1:  sw_e1_series_ends; 				
		dummy_sprites;
	}

switch (FEAT_TRAINS, SELF, sw_e1_series_articulated_part, extra_callback_info1) {
		1 .. 2: return series_e1;									
		return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
	}

/*---Coupling Switch---*/
switch(FEAT_TRAINS, SELF, sw_e1_series_attach_vehid, [vehicle_type_id == mu_car_full]) {
 0: return string(ONLY_ADD_MUCAR);
}

/*---Length Check---*/
switch (FEAT_TRAINS, SELF, sw_e1_series_stop_start, num_vehs_in_consist < 12) {				
		1:  return string(STR_LENGTH_ERROR); 				
		return CB_RESULT_NO_TEXT; 
	}

item(FEAT_TRAINS, series_e1) {
	property {
		/* Menu */
		name: 							string(STR_NAME_E1_SERIES);
		sprite_id:                      SPRITE_ID_NEW_TRAIN; 		// required to enable new graphics
		misc_flags:                     bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU, TRAIN_FLAG_TILT, TRAIN_FLAG_AUTOREFIT, TRAIN_FLAG_SPRITE_STACK);
		running_cost_base:              RUNNING_COST_ELECTRIC;
		engine_class:                   ENGINE_CLASS_ELECTRIC;
		/* Availability */
		climates_available:             ALL_CLIMATES;
		introduction_date:              date(1994,07,15);
		model_life:                     18;							// In service until 2012,09,28
		vehicle_life:                   30;							// 
		track_type:                     SHINKANSEN;
		/* Cargo */
		reliability_decay:              5;
		refittable_cargo_classes:       bitmask(CC_PASSENGERS);
		refit_cost:                     0;
		default_cargo_type:             PASS;
		ai_special_flag:                AI_FLAG_PASSENGER;
		cargo_capacity:                 1;							// 
		loading_speed:                  50;							
		cargo_age_period:               278; 						// 1.5 times normal for this expensive long-distance train
		/* Stats */
		speed:                          241 km/h;					// Operational Top Speed
		power:                          550 * 4 * 6 hp;					// 550 hp (or 410 kW) per motor x 4 motors per car x 6 motorised cars
		weight:                         58 * 12 tons;					// 58t (per JPS) x 12 cars
		tractive_effort_coefficient:    0.3;
		air_drag_coefficient:			0;
	}
	graphics {
		/* Menu */
		additional_text:                string(STR_DESC_E1_SERIES);
		cargo_subtype_text:             sw_e1_series_subtype_text;
		can_attach_wagon:				sw_e1_series_attach_vehid;
		start_stop:						sw_e1_series_stop_start;
		purchase_weight:                58;
        purchase_power:                 550 * 4;
		/* Graphics */
		default:                        sw_e1_series_graphics;
		purchase:                       sw_e1_series_year_dep_purchase;
		articulated_part:               sw_e1_series_articulated_part;
		visual_effect_and_powered:      sw_visual_effect_and_powered;
        colour_mapping:                 return base_sprite_2cc + CB_RESULT_COLOUR_MAPPING_ADD_CC;
		/* Stats */
		length:                         sw_param_length;
		power:							NumberCarsInConsist() / 2 * 550 * 4;	// 410 kW
		weight:							NumberCarsInConsist() * 58;
		cargo_capacity:                 34 * CapacityFactor();										// 1235 capacity / (12 cars * 3 parts) is approx 35						
		loading_speed:					34 * CapacityFactor() / param_loading_2D;					// Capacity divided by door loading factor
		cargo_age_period:				param_decay_express;
		cost_factor:                    128;
		running_cost_factor:            (295 + 122 * NumberCarsInConsist() ) * RunningCostFactor();
		purchase_running_cost_factor:   295 + 122 * NumberCarsInConsist();
	}
	/*Multiple Unit Car*/
	
      livery_override(mu_car_full){
        default:                        sw_e1_series_graphics;
        colour_mapping:                 return base_sprite_2cc + CB_RESULT_COLOUR_MAPPING_ADD_CC;
        cargo_capacity:                 34 * CapacityFactor();
        cargo_age_period:				param_decay_express;
        loading_speed:					34 * CapacityFactor() / param_loading_2D;
		articulated_part:				sw_mucar_full_articulated_part;
		length:							sw_param_length;
		//power:						// Apply power in graphics block to calculate power based on number of motorised cars correctly
		//weight:						// Apply weight to graphics block to calculate Max T.E. correctly
        //running_cost_factor:            sw_e1_series_running_costs;
      }
}
# 1 "src/trains/e1_series/e1_series.pnml" 2
# 1 "JPplusShinkansen.pnml" 4
# 1 "src/trains/e2_series/e2_series.pnml" 1

# 1 "src/trains/e2_series/pnml/e2_series_menu.pnml" 1
/* SUBTYPES */

    switch(FEAT_TRAINS, SELF, sw_e2_series_subtype_text, cargo_subtype) {
        0: return string(LV_YEAR_DEP_LIVERY);
        1: return string(LV_E2_SERIES_RED);
        2: return string(LV_E2_SERIES_PINK);
        3: return string(LV_E2_SERIES_200);
        4: return string(LV_E2_SERIES_2CC);
        return CB_RESULT_NO_TEXT;
        }

/* Purchase Menu */
    spriteset (ss_e2_series_buy_red_12,	        	            "src/trains/dummy/purchase.png") {template_purchase(0, 0)}
    spriteset (ss_e2_series_buy_red_10,	        	            "src/trains/dummy/purchase.png") {template_purchase(0, 0)}
    alternative_sprites(ss_e2_series_buy_red_12,                ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/buy_red.png") {template_purchase(0, 0)}
    alternative_sprites(ss_e2_series_buy_red_10,                ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/buy_red.png") {template_purchase(0, 0)}

    spriteset (ss_e2_series_buy_pink_12,	        	        "src/trains/dummy/purchase.png") {template_purchase(0, 0)}
    spriteset (ss_e2_series_buy_pink_10,	        	        "src/trains/dummy/purchase.png") {template_purchase(0, 0)}
    alternative_sprites(ss_e2_series_buy_pink_12,               ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/buy_pink.png") {template_purchase(0, 0)}
    alternative_sprites(ss_e2_series_buy_pink_10,               ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/buy_pink.png") {template_purchase(0, 0)}

        switch (FEAT_TRAINS, SELF, ss_e2_series_buy_red, param_spritelength) {
			1: ss_e2_series_buy_red_10;						    // Length 10
			ss_e2_series_buy_red_12;						    // Length 12
		}

		switch (FEAT_TRAINS, SELF, ss_e2_series_buy_pink, param_spritelength) {
			1: ss_e2_series_buy_pink_10;					    // Length 10
			ss_e2_series_buy_pink_12;						    // Length 12
		}

        switch(FEAT_TRAINS, SELF, sw_e2_series_buy, build_year) {
            0..2001: ss_e2_series_buy_red;
            2002..9999: ss_e2_series_buy_pink;
            ss_e2_series_buy_red;
        }
# 1 "src/trains/e2_series/e2_series.pnml" 2
# 1 "src/trains/e2_series/pnml/sprites/e2_series_cab01.pnml" 1
/* cab01 */

// FORWARDS

// E2 Series Red Stripe
spriteset(ss_e2_series_cab01f_red_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e2_series_cab01f_red_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e2_series_cab01f_red_12,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/red_stripe.png") {template_12_standard(1,1)}
alternative_sprites(ss_e2_series_cab01f_red_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/10/red_stripe.png") {template_10_standard(1,1)}		

switch (FEAT_TRAINS, SELF, sw_e2_series_cab01f_red, param_spritelength) {
	1: ss_e2_series_cab01f_red_10;				            // Length 10
	ss_e2_series_cab01f_red_12;				                // Length 12
}

// E2 Series Pink Stripe
spriteset(ss_e2_series_cab01f_pink_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e2_series_cab01f_pink_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e2_series_cab01f_pink_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/pink_stripe.png") {template_12_standard(1,1)}
alternative_sprites(ss_e2_series_cab01f_pink_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/10/pink_stripe.png") {template_10_standard(1,1)}		

switch (FEAT_TRAINS, SELF, sw_e2_series_cab01f_pink, param_spritelength) {
	1: ss_e2_series_cab01f_pink_10;				            // Length 10
	ss_e2_series_cab01f_pink_12;				            // Length 12
}

// E2 Series 200 Series Livery
spriteset(ss_e2_series_cab01f_200_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e2_series_cab01f_200_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e2_series_cab01f_200_12,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/200_series_livery.png") {template_12_standard(1,81)}
alternative_sprites(ss_e2_series_cab01f_200_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/10/200_series_livery.png") {template_10_standard(1,81)}		

switch (FEAT_TRAINS, SELF, sw_e2_series_cab01f_200, param_spritelength) {
	1: ss_e2_series_cab01f_200_10;				            // Length 10
	ss_e2_series_cab01f_200_12;				                // Length 12
}

// E2 Series 2cc
spriteset(ss_e2_series_cab01f_2cc_12,             	        "src/trains/e2_series/12/e2_2cc.png") {template_12_standard(1,1)}
spriteset(ss_e2_series_cab01f_2cc_10,             	        "src/trains/e2_series/10/e2_2cc.png") {template_10_standard(1,1)}

switch (FEAT_TRAINS, SELF, sw_e2_series_cab01f_2cc, param_spritelength) {
	1: ss_e2_series_cab01f_2cc_10;				            // Length 10
	ss_e2_series_cab01f_2cc_12;					            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, SELF, sw_e2_series_cab01f_year_dep_livery, build_year) {
        0..2003: sw_e2_series_cab01f_red;
        sw_e2_series_cab01f_pink;
    }

switch(FEAT_TRAINS, PARENT, sw_e2_series_cab01f, cargo_subtype) {
        1: sw_e2_series_cab01f_red;
        2: sw_e2_series_cab01f_pink;
        3: sw_e2_series_cab01f_200;
        4: sw_e2_series_cab01f_2cc;
        sw_e2_series_cab01f_year_dep_livery;
    }

// BACKWARDS

// E2 Series Red Stripe
spriteset(ss_e2_series_cab01b_red_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e2_series_cab01b_red_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e2_series_cab01b_red_12,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/red_stripe.png") {template_12_reversed(1,41)}
alternative_sprites(ss_e2_series_cab01b_red_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/10/red_stripe.png") {template_10_reversed(1,41)}		

switch (FEAT_TRAINS, SELF, sw_e2_series_cab01b_red, param_spritelength) {
	1: ss_e2_series_cab01b_red_10;				            // Length 10
	ss_e2_series_cab01b_red_12;				                // Length 12
}

// E2 Series Pink Stripe
spriteset(ss_e2_series_cab01b_pink_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e2_series_cab01b_pink_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e2_series_cab01b_pink_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/pink_stripe.png") {template_12_reversed(1,41)}
alternative_sprites(ss_e2_series_cab01b_pink_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/10/pink_stripe.png") {template_10_reversed(1,41)}		

switch (FEAT_TRAINS, SELF, sw_e2_series_cab01b_pink, param_spritelength) {
	1: ss_e2_series_cab01b_pink_10;				            // Length 10
	ss_e2_series_cab01b_pink_12;				            // Length 12
}

// E2 Series 200 Series Livery
spriteset(ss_e2_series_cab01b_200_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e2_series_cab01b_200_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e2_series_cab01b_200_12,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/200_series_livery.png") {template_12_reversed(1,121)}
alternative_sprites(ss_e2_series_cab01b_200_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/10/200_series_livery.png") {template_10_reversed(1,121)}		

switch (FEAT_TRAINS, SELF, sw_e2_series_cab01b_200, param_spritelength) {
	1: ss_e2_series_cab01b_200_10;				            // Length 10
	ss_e2_series_cab01b_200_12;				                // Length 12
}

// E2 Series 2cc
spriteset(ss_e2_series_cab01b_2cc_12,             	        "src/trains/e2_series/12/e2_2cc.png") {template_12_reversed(1,41)}
spriteset(ss_e2_series_cab01b_2cc_10,             	        "src/trains/e2_series/10/e2_2cc.png") {template_10_reversed(1,41)}

switch (FEAT_TRAINS, SELF, sw_e2_series_cab01b_2cc, param_spritelength) {
	1: ss_e2_series_cab01b_2cc_10;				 	        // Length 10
	ss_e2_series_cab01b_2cc_12;					            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, SELF, sw_e2_series_cab01b_year_dep_livery, build_year) {
        0..2003: sw_e2_series_cab01b_red;
        sw_e2_series_cab01b_pink;
    }

switch(FEAT_TRAINS, PARENT, sw_e2_series_cab01b, cargo_subtype) {
        1: sw_e2_series_cab01b_red;
        2: sw_e2_series_cab01b_pink;
        3: sw_e2_series_cab01b_200;
        4: sw_e2_series_cab01b_2cc;
        sw_e2_series_cab01b_year_dep_livery;
    }
# 1 "src/trains/e2_series/e2_series.pnml" 2
# 1 "src/trains/e2_series/pnml/sprites/e2_series_cab02.pnml" 1
/* cab02 */

// FORWARDS

// E2 Series Red Stripe
spriteset(ss_e2_series_cab02f_red_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e2_series_cab02f_red_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e2_series_cab02f_red_12,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/red_stripe.png") {template_12_cab_rev_standard(1,41)}
alternative_sprites(ss_e2_series_cab02f_red_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/10/red_stripe.png") {template_10_cab_rev_standard(1,41)}		

switch (FEAT_TRAINS, SELF, sw_e2_series_cab02f_red, param_spritelength) {
	1: ss_e2_series_cab02f_red_10;				            // Length 10
	ss_e2_series_cab02f_red_12;				                // Length 12
}

// E2 Series Pink Stripe
spriteset(ss_e2_series_cab02f_pink_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e2_series_cab02f_pink_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e2_series_cab02f_pink_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/pink_stripe.png") {template_12_cab_rev_standard(1,41)}
alternative_sprites(ss_e2_series_cab02f_pink_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/10/pink_stripe.png") {template_10_cab_rev_standard(1,41)}		

switch (FEAT_TRAINS, SELF, sw_e2_series_cab02f_pink, param_spritelength) {
	1: ss_e2_series_cab02f_pink_10;				            // Length 10
	ss_e2_series_cab02f_pink_12;				            // Length 12
}

// E2 Series 200 Series Livery
spriteset(ss_e2_series_cab02f_200_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e2_series_cab02f_200_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e2_series_cab02f_200_12,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/200_series_livery.png") {template_12_cab_rev_standard(1,41)}
alternative_sprites(ss_e2_series_cab02f_200_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/10/200_series_livery.png") {template_10_cab_rev_standard(1,41)}		

switch (FEAT_TRAINS, SELF, sw_e2_series_cab02f_200, param_spritelength) {
	1: ss_e2_series_cab02f_200_10;				            // Length 10
	ss_e2_series_cab02f_200_12;				                // Length 12
}

// E2 Series 2cc
spriteset(ss_e2_series_cab02f_2cc_12,             	        "src/trains/e2_series/12/e2_2cc.png") {template_12_cab_rev_standard(1,41)}
spriteset(ss_e2_series_cab02f_2cc_10,             	        "src/trains/e2_series/10/e2_2cc.png") {template_10_cab_rev_standard(1,41)}

switch (FEAT_TRAINS, SELF, sw_e2_series_cab02f_2cc, param_spritelength) {
	1: ss_e2_series_cab02f_2cc_10;				            // Length 10
	ss_e2_series_cab02f_2cc_12;					            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, SELF, sw_e2_series_cab02f_year_dep_livery, build_year) {
        0..2003: sw_e2_series_cab02f_red;
        sw_e2_series_cab02f_pink;
    }

switch(FEAT_TRAINS, PARENT, sw_e2_series_cab02f, cargo_subtype) {
        1: sw_e2_series_cab02f_red;
        2: sw_e2_series_cab02f_pink;
        3: sw_e2_series_cab02f_200;
        4: sw_e2_series_cab02f_2cc;
        sw_e2_series_cab02f_year_dep_livery;
    }

// BACKWARDS

// E2 Series Red Stripe
spriteset(ss_e2_series_cab02b_red_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e2_series_cab02b_red_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e2_series_cab02b_red_12,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/red_stripe.png") {template_12_cab_rev_reversed(1,1)}
alternative_sprites(ss_e2_series_cab02b_red_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/10/red_stripe.png") {template_10_cab_rev_reversed(1,1)}		

switch (FEAT_TRAINS, SELF, sw_e2_series_cab02b_red, param_spritelength) {
	1: ss_e2_series_cab02b_red_10;				            // Length 10
	ss_e2_series_cab02b_red_12;				                // Length 12
}

// E2 Series Pink Stripe
spriteset(ss_e2_series_cab02b_pink_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e2_series_cab02b_pink_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e2_series_cab02b_pink_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/pink_stripe.png") {template_12_cab_rev_reversed(1,1)}
alternative_sprites(ss_e2_series_cab02b_pink_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/10/pink_stripe.png") {template_10_cab_rev_reversed(1,1)}		

switch (FEAT_TRAINS, SELF, sw_e2_series_cab02b_pink, param_spritelength) {
	1: ss_e2_series_cab02b_pink_10;				            // Length 10
	ss_e2_series_cab02b_pink_12;				            // Length 12
}

// E2 Series 200 Series Livery
spriteset(ss_e2_series_cab02b_200_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e2_series_cab02b_200_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e2_series_cab02b_200_12,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/200_series_livery.png") {template_12_cab_rev_reversed(1,1)}
alternative_sprites(ss_e2_series_cab02b_200_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/10/200_series_livery.png") {template_10_cab_rev_reversed(1,1)}		

switch (FEAT_TRAINS, SELF, sw_e2_series_cab02b_200, param_spritelength) {
	1: ss_e2_series_cab02b_200_10;				            // Length 10
	ss_e2_series_cab02b_200_12;				                // Length 12
}

// E2 Series 2cc
spriteset(ss_e2_series_cab02b_2cc_12,             	        "src/trains/e2_series/12/e2_2cc.png") {template_12_cab_rev_reversed(1,1)}
spriteset(ss_e2_series_cab02b_2cc_10,             	        "src/trains/e2_series/10/e2_2cc.png") {template_10_cab_rev_reversed(1,1)}

switch (FEAT_TRAINS, SELF, sw_e2_series_cab02b_2cc, param_spritelength) {
	1: ss_e2_series_cab02b_2cc_10;				 	        // Length 10
	ss_e2_series_cab02b_2cc_12;					            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, SELF, sw_e2_series_cab02b_year_dep_livery, build_year) {
        0..2003: sw_e2_series_cab02b_red;
        sw_e2_series_cab02b_pink;
    }

switch(FEAT_TRAINS, PARENT, sw_e2_series_cab02b, cargo_subtype) {
        1: sw_e2_series_cab02b_red;
        2: sw_e2_series_cab02b_pink;
        3: sw_e2_series_cab02b_200;
        4: sw_e2_series_cab02b_2cc;
        sw_e2_series_cab02b_year_dep_livery;
    }
# 1 "src/trains/e2_series/e2_series.pnml" 2
# 1 "src/trains/e2_series/pnml/sprites/e2_series_coac2.pnml" 1
/* coac2 */

// FORWARDS

// E2 Series Red Stripe
spriteset(ss_e2_series_coac2f_red_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e2_series_coac2f_red_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e2_series_coac2f_red_12,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/red_stripe.png") {template_12_standard(1,121)}
alternative_sprites(ss_e2_series_coac2f_red_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/10/red_stripe.png") {template_10_standard(1,121)}		

switch (FEAT_TRAINS, SELF, sw_e2_series_coac2f_red, param_spritelength) {
	1: ss_e2_series_coac2f_red_10;				            // Length 10
	ss_e2_series_coac2f_red_12;				                // Length 12
}

// E2 Series Pink Stripe
spriteset(ss_e2_series_coac2f_pink_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e2_series_coac2f_pink_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e2_series_coac2f_pink_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/pink_stripe.png") {template_12_standard(1,121)}
alternative_sprites(ss_e2_series_coac2f_pink_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/10/pink_stripe.png") {template_10_standard(1,121)}		

switch (FEAT_TRAINS, SELF, sw_e2_series_coac2f_pink, param_spritelength) {
	1: ss_e2_series_coac2f_pink_10;				            // Length 10
	ss_e2_series_coac2f_pink_12;				            // Length 12
}

// E2 Series 200 Series Livery
spriteset(ss_e2_series_coac2f_200_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e2_series_coac2f_200_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e2_series_coac2f_200_12,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/200_series_livery.png") {template_12_standard(1,161)}
alternative_sprites(ss_e2_series_coac2f_200_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/10/200_series_livery.png") {template_10_standard(1,161)}		

switch (FEAT_TRAINS, SELF, sw_e2_series_coac2f_200, param_spritelength) {
	1: ss_e2_series_coac2f_200_10;				            // Length 10
	ss_e2_series_coac2f_200_12;				                // Length 12
}

// E2 Series 2cc
spriteset(ss_e2_series_coac2f_2cc_12,             	        "src/trains/e2_series/12/e2_2cc.png") {template_12_standard(1,121)}
spriteset(ss_e2_series_coac2f_2cc_10,             	        "src/trains/e2_series/10/e2_2cc.png") {template_10_standard(1,121)}

switch (FEAT_TRAINS, SELF, sw_e2_series_coac2f_2cc, param_spritelength) {
	1: ss_e2_series_coac2f_2cc_10;				            // Length 10
	ss_e2_series_coac2f_2cc_12;					            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, SELF, sw_e2_series_coac2f_year_dep_livery, build_year) {
        0..2003: sw_e2_series_coac2f_red;
        sw_e2_series_coac2f_pink;
    }

switch(FEAT_TRAINS, PARENT, sw_e2_series_coac2f, cargo_subtype) {
        1: sw_e2_series_coac2f_red;
        2: sw_e2_series_coac2f_pink;
        3: sw_e2_series_coac2f_200;
        4: sw_e2_series_coac2f_2cc;
        sw_e2_series_coac2f_year_dep_livery;
    }

// BACKWARDS

// E2 Series Red Stripe
spriteset(ss_e2_series_coac2b_red_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e2_series_coac2b_red_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e2_series_coac2b_red_12,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/red_stripe.png") {template_12_reversed(1,121)}
alternative_sprites(ss_e2_series_coac2b_red_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/10/red_stripe.png") {template_10_reversed(1,121)}		

switch (FEAT_TRAINS, SELF, sw_e2_series_coac2b_red, param_spritelength) {
	1: ss_e2_series_coac2b_red_10;				            // Length 10
	ss_e2_series_coac2b_red_12;				                // Length 12
}

// E2 Series Pink Stripe
spriteset(ss_e2_series_coac2b_pink_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e2_series_coac2b_pink_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e2_series_coac2b_pink_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/pink_stripe.png") {template_12_reversed(1,121)}
alternative_sprites(ss_e2_series_coac2b_pink_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/10/pink_stripe.png") {template_10_reversed(1,121)}		

switch (FEAT_TRAINS, SELF, sw_e2_series_coac2b_pink, param_spritelength) {
	1: ss_e2_series_coac2b_pink_10;				            // Length 10
	ss_e2_series_coac2b_pink_12;				            // Length 12
}

// E2 Series 200 Series Livery
spriteset(ss_e2_series_coac2b_200_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e2_series_coac2b_200_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e2_series_coac2b_200_12,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/200_series_livery.png") {template_12_reversed(1,161)}
alternative_sprites(ss_e2_series_coac2b_200_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/10/200_series_livery.png") {template_10_reversed(1,161)}		

switch (FEAT_TRAINS, SELF, sw_e2_series_coac2b_200, param_spritelength) {
	1: ss_e2_series_coac2b_200_10;				            // Length 10
	ss_e2_series_coac2b_200_12;				                // Length 12
}

// E2 Series 2cc
spriteset(ss_e2_series_coac2b_2cc_12,             	        "src/trains/e2_series/12/e2_2cc.png") {template_12_reversed(1,121)}
spriteset(ss_e2_series_coac2b_2cc_10,             	        "src/trains/e2_series/10/e2_2cc.png") {template_10_reversed(1,121)}

switch (FEAT_TRAINS, SELF, sw_e2_series_coac2b_2cc, param_spritelength) {
	1: ss_e2_series_coac2b_2cc_10;				 	        // Length 10
	ss_e2_series_coac2b_2cc_12;					            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, SELF, sw_e2_series_coac2b_year_dep_livery, build_year) {
        0..2003: sw_e2_series_coac2b_red;
        sw_e2_series_coac2b_pink;
    }

switch(FEAT_TRAINS, PARENT, sw_e2_series_coac2b, cargo_subtype) {
        1: sw_e2_series_coac2b_red;
        2: sw_e2_series_coac2b_pink;
        3: sw_e2_series_coac2b_200;
        4: sw_e2_series_coac2b_2cc;
        sw_e2_series_coac2b_year_dep_livery;
    }
# 1 "src/trains/e2_series/e2_series.pnml" 2
# 1 "src/trains/e2_series/pnml/sprites/e2_series_coac3.pnml" 1
/* coac3 */

// FORWARDS

// E2 Series Red Stripe
spriteset(ss_e2_series_coac3f_red_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e2_series_coac3f_red_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e2_series_coac3f_red_12,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/red_stripe.png") {template_12_standard(1,121)}
alternative_sprites(ss_e2_series_coac3f_red_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/10/red_stripe.png") {template_10_standard(1,121)}		

switch (FEAT_TRAINS, SELF, sw_e2_series_coac3f_red, param_spritelength) {
	1: ss_e2_series_coac3f_red_10;				            // Length 10
	ss_e2_series_coac3f_red_12;				                // Length 12
}

// E2 Series Pink Stripe
spriteset(ss_e2_series_coac3f_pink_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e2_series_coac3f_pink_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e2_series_coac3f_pink_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/pink_stripe.png") {template_12_standard(1,121)}
alternative_sprites(ss_e2_series_coac3f_pink_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/10/pink_stripe.png") {template_10_standard(1,121)}		

switch (FEAT_TRAINS, SELF, sw_e2_series_coac3f_pink, param_spritelength) {
	1: ss_e2_series_coac3f_pink_10;				            // Length 10
	ss_e2_series_coac3f_pink_12;				            // Length 12
}

// E2 Series 200 Series Livery
spriteset(ss_e2_series_coac3f_200_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e2_series_coac3f_200_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e2_series_coac3f_200_12,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/200_series_livery.png") {template_12_standard(1,201)}
alternative_sprites(ss_e2_series_coac3f_200_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/10/200_series_livery.png") {template_10_standard(1,201)}		

switch (FEAT_TRAINS, SELF, sw_e2_series_coac3f_200, param_spritelength) {
	1: ss_e2_series_coac3f_200_10;				            // Length 10
	ss_e2_series_coac3f_200_12;				                // Length 12
}

// E2 Series 2cc
spriteset(ss_e2_series_coac3f_2cc_12,             	        "src/trains/e2_series/12/e2_2cc.png") {template_12_standard(1,121)}
spriteset(ss_e2_series_coac3f_2cc_10,             	        "src/trains/e2_series/10/e2_2cc.png") {template_10_standard(1,121)}

switch (FEAT_TRAINS, SELF, sw_e2_series_coac3f_2cc, param_spritelength) {
	1: ss_e2_series_coac3f_2cc_10;				            // Length 10
	ss_e2_series_coac3f_2cc_12;					            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, SELF, sw_e2_series_coac3f_year_dep_livery, build_year) {
        0..2003: sw_e2_series_coac3f_red;
        sw_e2_series_coac3f_pink;
    }

switch(FEAT_TRAINS, PARENT, sw_e2_series_coac3f, cargo_subtype) {
        1: sw_e2_series_coac3f_red;
        2: sw_e2_series_coac3f_pink;
        3: sw_e2_series_coac3f_200;
        4: sw_e2_series_coac3f_2cc;
        sw_e2_series_coac3f_year_dep_livery;
    }

// BACKWARDS

// E2 Series Red Stripe
spriteset(ss_e2_series_coac3b_red_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e2_series_coac3b_red_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e2_series_coac3b_red_12,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/red_stripe.png") {template_12_reversed(1,121)}
alternative_sprites(ss_e2_series_coac3b_red_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/10/red_stripe.png") {template_10_reversed(1,121)}		

switch (FEAT_TRAINS, SELF, sw_e2_series_coac3b_red, param_spritelength) {
	1: ss_e2_series_coac3b_red_10;				            // Length 10
	ss_e2_series_coac3b_red_12;				                // Length 12
}

// E2 Series Pink Stripe
spriteset(ss_e2_series_coac3b_pink_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e2_series_coac3b_pink_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e2_series_coac3b_pink_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/pink_stripe.png") {template_12_reversed(1,121)}
alternative_sprites(ss_e2_series_coac3b_pink_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/10/pink_stripe.png") {template_10_reversed(1,121)}		

switch (FEAT_TRAINS, SELF, sw_e2_series_coac3b_pink, param_spritelength) {
	1: ss_e2_series_coac3b_pink_10;				            // Length 10
	ss_e2_series_coac3b_pink_12;				            // Length 12
}

// E2 Series 200 Series Livery
spriteset(ss_e2_series_coac3b_200_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e2_series_coac3b_200_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e2_series_coac3b_200_12,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/200_series_livery.png") {template_12_reversed(1,201)}
alternative_sprites(ss_e2_series_coac3b_200_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/10/200_series_livery.png") {template_10_reversed(1,201)}		

switch (FEAT_TRAINS, SELF, sw_e2_series_coac3b_200, param_spritelength) {
	1: ss_e2_series_coac3b_200_10;				            // Length 10
	ss_e2_series_coac3b_200_12;				                // Length 12
}

// E2 Series 2cc
spriteset(ss_e2_series_coac3b_2cc_12,             	        "src/trains/e2_series/12/e2_2cc.png") {template_12_reversed(1,121)}
spriteset(ss_e2_series_coac3b_2cc_10,             	        "src/trains/e2_series/10/e2_2cc.png") {template_10_reversed(1,121)}

switch (FEAT_TRAINS, SELF, sw_e2_series_coac3b_2cc, param_spritelength) {
	1: ss_e2_series_coac3b_2cc_10;				 	        // Length 10
	ss_e2_series_coac3b_2cc_12;					            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, SELF, sw_e2_series_coac3b_year_dep_livery, build_year) {
        0..2003: sw_e2_series_coac3b_red;
        sw_e2_series_coac3b_pink;
    }

switch(FEAT_TRAINS, PARENT, sw_e2_series_coac3b, cargo_subtype) {
        1: sw_e2_series_coac3b_red;
        2: sw_e2_series_coac3b_pink;
        3: sw_e2_series_coac3b_200;
        4: sw_e2_series_coac3b_2cc;
        sw_e2_series_coac3b_year_dep_livery;
    }
# 1 "src/trains/e2_series/e2_series.pnml" 2
# 1 "src/trains/e2_series/pnml/sprites/e2_series_coac4.pnml" 1
/* coac4 */

// FORWARDS

// E2 Series Red Stripe
spriteset(ss_e2_series_coac4f_red_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e2_series_coac4f_red_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e2_series_coac4f_red_12,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/red_stripe.png") {template_12_standard(1,121)}
alternative_sprites(ss_e2_series_coac4f_red_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/10/red_stripe.png") {template_10_standard(1,121)}		

switch (FEAT_TRAINS, SELF, sw_e2_series_coac4f_red, param_spritelength) {
	1: ss_e2_series_coac4f_red_10;				            // Length 10
	ss_e2_series_coac4f_red_12;				                // Length 12
}

// E2 Series Pink Stripe
spriteset(ss_e2_series_coac4f_pink_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e2_series_coac4f_pink_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e2_series_coac4f_pink_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/pink_stripe.png") {template_12_standard(1,121)}
alternative_sprites(ss_e2_series_coac4f_pink_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/10/pink_stripe.png") {template_10_standard(1,121)}		

switch (FEAT_TRAINS, SELF, sw_e2_series_coac4f_pink, param_spritelength) {
	1: ss_e2_series_coac4f_pink_10;				            // Length 10
	ss_e2_series_coac4f_pink_12;				            // Length 12
}

// E2 Series 200 Series Livery
spriteset(ss_e2_series_coac4f_200_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e2_series_coac4f_200_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e2_series_coac4f_200_12,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/200_series_livery.png") {template_12_standard(1,241)}
alternative_sprites(ss_e2_series_coac4f_200_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/10/200_series_livery.png") {template_10_standard(1,241)}		

switch (FEAT_TRAINS, SELF, sw_e2_series_coac4f_200, param_spritelength) {
	1: ss_e2_series_coac4f_200_10;				            // Length 10
	ss_e2_series_coac4f_200_12;				                // Length 12
}

// E2 Series 2cc
spriteset(ss_e2_series_coac4f_2cc_12,             	        "src/trains/e2_series/12/e2_2cc.png") {template_12_standard(1,121)}
spriteset(ss_e2_series_coac4f_2cc_10,             	        "src/trains/e2_series/10/e2_2cc.png") {template_10_standard(1,121)}

switch (FEAT_TRAINS, SELF, sw_e2_series_coac4f_2cc, param_spritelength) {
	1: ss_e2_series_coac4f_2cc_10;				            // Length 10
	ss_e2_series_coac4f_2cc_12;					            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, SELF, sw_e2_series_coac4f_year_dep_livery, build_year) {
        0..2003: sw_e2_series_coac4f_red;
        sw_e2_series_coac4f_pink;
    }

switch(FEAT_TRAINS, PARENT, sw_e2_series_coac4f, cargo_subtype) {
        1: sw_e2_series_coac4f_red;
        2: sw_e2_series_coac4f_pink;
        3: sw_e2_series_coac4f_200;
        4: sw_e2_series_coac4f_2cc;
        sw_e2_series_coac4f_year_dep_livery;
    }

// BACKWARDS

// E2 Series Red Stripe
spriteset(ss_e2_series_coac4b_red_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e2_series_coac4b_red_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e2_series_coac4b_red_12,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/red_stripe.png") {template_12_reversed(1,121)}
alternative_sprites(ss_e2_series_coac4b_red_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/10/red_stripe.png") {template_10_reversed(1,121)}		

switch (FEAT_TRAINS, SELF, sw_e2_series_coac4b_red, param_spritelength) {
	1: ss_e2_series_coac4b_red_10;				            // Length 10
	ss_e2_series_coac4b_red_12;				                // Length 12
}

// E2 Series Pink Stripe
spriteset(ss_e2_series_coac4b_pink_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e2_series_coac4b_pink_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e2_series_coac4b_pink_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/pink_stripe.png") {template_12_reversed(1,121)}
alternative_sprites(ss_e2_series_coac4b_pink_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/10/pink_stripe.png") {template_10_reversed(1,121)}		

switch (FEAT_TRAINS, SELF, sw_e2_series_coac4b_pink, param_spritelength) {
	1: ss_e2_series_coac4b_pink_10;				            // Length 10
	ss_e2_series_coac4b_pink_12;				            // Length 12
}

// E2 Series 200 Series Livery
spriteset(ss_e2_series_coac4b_200_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e2_series_coac4b_200_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e2_series_coac4b_200_12,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/200_series_livery.png") {template_12_reversed(1,241)}
alternative_sprites(ss_e2_series_coac4b_200_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/10/200_series_livery.png") {template_10_reversed(1,241)}		

switch (FEAT_TRAINS, SELF, sw_e2_series_coac4b_200, param_spritelength) {
	1: ss_e2_series_coac4b_200_10;				            // Length 10
	ss_e2_series_coac4b_200_12;				                // Length 12
}

// E2 Series 2cc
spriteset(ss_e2_series_coac4b_2cc_12,             	        "src/trains/e2_series/12/e2_2cc.png") {template_12_reversed(1,121)}
spriteset(ss_e2_series_coac4b_2cc_10,             	        "src/trains/e2_series/10/e2_2cc.png") {template_10_reversed(1,121)}

switch (FEAT_TRAINS, SELF, sw_e2_series_coac4b_2cc, param_spritelength) {
	1: ss_e2_series_coac4b_2cc_10;				 	        // Length 10
	ss_e2_series_coac4b_2cc_12;					            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, SELF, sw_e2_series_coac4b_year_dep_livery, build_year) {
        0..2003: sw_e2_series_coac4b_red;
        sw_e2_series_coac4b_pink;
    }

switch(FEAT_TRAINS, PARENT, sw_e2_series_coac4b, cargo_subtype) {
        1: sw_e2_series_coac4b_red;
        2: sw_e2_series_coac4b_pink;
        3: sw_e2_series_coac4b_200;
        4: sw_e2_series_coac4b_2cc;
        sw_e2_series_coac4b_year_dep_livery;
    }
# 1 "src/trains/e2_series/e2_series.pnml" 2
# 1 "src/trains/e2_series/pnml/sprites/e2_series_coac6.pnml" 1
/* coac6 */

// FORWARDS

// E2 Series Red Stripe
spriteset(ss_e2_series_coac6f_red_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e2_series_coac6f_red_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e2_series_coac6f_red_12,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/red_stripe.png") {template_12_standard(1,121)}
alternative_sprites(ss_e2_series_coac6f_red_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/10/red_stripe.png") {template_10_standard(1,121)}		

switch (FEAT_TRAINS, SELF, sw_e2_series_coac6f_red, param_spritelength) {
	1: ss_e2_series_coac6f_red_10;				            // Length 10
	ss_e2_series_coac6f_red_12;				                // Length 12
}

// E2 Series Pink Stripe
spriteset(ss_e2_series_coac6f_pink_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e2_series_coac6f_pink_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e2_series_coac6f_pink_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/pink_stripe.png") {template_12_standard(1,121)}
alternative_sprites(ss_e2_series_coac6f_pink_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/10/pink_stripe.png") {template_10_standard(1,121)}		

switch (FEAT_TRAINS, SELF, sw_e2_series_coac6f_pink, param_spritelength) {
	1: ss_e2_series_coac6f_pink_10;				            // Length 10
	ss_e2_series_coac6f_pink_12;				            // Length 12
}

// E2 Series 200 Series Livery
spriteset(ss_e2_series_coac6f_200_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e2_series_coac6f_200_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e2_series_coac6f_200_12,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/200_series_livery.png") {template_12_standard(1,321)}
alternative_sprites(ss_e2_series_coac6f_200_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/10/200_series_livery.png") {template_10_standard(1,321)}		

switch (FEAT_TRAINS, SELF, sw_e2_series_coac6f_200, param_spritelength) {
	1: ss_e2_series_coac6f_200_10;				            // Length 10
	ss_e2_series_coac6f_200_12;				                // Length 12
}

// E2 Series 2cc
spriteset(ss_e2_series_coac6f_2cc_12,             	        "src/trains/e2_series/12/e2_2cc.png") {template_12_standard(1,121)}
spriteset(ss_e2_series_coac6f_2cc_10,             	        "src/trains/e2_series/10/e2_2cc.png") {template_10_standard(1,121)}

switch (FEAT_TRAINS, SELF, sw_e2_series_coac6f_2cc, param_spritelength) {
	1: ss_e2_series_coac6f_2cc_10;				            // Length 10
	ss_e2_series_coac6f_2cc_12;					            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, SELF, sw_e2_series_coac6f_year_dep_livery, build_year) {
        0..2003: sw_e2_series_coac6f_red;
        sw_e2_series_coac6f_pink;
    }

switch(FEAT_TRAINS, PARENT, sw_e2_series_coac6f, cargo_subtype) {
        1: sw_e2_series_coac6f_red;
        2: sw_e2_series_coac6f_pink;
        3: sw_e2_series_coac6f_200;
        4: sw_e2_series_coac6f_2cc;
        sw_e2_series_coac6f_year_dep_livery;
    }

// BACKWARDS

// E2 Series Red Stripe
spriteset(ss_e2_series_coac6b_red_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e2_series_coac6b_red_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e2_series_coac6b_red_12,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/red_stripe.png") {template_12_reversed(1,121)}
alternative_sprites(ss_e2_series_coac6b_red_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/10/red_stripe.png") {template_10_reversed(1,121)}		

switch (FEAT_TRAINS, SELF, sw_e2_series_coac6b_red, param_spritelength) {
	1: ss_e2_series_coac6b_red_10;				            // Length 10
	ss_e2_series_coac6b_red_12;				                // Length 12
}

// E2 Series Pink Stripe
spriteset(ss_e2_series_coac6b_pink_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e2_series_coac6b_pink_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e2_series_coac6b_pink_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/pink_stripe.png") {template_12_reversed(1,121)}
alternative_sprites(ss_e2_series_coac6b_pink_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/10/pink_stripe.png") {template_10_reversed(1,121)}		

switch (FEAT_TRAINS, SELF, sw_e2_series_coac6b_pink, param_spritelength) {
	1: ss_e2_series_coac6b_pink_10;				            // Length 10
	ss_e2_series_coac6b_pink_12;				            // Length 12
}

// E2 Series 200 Series Livery
spriteset(ss_e2_series_coac6b_200_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e2_series_coac6b_200_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e2_series_coac6b_200_12,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/200_series_livery.png") {template_12_reversed(1,321)}
alternative_sprites(ss_e2_series_coac6b_200_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/10/200_series_livery.png") {template_10_reversed(1,321)}		

switch (FEAT_TRAINS, SELF, sw_e2_series_coac6b_200, param_spritelength) {
	1: ss_e2_series_coac6b_200_10;				            // Length 10
	ss_e2_series_coac6b_200_12;				                // Length 12
}

// E2 Series 2cc
spriteset(ss_e2_series_coac6b_2cc_12,             	        "src/trains/e2_series/12/e2_2cc.png") {template_12_reversed(1,121)}
spriteset(ss_e2_series_coac6b_2cc_10,             	        "src/trains/e2_series/10/e2_2cc.png") {template_10_reversed(1,121)}

switch (FEAT_TRAINS, SELF, sw_e2_series_coac6b_2cc, param_spritelength) {
	1: ss_e2_series_coac6b_2cc_10;				 	        // Length 10
	ss_e2_series_coac6b_2cc_12;					            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, SELF, sw_e2_series_coac6b_year_dep_livery, build_year) {
        0..2003: sw_e2_series_coac6b_red;
        sw_e2_series_coac6b_pink;
    }

switch(FEAT_TRAINS, PARENT, sw_e2_series_coac6b, cargo_subtype) {
        1: sw_e2_series_coac6b_red;
        2: sw_e2_series_coac6b_pink;
        3: sw_e2_series_coac6b_200;
        4: sw_e2_series_coac6b_2cc;
        sw_e2_series_coac6b_year_dep_livery;
    }
# 1 "src/trains/e2_series/e2_series.pnml" 2
# 1 "src/trains/e2_series/pnml/sprites/e2_series_panto.pnml" 1
/* panto */

// FORWARDS

// E2 Series Red Stripe
spriteset(ss_e2_series_pantof_red_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e2_series_pantof_red_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e2_series_pantof_red_12,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/red_stripe.png") {template_12_standard(1,81)}
alternative_sprites(ss_e2_series_pantof_red_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/10/red_stripe.png") {template_10_standard(1,81)}		

switch (FEAT_TRAINS, SELF, sw_e2_series_pantof_red, param_spritelength) {
	1: ss_e2_series_pantof_red_10;				            // Length 10
	ss_e2_series_pantof_red_12;				                // Length 12
}

// E2 Series Pink Stripe
spriteset(ss_e2_series_pantof_pink_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e2_series_pantof_pink_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e2_series_pantof_pink_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/pink_stripe.png") {template_12_standard(1,81)}
alternative_sprites(ss_e2_series_pantof_pink_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/10/pink_stripe.png") {template_10_standard(1,81)}		

switch (FEAT_TRAINS, SELF, sw_e2_series_pantof_pink, param_spritelength) {
	1: ss_e2_series_pantof_pink_10;				            // Length 10
	ss_e2_series_pantof_pink_12;				            // Length 12
}

// E2 Series 200 Series Livery
spriteset(ss_e2_series_pantof_200_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e2_series_pantof_200_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e2_series_pantof_200_12,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/200_series_livery.png") {template_12_standard(1,281)}
alternative_sprites(ss_e2_series_pantof_200_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/10/200_series_livery.png") {template_10_standard(1,281)}		

switch (FEAT_TRAINS, SELF, sw_e2_series_pantof_200, param_spritelength) {
	1: ss_e2_series_pantof_200_10;				            // Length 10
	ss_e2_series_pantof_200_12;				                // Length 12
}

// E2 Series 2cc
spriteset(ss_e2_series_pantof_2cc_12,             	        "src/trains/e2_series/12/e2_2cc.png") {template_12_standard(1,81)}
spriteset(ss_e2_series_pantof_2cc_10,             	        "src/trains/e2_series/10/e2_2cc.png") {template_10_standard(1,81)}

switch (FEAT_TRAINS, SELF, sw_e2_series_pantof_2cc, param_spritelength) {
	1: ss_e2_series_pantof_2cc_10;				            // Length 10
	ss_e2_series_pantof_2cc_12;					            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, SELF, sw_e2_series_pantof_year_dep_livery, build_year) {
        0..2003: sw_e2_series_pantof_red;
        sw_e2_series_pantof_pink;
    }

switch(FEAT_TRAINS, PARENT, sw_e2_series_pantof, cargo_subtype) {
        1: sw_e2_series_pantof_red;
        2: sw_e2_series_pantof_pink;
        3: sw_e2_series_pantof_200;
        4: sw_e2_series_pantof_2cc;
        sw_e2_series_pantof_year_dep_livery;
    }

// BACKWARDS

// E2 Series Red Stripe
spriteset(ss_e2_series_pantob_red_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e2_series_pantob_red_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e2_series_pantob_red_12,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/red_stripe.png") {template_12_reversed(1,81)}
alternative_sprites(ss_e2_series_pantob_red_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/10/red_stripe.png") {template_10_reversed(1,81)}		

switch (FEAT_TRAINS, SELF, sw_e2_series_pantob_red, param_spritelength) {
	1: ss_e2_series_pantob_red_10;				            // Length 10
	ss_e2_series_pantob_red_12;				                // Length 12
}

// E2 Series Pink Stripe
spriteset(ss_e2_series_pantob_pink_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e2_series_pantob_pink_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e2_series_pantob_pink_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/pink_stripe.png") {template_12_reversed(1,81)}
alternative_sprites(ss_e2_series_pantob_pink_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/10/pink_stripe.png") {template_10_reversed(1,81)}		

switch (FEAT_TRAINS, SELF, sw_e2_series_pantob_pink, param_spritelength) {
	1: ss_e2_series_pantob_pink_10;				            // Length 10
	ss_e2_series_pantob_pink_12;				            // Length 12
}

// E2 Series 200 Series Livery
spriteset(ss_e2_series_pantob_200_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e2_series_pantob_200_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e2_series_pantob_200_12,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/12/200_series_livery.png") {template_12_reversed(1,281)}
alternative_sprites(ss_e2_series_pantob_200_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e2_series/10/200_series_livery.png") {template_10_reversed(1,281)}		

switch (FEAT_TRAINS, SELF, sw_e2_series_pantob_200, param_spritelength) {
	1: ss_e2_series_pantob_200_10;				            // Length 10
	ss_e2_series_pantob_200_12;				                // Length 12
}

// E2 Series 2cc
spriteset(ss_e2_series_pantob_2cc_12,             	        "src/trains/e2_series/12/e2_2cc.png") {template_12_reversed(1,81)}
spriteset(ss_e2_series_pantob_2cc_10,             	        "src/trains/e2_series/10/e2_2cc.png") {template_10_reversed(1,81)}

switch (FEAT_TRAINS, SELF, sw_e2_series_pantob_2cc, param_spritelength) {
	1: ss_e2_series_pantob_2cc_10;				 	        // Length 10
	ss_e2_series_pantob_2cc_12;					            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, SELF, sw_e2_series_pantob_year_dep_livery, build_year) {
        0..2003: sw_e2_series_pantob_red;
        sw_e2_series_pantob_pink;
    }

switch(FEAT_TRAINS, PARENT, sw_e2_series_pantob, cargo_subtype) {
        1: sw_e2_series_pantob_red;
        2: sw_e2_series_pantob_pink;
        3: sw_e2_series_pantob_200;
        4: sw_e2_series_pantob_2cc;
        sw_e2_series_pantob_year_dep_livery;
    }
# 1 "src/trains/e2_series/e2_series.pnml" 2
# 1 "src/trains/e2_series/pnml/e2_series_formations.pnml" 1

/* Midcars */

/* Standard */

    // Panto in middle
    switch (FEAT_TRAINS, SELF, sw_e2_series_standard_panto_in_middle_backwards, (position_in_consist == position_in_consist_from_end ) || (position_in_consist - 3 == position_in_consist_from_end)) {				
    	0:  sw_e2_series_coac2b;
		sw_e2_series_pantob;				
	}

    switch (FEAT_TRAINS, SELF, sw_e2_series_standard_panto_in_middle_forwards, (position_in_consist == position_in_consist_from_end ) || (position_in_consist - 3 == position_in_consist_from_end)) {				
		0:  sw_e2_series_coac2f;
		sw_e2_series_pantof;				
	}

    // 4th and 6th
    switch (FEAT_TRAINS, SELF, sw_e2_series_standard_4th_and_6th_backwards, position_in_consist_from_end == 10 || position_in_consist_from_end == 16) {				
		0:  sw_e2_series_coac2b;
		sw_e2_series_pantob;				
	}

    switch (FEAT_TRAINS, SELF, sw_e2_series_standard_4th_and_6th_forwards, position_in_consist == 10 || position_in_consist  == 16) {				
		0:  sw_e2_series_coac2f;
		sw_e2_series_pantof;				
	}

    // 4th and 5 from end
    switch (FEAT_TRAINS, SELF, sw_e2_series_standard_4th_and_5_from_end_backwards, position_in_consist_from_end == 10 || position_in_consist  == 13) {				
		0:  sw_e2_series_coac2b;
		sw_e2_series_pantob;				
	}

    switch (FEAT_TRAINS, SELF, sw_e2_series_standard_4th_and_5_from_end_forwards, position_in_consist == 10 || position_in_consist_from_end  == 13) {				
		0:  sw_e2_series_coac2f;
		sw_e2_series_pantof;				
	}

    // Length Check
    switch (FEAT_TRAINS, SELF, sw_e2_series_standard_lengthcheck_backwards, num_vehs_in_consist ) {				
			1..23:  sw_e2_series_standard_panto_in_middle_backwards;
            24..30: sw_e2_series_standard_4th_and_6th_backwards;
			sw_e2_series_standard_4th_and_5_from_end_backwards;				
		}

    switch (FEAT_TRAINS, SELF, sw_e2_series_standard_lengthcheck_forwards, num_vehs_in_consist ) {				
			1..23:  sw_e2_series_standard_panto_in_middle_forwards;
            24..30: sw_e2_series_standard_4th_and_6th_forwards;
			sw_e2_series_standard_4th_and_5_from_end_forwards;				
		}

/* 200 Series */

    // Short
        switch (FEAT_TRAINS, SELF, sw_e2_series_200_short_backwards, position_in_consist_from_end ) {				
            4:  sw_e2_series_coac2b;    // 2
            //7:  panto
            10: sw_e2_series_coac3b;    // 4
            13: sw_e2_series_coac4b;    // 5
            //16: panto
            19: sw_e2_series_coac6b;    // 7 
            22: sw_e2_series_coac4b;    // 8
            25: sw_e2_series_coac3b;    // 9
            sw_e2_series_pantob;		// 3 & 6		
        }

        switch (FEAT_TRAINS, SELF, sw_e2_series_200_short_forwards, position_in_consist ) {				
            4:  sw_e2_series_coac2f;    // 2
            //7:  panto
            10: sw_e2_series_coac3f;    // 4
            13: sw_e2_series_coac4f;    // 5
            //16: panto
            19: sw_e2_series_coac6f;    // 7
            22: sw_e2_series_coac4f;    // 8
            25: sw_e2_series_coac3f;    // 9
            sw_e2_series_pantof;		// 3 & 6		
        }

    // Long
        switch (FEAT_TRAINS, SELF, sw_e2_series_200_long_backwards, (position_in_consist_from_end - 3 ) % 24 ) {				
            1:  sw_e2_series_coac2b;    // 2
            //4:  panto
            7:  sw_e2_series_coac3b;    // 4
            10: sw_e2_series_coac4b;    // 5
            //13: panto
            16: sw_e2_series_coac6b;    // 7 
            19: sw_e2_series_coac4b;    // 8
            22: sw_e2_series_coac3b;    // 9
            sw_e2_series_pantob;		// 3 & 6		
        }

        switch (FEAT_TRAINS, SELF, sw_e2_series_200_long_forwards, (position_in_consist - 3 ) % 24 ) {				
            1:  sw_e2_series_coac2f;    // 2
            //4:  panto
            7:  sw_e2_series_coac3f;    // 4
            10: sw_e2_series_coac4f;    // 5
            //13: panto
            16: sw_e2_series_coac6f;    // 7 
            19: sw_e2_series_coac4f;    // 8
            22: sw_e2_series_coac3f;    // 9
            sw_e2_series_pantof;		// 3 & 6		
        }

    // Length Check
        switch (FEAT_TRAINS, SELF, sw_e2_series_200_lengthcheck_backwards, num_vehs_in_consist ) {				
                1..23:  sw_e2_series_200_short_backwards;
                sw_e2_series_200_long_backwards;				
            }

        switch (FEAT_TRAINS, SELF, sw_e2_series_200_lengthcheck_forwards, num_vehs_in_consist ) {				
                1..23:  sw_e2_series_200_short_forwards;
                sw_e2_series_200_long_forwards;				
            }

/* Midcar Selection */
    // Cargo Subtype & Direction
    switch (FEAT_TRAINS, PARENT, sw_e2_series_reversed, cargo_subtype ) {				
			3:  sw_e2_series_200_lengthcheck_backwards;
			sw_e2_series_standard_lengthcheck_backwards;				
		}

    switch (FEAT_TRAINS, PARENT, sw_e2_series_not_reversed, cargo_subtype ) {				
			3:  sw_e2_series_200_lengthcheck_forwards;
			sw_e2_series_standard_lengthcheck_forwards;				
		}

    switch (FEAT_TRAINS, PARENT, sw_e2_series_midcars, vehicle_is_reversed ) {				
			1:  sw_e2_series_reversed;
			sw_e2_series_not_reversed;				
		}

/* Cab selection */
    // Rear cab
    switch (FEAT_TRAINS, PARENT, sw_e2_series_rear, vehicle_is_reversed) {				
            1:  sw_e2_series_cab01b;                   // cab01	
            sw_e2_series_cab02f;                       // cab02
        }

    // Lead cab
    switch (FEAT_TRAINS, PARENT, sw_e2_series_lead, vehicle_is_reversed) {				
            1:  sw_e2_series_cab02b;                   // cab02
            sw_e2_series_cab01f;                       // cab01	
        }

/* Find the cabs */
    switch (FEAT_TRAINS, SELF, sw_e2_series_lead_or_rear, position_in_consist) {				
            1:  sw_e2_series_lead;
            sw_e2_series_rear;				
        }
    
    switch (FEAT_TRAINS, SELF, sw_e2_series_ends, position_in_consist == 1 || position_in_consist_from_end == 1) {				
            1:  sw_e2_series_lead_or_rear;
            sw_e2_series_midcars;				
        }
# 1 "src/trains/e2_series/e2_series.pnml" 2
# 1 "src/trains/e2_series/pnml/e2_series_item.pnml" 1
    // Sprites or Dummy Sprites
    switch (FEAT_TRAINS, SELF, sw_e2_series_graphics, position_in_consist % 3) {				
            1:  sw_e2_series_ends; 				
            dummy_sprites;
        }

// Articulation
switch (FEAT_TRAINS, SELF, sw_e2_series_articulated_part, extra_callback_info1) {
		1 .. 2: return series_e2;									
		return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
	}

/*---Coupling Switch---*/
switch(FEAT_TRAINS, SELF, sw_e2_series_attach_vehid, [vehicle_type_id == mu_car_full]) {
 0: return string(ONLY_ADD_MUCAR);
}

/*---Length Check---*/
switch (FEAT_TRAINS, SELF, sw_e2_series_stop_start, num_vehs_in_consist < 12) {				
		1:  return string(STR_LENGTH_ERROR); 				
		return CB_RESULT_NO_TEXT; 
	}

item(FEAT_TRAINS, series_e2) {
	property {
		/* Menu */
        name: 							string(STR_NAME_E2_SERIES);
		sprite_id:                      SPRITE_ID_NEW_TRAIN; 		// required to enable new graphics
		misc_flags:                     bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU, TRAIN_FLAG_TILT, TRAIN_FLAG_AUTOREFIT);
		running_cost_base:              RUNNING_COST_ELECTRIC;
		engine_class:                   ENGINE_CLASS_ELECTRIC;
        /* Availability */
        climates_available:             ALL_CLIMATES;
		introduction_date:              date(1997,03,22);
		model_life:                     VEHICLE_NEVER_EXPIRES;		//
		vehicle_life:                   30;							// 
		track_type:                     SHINKANSEN;
        /* Cargo */
        reliability_decay:              5;
		refittable_cargo_classes:       bitmask(CC_PASSENGERS);
		refit_cost:                     0;
		default_cargo_type:             PASS;
		ai_special_flag:                AI_FLAG_PASSENGER;
        cargo_capacity:                 1;							// 
		loading_speed:                  50;							
		cargo_age_period:               278; 						// 1.5 times normal for this expensive long-distance train
		/* Stats */
        speed:                          275 km/h;				    // Operational Top Speed
		power:                          8050 kW;                    // Overwritten by callback					
		weight:                         648 tons;                   // Overwritten by callback					
		tractive_effort_coefficient:    0.3;
		air_drag_coefficient:			0;
	}
	graphics {
		/* Menu */
        additional_text:                string(STR_DESC_E2_SERIES);
        cargo_subtype_text:             sw_e2_series_subtype_text;
        can_attach_wagon:				sw_e2_series_attach_vehid;
		start_stop:						sw_e2_series_stop_start;
        purchase_weight:                46;
        purchase_power:                 402 * 4;
		/* Graphics */
        default:                        sw_e2_series_graphics;
		purchase:                       sw_e2_series_buy;
		articulated_part:               sw_e2_series_articulated_part;
		visual_effect_and_powered:      sw_visual_effect_and_powered;
        /* Stats */
        length:                         sw_param_length;
        power:                          max((NumberCarsInConsist() - 2 ),0) * 402 * 4;
        weight:                        	NumberCarsInConsist() * 46;
		cargo_capacity:                 27 * CapacityFactor();										// 815 capacity / (10 cars * 3 parts) is approx 27						
		loading_speed:					27 * CapacityFactor() / param_loading_2D;					// Capacity divided by door loading factor
		cargo_age_period:				param_decay_express;
		cost_factor:                    144;
		running_cost_factor:            (290 + 120 * NumberCarsInConsist() ) * RunningCostFactor();
		purchase_running_cost_factor:   290 + 120 * NumberCarsInConsist();	
	}

	/*Multiple Unit Car*/
	
      livery_override(mu_car_full){
        default:                        sw_e2_series_graphics;
        cargo_capacity:                 27 * CapacityFactor();
        cargo_age_period:				param_decay_express;
        loading_speed:					27 * CapacityFactor() / param_loading_2D;
		articulated_part:				sw_mucar_full_articulated_part;
		length:							sw_param_length;
		//power:						// Apply power in graphics block to calculate power based on number of motorised cars correctly
		//weight:						// Apply weight to graphics block to calculate Max T.E. correctly
        //running_cost_factor:            sw_e2_series_running_costs;
      }
}
# 1 "src/trains/e2_series/e2_series.pnml" 2

# 1 "JPplusShinkansen.pnml" 4
# 1 "src/trains/e3_series/e3_series.pnml" 1

/* SUBTYPES */

	// Pre 1997 subtype text
	switch(FEAT_TRAINS, SELF, sw_e3_series_1997_livery_subtype_text, cargo_subtype) {
		0: return string(LV_YEAR_DEP_LIVERY);
		1: return string(LV_E3_SERIES_R);
		return CB_RESULT_NO_TEXT;
		}

	// Post 1999 subtype text
	switch(FEAT_TRAINS, SELF, sw_e3_series_1999_livery_subtype_text, cargo_subtype) {
		0: return string(LV_YEAR_DEP_LIVERY);
		1: return string(LV_E3_SERIES_R);
		2: return string(LV_E3_SERIES_1000);
		return CB_RESULT_NO_TEXT;
		}

  // Post 2008 subtype text
	switch(FEAT_TRAINS, SELF, sw_e3_series_2008_livery_subtype_text, cargo_subtype) {
		0: return string(LV_YEAR_DEP_LIVERY);
		1: return string(LV_E3_SERIES_R);
		2: return string(LV_E3_SERIES_1000);
    3: return string(LV_E3_SERIES_2000);
		return CB_RESULT_NO_TEXT;
		}

  // Post 2014 subtype text
	switch(FEAT_TRAINS, SELF, sw_e3_series_2014_livery_subtype_text, cargo_subtype) {
		0: return string(LV_YEAR_DEP_LIVERY);
		1: return string(LV_E3_SERIES_R);
		2: return string(LV_E3_SERIES_1000);
    3: return string(LV_E3_SERIES_2000);
    4: return string(LV_E3_SERIES_700_TOREIYU);
		return CB_RESULT_NO_TEXT;
		}

	switch(FEAT_TRAINS, SELF, sw_e3_series_year_dep_subtype_text, current_year) {
		0..1998: sw_e3_series_1997_livery_subtype_text;
    1999..2007: sw_e3_series_1999_livery_subtype_text;
    2008..2013: sw_e3_series_2008_livery_subtype_text;
		sw_e3_series_2014_livery_subtype_text;
	}

/* GRAPHICS */

    // Purchase Sprites
        spriteset (spriteset_e3_series_purchase,	        	    "src/trains/dummy/purchase.png") {tmpl_purchase_dh(0, 0)}
        alternative_sprites(spriteset_e3_series_purchase,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/buy_e3_r.png") {tmpl_purchase_dh_32bpp(0, 0)}

    // E3 Series R Set
        
        // Cab standard
        spriteset(ss_e3_series_cabnl_r,                           "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        spriteset(ss_e3_series_cabnl_rev_r,                       "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        alternative_sprites(ss_e3_series_cabnl_r,                 ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_r.png") {template_8_standard(1,1)}
        alternative_sprites(ss_e3_series_cabnl_rev_r,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_r.png") {template_8_standard(1,41)}
        
        // Cab with logo
        spriteset(ss_e3_series_cabyl_r,                           "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        spriteset(ss_e3_series_cabyl_rev_r,                       "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        alternative_sprites(ss_e3_series_cabyl_r,                 ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_r.png") {template_8_standard(1,81)}
        alternative_sprites(ss_e3_series_cabyl_rev_r,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_r.png") {template_8_standard(1,121)}
        
        // Coach
        spriteset(ss_e3_series_coach_r,                         "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        spriteset(ss_e3_series_coach_rev_r,                     "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        alternative_sprites(ss_e3_series_coach_r,               ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_r.png") {template_8_standard(1,201)}
        alternative_sprites(ss_e3_series_coach_rev_r,           ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_r.png") {template_8_reversed(1,201)}

        // "Clogo" - coach with logo and panto
        spriteset(ss_e3_series_clogo_r,                         "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        spriteset(ss_e3_series_clogo_rev_r,                     "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        alternative_sprites(ss_e3_series_clogo_r,               ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_r.png") {template_8_standard(1,241)}
        alternative_sprites(ss_e3_series_clogo_rev_r,           ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_r.png") {template_8_reversed(1,241)}

        // Panto
        spriteset(ss_e3_series_panto_r,                         "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        spriteset(ss_e3_series_panto_rev_r,                     "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        alternative_sprites(ss_e3_series_panto_r,               ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_r.png") {template_8_standard(1,161)}
        alternative_sprites(ss_e3_series_panto_rev_r,           ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_r.png") {template_8_reversed(1,161)}

        // Coach w/ raise
        spriteset(ss_e3_series_corai_r,                         "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        spriteset(ss_e3_series_corai_rev_r,                     "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        alternative_sprites(ss_e3_series_corai_r,               ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_r.png") {template_8_standard(1,281)}
        alternative_sprites(ss_e3_series_corai_rev_r,           ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_r.png") {template_8_reversed(1,281)}

        // "Clogo" - coach with logo no panto
        spriteset(ss_e3_series_clog2_r,                         "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        spriteset(ss_e3_series_clog2_rev_r,                     "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        alternative_sprites(ss_e3_series_clog2_r,               ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_r.png") {template_8_standard(1,321)}
        alternative_sprites(ss_e3_series_clog2_rev_r,           ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_r.png") {template_8_reversed(1,321)}

        // Coach w/ double raise
        spriteset(ss_e3_series_c2rai_r,                         "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        spriteset(ss_e3_series_c2rai_rev_r,                     "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        alternative_sprites(ss_e3_series_c2rai_r,               ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_r.png") {template_8_standard(1,361)}
        alternative_sprites(ss_e3_series_c2rai_rev_r,           ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_r.png") {template_8_reversed(1,361)}

    // E3-1000 Series

      // Cab standard
        spriteset(ss_e3_series_cabnl_1000,                      "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        spriteset(ss_e3_series_cabnl_rev_1000,                  "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        alternative_sprites(ss_e3_series_cabnl_1000,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_1000.png") {template_8_standard(1,1)}
        alternative_sprites(ss_e3_series_cabnl_rev_1000,        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_1000.png") {template_8_standard(1,41)}

      // Cab with logo
        spriteset(ss_e3_series_cabyl_1000,                      "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        spriteset(ss_e3_series_cabyl_rev_1000,                  "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        alternative_sprites(ss_e3_series_cabyl_1000,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_1000.png") {template_8_standard(1,81)}
        alternative_sprites(ss_e3_series_cabyl_rev_1000,        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_1000.png") {template_8_standard(1,121)}

      // Coach
        spriteset(ss_e3_series_coach_1000,                      "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        spriteset(ss_e3_series_coach_rev_1000,                  "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        alternative_sprites(ss_e3_series_coach_1000,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_1000.png") {template_8_standard(1,161)}
        alternative_sprites(ss_e3_series_coach_rev_1000,        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_1000.png") {template_8_reversed(1,161)}

      // "Clogo" - coach with logo
        spriteset(ss_e3_series_clogo_1000,                      "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        spriteset(ss_e3_series_clogo_rev_1000,                  "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        alternative_sprites(ss_e3_series_clogo_1000,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_1000.png") {template_8_standard(1,241)}
        alternative_sprites(ss_e3_series_clogo_rev_1000,        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_1000.png") {template_8_reversed(1,241)}

      // Panto
        spriteset(ss_e3_series_panto_1000,                      "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        spriteset(ss_e3_series_panto_rev_1000,                  "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        alternative_sprites(ss_e3_series_panto_1000,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_1000.png") {template_8_standard(1,201)}
        alternative_sprites(ss_e3_series_panto_rev_1000,        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_1000.png") {template_8_reversed(1,201)}

      // Coach w/ raise
        spriteset(ss_e3_series_corai_1000,                      "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        spriteset(ss_e3_series_corai_rev_1000,                  "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        alternative_sprites(ss_e3_series_corai_1000,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_1000.png") {template_8_standard(1,281)}
        alternative_sprites(ss_e3_series_corai_rev_1000,        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_1000.png") {template_8_reversed(1,281)}


    // E3-2000 Series

      // Cab standard
        spriteset(ss_e3_series_cabnl_2000,                      "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        spriteset(ss_e3_series_cabnl_rev_2000,                  "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        alternative_sprites(ss_e3_series_cabnl_2000,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_2000.png") {template_8_standard(1,1)}
        alternative_sprites(ss_e3_series_cabnl_rev_2000,        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_2000.png") {template_8_standard(1,41)}

      // Cab with logo
        spriteset(ss_e3_series_cabyl_2000,                      "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        spriteset(ss_e3_series_cabyl_rev_2000,                  "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        alternative_sprites(ss_e3_series_cabyl_2000,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_2000.png") {template_8_standard(1,81)}
        alternative_sprites(ss_e3_series_cabyl_rev_2000,        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_2000.png") {template_8_standard(1,121)}

      // Coach
        spriteset(ss_e3_series_coach_2000,                      "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        spriteset(ss_e3_series_coach_rev_2000,                  "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        alternative_sprites(ss_e3_series_coach_2000,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_2000.png") {template_8_standard(1,201)}
        alternative_sprites(ss_e3_series_coach_rev_2000,        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_2000.png") {template_8_reversed(1,201)}

      // "Clogo" - coach with logo
        spriteset(ss_e3_series_clogo_2000,                      "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        spriteset(ss_e3_series_clogo_rev_2000,                  "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        alternative_sprites(ss_e3_series_clogo_2000,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_2000.png") {template_8_standard(1,241)}
        alternative_sprites(ss_e3_series_clogo_rev_2000,        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_2000.png") {template_8_reversed(1,241)}

      // Panto
        spriteset(ss_e3_series_panto_2000,                      "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        spriteset(ss_e3_series_panto_rev_2000,                  "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        alternative_sprites(ss_e3_series_panto_2000,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_2000.png") {template_8_standard(1,161)}
        alternative_sprites(ss_e3_series_panto_rev_2000,        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_2000.png") {template_8_reversed(1,161)}

      // Coach w/ raise
        spriteset(ss_e3_series_corai_2000,                      "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        spriteset(ss_e3_series_corai_rev_2000,                  "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        alternative_sprites(ss_e3_series_corai_2000,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_2000.png") {template_8_standard(1,281)}
        alternative_sprites(ss_e3_series_corai_rev_2000,        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_2000.png") {template_8_reversed(1,281)}

    // E3-700 Toreiyu Series

      // Cab standard
        spriteset(ss_e3_series_cabnl_700,                       "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        spriteset(ss_e3_series_cabnl_rev_700,                   "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        alternative_sprites(ss_e3_series_cabnl_700,              ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_700.png") {template_8_standard(1,1)}
        alternative_sprites(ss_e3_series_cabnl_rev_700,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_700.png") {template_8_standard(1,41)}
        
      // Cab with logo
        spriteset(ss_e3_series_cabyl_700,                       "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        spriteset(ss_e3_series_cabyl_rev_700,                   "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        alternative_sprites(ss_e3_series_cabyl_700,              ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_700.png") {template_8_standard(1,81)}
        alternative_sprites(ss_e3_series_cabyl_rev_700,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_700.png") {template_8_standard(1,121)}
      
      // Coach with logo  
        spriteset(ss_e3_series_clogo_700,                       "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        spriteset(ss_e3_series_clogo_rev_700,                   "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        alternative_sprites(ss_e3_series_clogo_700,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_700.png") {template_8_standard(1,161)}
        alternative_sprites(ss_e3_series_clogo_rev_700,         ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_700.png") {template_8_reversed(1,161)}

      // Coach green going down OR Coach w/ raise
        spriteset(ss_e3_series_grndn_700,                       "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        spriteset(ss_e3_series_grndn_rev_700,                   "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        alternative_sprites(ss_e3_series_grndn_700,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_700.png") {template_8_standard(1,201)}
        alternative_sprites(ss_e3_series_grndn_rev_700,         ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_700.png") {template_8_reversed(1,201)}

      // Coach green going up
        spriteset(ss_e3_series_grnup_700,                       "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        spriteset(ss_e3_series_grnup_rev_700,                   "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        alternative_sprites(ss_e3_series_grnup_700,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_700.png") {template_8_standard(1,241)}
        alternative_sprites(ss_e3_series_grnup_rev_700,         ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_700.png") {template_8_reversed(1,241)}

      // Coach with panto
        spriteset(ss_e3_series_panto_700,                       "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        spriteset(ss_e3_series_panto_rev_700,                   "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        alternative_sprites(ss_e3_series_panto_700,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_700.png") {template_8_standard(1,281)}
        alternative_sprites(ss_e3_series_panto_rev_700,         ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_700.png") {template_8_reversed(1,281)}

      // Coach all white "Coach"
        spriteset(ss_e3_series_coach_700,                       "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        spriteset(ss_e3_series_coach_rev_700,                   "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        alternative_sprites(ss_e3_series_coach_700,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_700.png") {template_8_standard(1,321)}
        alternative_sprites(ss_e3_series_coach_rev_700,         ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_700.png") {template_8_reversed(1,321)}

      // Coach green
        spriteset(ss_e3_series_green_700,                       "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        spriteset(ss_e3_series_green_rev_700,                   "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        alternative_sprites(ss_e3_series_green_700,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_700.png") {template_8_standard(1,361)}
        alternative_sprites(ss_e3_series_green_rev_700,         ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_700.png") {template_8_reversed(1,361)}

      // Coach with logo for long consists "2ndco"
        spriteset(ss_e3_series_2ndco_700,                       "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        spriteset(ss_e3_series_2ndco_rev_700,                   "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        alternative_sprites(ss_e3_series_2ndco_700,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_700.png") {template_8_standard(1,401)}
        alternative_sprites(ss_e3_series_2ndco_rev_700,         ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_700.png") {template_8_reversed(1,401)}

      // Coach panto for long consists
        spriteset(ss_e3_series_pantl_700,                       "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        spriteset(ss_e3_series_pantl_rev_700,                   "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        alternative_sprites(ss_e3_series_pantl_700,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_700.png") {template_8_standard(1,441)}
        alternative_sprites(ss_e3_series_pantl_rev_700,         ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_700.png") {template_8_reversed(1,441)}

      // Coach panto in single green corner
        spriteset(ss_e3_series_pantg_700,                       "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        spriteset(ss_e3_series_pantg_rev_700,                   "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        alternative_sprites(ss_e3_series_pantg_700,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_700.png") {template_8_standard(1,481)}
        alternative_sprites(ss_e3_series_pantg_rev_700,         ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_700.png") {template_8_reversed(1,481)}

      // Coach with green tip corner
        spriteset(ss_e3_series_coacg_700,                       "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        spriteset(ss_e3_series_coacg_rev_700,                   "src/trains/dummy/mucar.png") {template_8_standard(1,1)}
        alternative_sprites(ss_e3_series_coacg_700,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_700.png") {template_8_standard(1,521)}
        alternative_sprites(ss_e3_series_coacg_rev_700,         ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e3_series/e3_700.png") {template_8_reversed(1,521)}


/* LIVERIES */

      // Cab standard
        switch(FEAT_TRAINS, SELF, sw_e3_series_cabnl_year_dep, build_year) {
          0..1998: ss_e3_series_cabnl_r;
          1999..2007: ss_e3_series_cabnl_1000;
          ss_e3_series_cabnl_2000;
        }

        switch(FEAT_TRAINS, PARENT, sw_e3_series_cabnl, cargo_subtype) {
          1: ss_e3_series_cabnl_r;
          2: ss_e3_series_cabnl_1000;
          3: ss_e3_series_cabnl_2000;
          4: ss_e3_series_cabnl_700;
          sw_e3_series_cabnl_year_dep;
        }

      // Cab standard reversed
        switch(FEAT_TRAINS, SELF, sw_e3_series_cabnl_rev_year_dep, build_year) {
          0..1998: ss_e3_series_cabnl_rev_r;
          1999..2007: ss_e3_series_cabnl_rev_1000;
          ss_e3_series_cabnl_rev_2000;
        }

        switch(FEAT_TRAINS, PARENT, sw_e3_series_cabnl_rev, cargo_subtype) {
          1: ss_e3_series_cabnl_rev_r;
          2: ss_e3_series_cabnl_rev_1000;
          3: ss_e3_series_cabnl_rev_2000;
          4: ss_e3_series_cabnl_rev_700;
          sw_e3_series_cabnl_rev_year_dep;
        }

      // Cab with logo
        switch(FEAT_TRAINS, SELF, sw_e3_series_cabyl_year_dep, build_year) {
          0..1998: ss_e3_series_cabyl_r;
          1999..2007: ss_e3_series_cabyl_1000;
          ss_e3_series_cabyl_2000;
        }

        switch(FEAT_TRAINS, PARENT, sw_e3_series_cabyl, cargo_subtype) {
          1: ss_e3_series_cabyl_r;
          2: ss_e3_series_cabyl_1000;
          3: ss_e3_series_cabyl_2000;
          4: ss_e3_series_cabyl_700;
          sw_e3_series_cabyl_year_dep;
        }

      // Cab with logo reversed
        switch(FEAT_TRAINS, SELF, sw_e3_series_cabyl_rev_year_dep, build_year) {
          0..1998: ss_e3_series_cabyl_rev_r;
          1999..2007: ss_e3_series_cabyl_rev_1000;
          ss_e3_series_cabyl_rev_2000;
        }

        switch(FEAT_TRAINS, PARENT, sw_e3_series_cabyl_rev, cargo_subtype) {
          1: ss_e3_series_cabyl_rev_r;
          2: ss_e3_series_cabyl_rev_1000;
          3: ss_e3_series_cabyl_rev_2000;
          4: ss_e3_series_cabyl_rev_700;
          sw_e3_series_cabyl_rev_year_dep;
        }

      // Coach
        switch(FEAT_TRAINS, SELF, sw_e3_series_coach_year_dep, build_year) {
          0..1998: ss_e3_series_coach_r;
          1999..2007: ss_e3_series_coach_1000;
          ss_e3_series_coach_2000;
        }

        switch(FEAT_TRAINS, PARENT, sw_e3_series_coach, cargo_subtype) {
          1: ss_e3_series_coach_r;
          2: ss_e3_series_coach_1000;
          3: ss_e3_series_coach_2000;
          4: ss_e3_series_coach_700;
          sw_e3_series_coach_year_dep;
        }

      // Coach Reversed
        switch(FEAT_TRAINS, SELF, sw_e3_series_coach_rev_year_dep, build_year) {
          0..1998: ss_e3_series_coach_rev_r;
          1999..2007: ss_e3_series_coach_rev_1000;
          ss_e3_series_coach_rev_2000;
        }

        switch(FEAT_TRAINS, PARENT, sw_e3_series_coach_rev, cargo_subtype) {
          1: ss_e3_series_coach_rev_r;
          2: ss_e3_series_coach_rev_1000;
          3: ss_e3_series_coach_rev_2000;
          4: ss_e3_series_coach_rev_700;
          sw_e3_series_coach_rev_year_dep;
        }

        // Clogo
          switch(FEAT_TRAINS, SELF, sw_e3_series_clogo_year_dep, build_year) {
          0..1998: ss_e3_series_clogo_r;
          1999..2007: ss_e3_series_clogo_1000;
          ss_e3_series_clogo_2000;
        }

        switch(FEAT_TRAINS, PARENT, sw_e3_series_clogo, cargo_subtype) {
          1: ss_e3_series_clogo_r;
          2: ss_e3_series_clogo_1000;
          3: ss_e3_series_clogo_2000;
          4: ss_e3_series_clogo_700;
          sw_e3_series_clogo_year_dep;
        }

        // Clogo Reversed
          switch(FEAT_TRAINS, SELF, sw_e3_series_clogo_rev_year_dep, build_year) {
          0..1998: ss_e3_series_clogo_rev_r;
          1999..2007: ss_e3_series_clogo_rev_1000;
          ss_e3_series_clogo_rev_2000;
        }

        switch(FEAT_TRAINS, PARENT, sw_e3_series_clogo_rev, cargo_subtype) {
          1: ss_e3_series_clogo_rev_r;
          2: ss_e3_series_clogo_rev_1000;
          3: ss_e3_series_clogo_rev_2000;
          4: ss_e3_series_clogo_rev_700;
          sw_e3_series_clogo_rev_year_dep;
        }

        // Panto
        switch(FEAT_TRAINS, SELF, sw_e3_series_panto_year_dep, build_year) {
          0..1998: ss_e3_series_panto_r;
          1999..2007: ss_e3_series_panto_1000;
          ss_e3_series_panto_2000;
        }

        switch(FEAT_TRAINS, PARENT, sw_e3_series_panto, cargo_subtype) {
          1: ss_e3_series_panto_r;
          2: ss_e3_series_panto_1000;
          3: ss_e3_series_panto_2000;
          4: ss_e3_series_panto_700;
          sw_e3_series_panto_year_dep;
        }

      // Panto Reversed
        switch(FEAT_TRAINS, SELF, sw_e3_series_panto_rev_year_dep, build_year) {
          0..1998: ss_e3_series_panto_rev_r;
          1999..2007: ss_e3_series_panto_rev_1000;
          ss_e3_series_panto_rev_2000;
        }

        switch(FEAT_TRAINS, PARENT, sw_e3_series_panto_rev, cargo_subtype) {
          1: ss_e3_series_panto_rev_r;
          2: ss_e3_series_panto_rev_1000;
          3: ss_e3_series_panto_rev_2000;
          4: ss_e3_series_panto_rev_700;
          sw_e3_series_panto_rev_year_dep;
        }

      // Coach w/ raise
        switch(FEAT_TRAINS, SELF, sw_e3_series_corai_year_dep, build_year) {
          0..1998: ss_e3_series_corai_r;
          1999..2007: ss_e3_series_corai_1000;
          ss_e3_series_corai_2000;
        }

        switch(FEAT_TRAINS, PARENT, sw_e3_series_corai, cargo_subtype) {
          1: ss_e3_series_corai_r;
          2: ss_e3_series_corai_1000;
          3: ss_e3_series_corai_2000;
          4: ss_e3_series_grndn_700;
          sw_e3_series_corai_year_dep;
        }

      // Coach w/ raise reversed
        switch(FEAT_TRAINS, SELF, sw_e3_series_corai_rev_year_dep, build_year) {
          0..1998: ss_e3_series_corai_rev_r;
          1999..2007: ss_e3_series_corai_rev_1000;
          ss_e3_series_corai_rev_2000;
        }

        switch(FEAT_TRAINS, PARENT, sw_e3_series_corai_rev, cargo_subtype) {
          1: ss_e3_series_corai_rev_r;
          2: ss_e3_series_corai_rev_1000;
          3: ss_e3_series_corai_rev_2000;
          4: ss_e3_series_grndn_rev_700;
          sw_e3_series_corai_rev_year_dep;
        }

// Everything else
switch (FEAT_TRAINS, PARENT, sw_e3_series_everything_else_coaches, vehicle_is_reversed ) {				
		1:  sw_e3_series_coach_rev;
		sw_e3_series_coach;				
	}

// 6 CARS

  switch (FEAT_TRAINS, SELF, sw_e3_series_6car_reversed, position_in_consist_from_end ) {				
      2: ss_e3_series_c2rai_rev_r;           
      3:  ss_e3_series_corai_rev_r;       
      sw_e3_series_coach_rev;			
    }

  switch (FEAT_TRAINS, SELF, sw_e3_series_6car_not_reversed, position_in_consist ) {				
    2: ss_e3_series_c2rai_r;           
    3:  ss_e3_series_corai_r;       
    sw_e3_series_coach;			
  }

  switch (FEAT_TRAINS, PARENT, sw_e3_series_6car_reverse_check, vehicle_is_reversed ) {				
    1:  sw_e3_series_6car_reversed;
    sw_e3_series_6car_not_reversed;				
  }

// 7 CARS
  switch (FEAT_TRAINS, SELF, sw_e3_series_7car_even_reversed, position_in_consist_from_end - position_in_consist ) {				
      1: sw_e3_series_corai_rev;           
      -1:  sw_e3_series_panto_rev;       
      sw_e3_series_coach_rev;			
    }

  switch (FEAT_TRAINS, SELF, sw_e3_series_7car_even_not_reversed, position_in_consist - position_in_consist_from_end ) {				
      1: sw_e3_series_corai;
      -1:  sw_e3_series_panto;
      sw_e3_series_coach;			
    }

  switch (FEAT_TRAINS, SELF, sw_e3_series_7car_odd_reversed, position_in_consist_from_end - position_in_consist ) {				
      2: sw_e3_series_corai_rev;        
      0:  sw_e3_series_panto_rev;       
      sw_e3_series_coach_rev;			
    }

  switch (FEAT_TRAINS, SELF, sw_e3_series_7car_odd_not_reversed, position_in_consist - position_in_consist_from_end ) {				
      2: sw_e3_series_corai;
      0:  sw_e3_series_panto;
      sw_e3_series_coach;			
    }

  switch (FEAT_TRAINS, SELF, sw_e3_series_7car_oddeven_not_reversed, num_vehs_in_consist % 2) {				
      0:  sw_e3_series_7car_even_not_reversed;       // Even
      sw_e3_series_7car_odd_not_reversed;			
    }

  switch (FEAT_TRAINS, SELF, sw_e3_series_7car_oddeven_reversed, num_vehs_in_consist % 2) {				
      0:  sw_e3_series_7car_even_reversed;       // Even
      sw_e3_series_7car_odd_reversed;			
    }

  switch (FEAT_TRAINS, PARENT, sw_e3_series_7car_reverse_check, vehicle_is_reversed ) {				
      1:  sw_e3_series_7car_oddeven_reversed;
      sw_e3_series_7car_oddeven_not_reversed;				
    }

    // TOREIYU
      switch (FEAT_TRAINS, SELF, sw_e3_series_toreiyu_reversed, position_in_consist_from_end - position_in_consist ) {				
          -4: ss_e3_series_pantg_rev_700;
          -3: ss_e3_series_pantg_rev_700;
          -2: ss_e3_series_grndn_rev_700;
          -1: ss_e3_series_grndn_rev_700;
          0:  ss_e3_series_green_rev_700;
          1:  ss_e3_series_grnup_rev_700; 
          2:  ss_e3_series_grnup_rev_700;   
          3:  ss_e3_series_coacg_rev_700;    
          4:  ss_e3_series_coacg_rev_700;  
          sw_e3_series_coach_rev;			
        }

      switch (FEAT_TRAINS, SELF, sw_e3_series_toreiyu_not_reversed, position_in_consist - position_in_consist_from_end ) {				
          -4: ss_e3_series_pantg_700;
          -3: ss_e3_series_pantg_700;
          -2: ss_e3_series_grndn_700;
          -1: ss_e3_series_grndn_700;
          0:  ss_e3_series_green_700;
          1:  ss_e3_series_grnup_700;
          2:  ss_e3_series_grnup_700; 
          3:  ss_e3_series_coacg_700;  
          4:  ss_e3_series_coacg_700;  
          sw_e3_series_coach;			
        }

  // ODD EVEN CHECK!!!

  switch (FEAT_TRAINS, PARENT, sw_e3_series_toreiyu_reverse_check, vehicle_is_reversed ) {				
      1:  sw_e3_series_toreiyu_reversed;
      sw_e3_series_toreiyu_not_reversed;				
    }

  // Toreiyu 5 car check
    switch(FEAT_TRAINS, SELF, sw_e3_series_year_dep_reverse_check, build_year) {
            0..1998: sw_e3_series_6car_reverse_check;
            sw_e3_series_7car_reverse_check; 
          }

    switch(FEAT_TRAINS, PARENT, sw_e3_series_midcar_subtype_check, cargo_subtype) {
            0: sw_e3_series_year_dep_reverse_check;
            1: sw_e3_series_6car_reverse_check;
            2: sw_e3_series_7car_reverse_check;
            3: sw_e3_series_7car_reverse_check; 
            4: sw_e3_series_toreiyu_reverse_check;   // Toreiyu
            sw_e3_series_everything_else_coaches;
          }
  
  // Five Car Long check

    switch (FEAT_TRAINS, SELF, sw_e3_series_length_5_check, num_vehs_in_consist == 5 ) {				
        1:  sw_e3_series_everything_else_coaches;
        sw_e3_series_midcar_subtype_check;			
      }

  // Second car checks

    // Standard 2nd car checks
    switch (FEAT_TRAINS, SELF, sw_e3_series_2nd_not_reversed, position_in_consist) {				
        1:  sw_e3_series_clogo;     
        sw_e3_series_panto;			
      }

    switch (FEAT_TRAINS, SELF, sw_e3_series_2nd_reversed, position_in_consist){				
        1:  sw_e3_series_panto_rev;     
        sw_e3_series_clogo_rev;		  
      }

    switch (FEAT_TRAINS, PARENT, sw_e3_series_2nd_car_reverse_check, vehicle_is_reversed) {				
        1:  sw_e3_series_2nd_reversed;
        sw_e3_series_2nd_not_reversed;				
      }

    // Toreiyu
    switch (FEAT_TRAINS, SELF, sw_e3_series_toreiyu_2nd_not_reversed, position_in_consist) {				
        1:  ss_e3_series_2ndco_700;     
        ss_e3_series_pantl_700;			
      }

    switch (FEAT_TRAINS, SELF, sw_e3_series_toreiyu_2nd_reversed, position_in_consist){				
        1:  ss_e3_series_pantl_rev_700;     
        ss_e3_series_2ndco_rev_700;		  
      }

    switch (FEAT_TRAINS, PARENT, sw_e3_series_toreiyu_2nd_car_reverse_check, vehicle_is_reversed) {				
        1:  sw_e3_series_toreiyu_2nd_reversed;
        sw_e3_series_toreiyu_2nd_not_reversed;				
      }

    switch (FEAT_TRAINS, SELF, sw_e3_series_toreiyu_5_or_6_check, num_vehs_in_consist == 6 || num_vehs_in_consist == 7 ) {				
        1:  sw_e3_series_2nd_car_reverse_check;
        sw_e3_series_toreiyu_2nd_car_reverse_check;				
      }

    // 6car (R Set)
    switch (FEAT_TRAINS, SELF, sw_e3_series_6car_2nd_not_reversed, position_in_consist) {				
        1:  ss_e3_series_clog2_r;     
        ss_e3_series_panto_r;			
      }

    switch (FEAT_TRAINS, SELF, sw_e3_series_6car_2nd_reversed, position_in_consist){				
        1:  ss_e3_series_panto_rev_r;     
        ss_e3_series_clog2_rev_r;		  
      }

    switch (FEAT_TRAINS, PARENT, sw_e3_series_6car_2nd_car_reverse_check, vehicle_is_reversed) {				
        1:  sw_e3_series_6car_2nd_reversed;
        sw_e3_series_6car_2nd_not_reversed;				
      }

    switch (FEAT_TRAINS, SELF, sw_e3_series_2nd_car_check_for_6car, num_vehs_in_consist == 4 || num_vehs_in_consist == 5) {				
        1:  sw_e3_series_6car_2nd_car_reverse_check;      // 4 or 5 cars, so choose bespoke sprites
        sw_e3_series_2nd_car_reverse_check;				        // > 5 cars, so standard chain
      }

    // Which cargo subtype
    switch(FEAT_TRAINS, SELF, sw_e3_series_year_dep_2nd_car_check, build_year) {
            0..1998: sw_e3_series_2nd_car_check_for_6car; // R Set
            sw_e3_series_2nd_car_reverse_check;           // Not R Set, so send to standard chain
          }

    switch(FEAT_TRAINS, PARENT, sw_e3_series_2nd_car_subtype_check, cargo_subtype) {
            0: sw_e3_series_year_dep_2nd_car_check;       // R Set til '98
            1: sw_e3_series_2nd_car_check_for_6car;       // R Set
            4: sw_e3_series_toreiyu_5_or_6_check;         // Toreiyu
            sw_e3_series_2nd_car_reverse_check;
          }
    // Identify the 2nd cars
    switch (FEAT_TRAINS, SELF, sw_e3_series_2nd_car_checks, position_in_consist == 1 || position_in_consist_from_end == 1 ) {				
        1:  sw_e3_series_2nd_car_subtype_check;
        sw_e3_series_length_5_check;
        //sw_e3_series_midcar_subtype_check;				
      }

  // First car checks

    switch (FEAT_TRAINS, SELF, sw_e3_series_cab_not_reversed, position_in_consist) {				
        0:  sw_e3_series_cabnl;     
        sw_e3_series_cabyl_rev;			
      }

    switch (FEAT_TRAINS, SELF, sw_e3_series_cab_reversed, position_in_consist){				
        0:  sw_e3_series_cabyl;     
        sw_e3_series_cabnl_rev;		  
      }

    switch (FEAT_TRAINS, PARENT, sw_e3_series_front_cab_checks, vehicle_is_reversed) {				
        1:  sw_e3_series_cab_reversed;
        sw_e3_series_cab_not_reversed;				
      }

    // Is it a cab car?
    switch (FEAT_TRAINS, SELF, sw_e3_series_graphics, position_in_consist == 0 || position_in_consist_from_end == 0) {				
        1:  sw_e3_series_front_cab_checks;
        sw_e3_series_2nd_car_checks;				
      }


/*---END OF SECTION---*/
/*---Coupling Switch---*/
switch(FEAT_TRAINS, SELF, sw_e3_series_attach_vehid, [vehicle_type_id == series_e3 || vehicle_type_id == mu_car_ms]) {
 0: return string(MU_UNIQUE);
}
/*---END OF SECTION---*/

item(FEAT_TRAINS, series_e3) {
    property {
        name:                           string(STR_NAME_E3_SERIES);
        introduction_date:              date(1997,03,22);
        model_life:                     VEHICLE_NEVER_EXPIRES;
        vehicle_life:                   38;
        reliability_decay:              21;
        cargo_capacity:                 50;
        loading_speed:                  20;
        cost_factor:                    175;
        running_cost_factor:            120;
        speed:                          275 km/h;
        track_type:                     MINI_SHINKANSEN;
        power:                          400 * 4 hp;
        weight:                         43 ton;
        climates_available:             ALL_CLIMATES;
        ai_special_flag:                AI_FLAG_PASSENGER;
        sprite_id:                      SPRITE_ID_NEW_TRAIN;
        misc_flags:                     bitmask(TRAIN_FLAG_MU);
        refittable_cargo_classes:       bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:   bitmask();
        refit_cost:                     0;
        dual_headed:                    1;
        ai_engine_rank:                 0;
        running_cost_base:              RUNNING_COST_ELECTRIC;
        engine_class:                   ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered:      visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 4, ENABLE_WAGON_POWER);
        tractive_effort_coefficient:    0.3;
        air_drag_coefficient:           0;
        bitmask_vehicle_info:           0;
        length:                         8;
    }
    /*Graphics and Callbacks*/
      graphics {
        default:                        sw_e3_series_graphics;
	      purchase:                       spriteset_e3_series_purchase;
		    additional_text:	              return string(STR_DESC_E3_SERIES);
        cargo_subtype_text:             sw_e3_series_year_dep_subtype_text;
        can_attach_wagon:			          sw_e3_series_attach_vehid;
        //start_stop:                   ;
        purchase_weight:                43 / 2;
        purchase_power:                 400 * 4;
        /* Stats */
        power:                          max (num_vehs_in_consist - 2 , 0 ) * 400 * 4;     // 300 kW = 400 hp
        cargo_capacity:                 56 * CapacityFactor();										        // Average 338/6, 402/7, 394/7 = 56  					
		    loading_speed:					        56 * CapacityFactor() / param_loading_1D;					// Capacity divided by door loading factor
        running_cost_factor:            (445 + 120 * num_vehs_in_consist ) * RunningCostFactor();
        purchase_running_cost_factor:   (445 + 120) / 2;	
    }
    /*Multiple Unit Car*/
      livery_override(mu_car_ms){
        default:                        sw_e3_series_graphics;
        cargo_capacity:                 56 * CapacityFactor();										        // Average 338/6, 402/7, 394/7 = 56  	
        cargo_age_period:				        param_decay_express;
        loading_speed:					        56 * CapacityFactor() / param_loading_1D;					// Capacity divided by door loading factor
        //cargo_subtype_text:             sw_e3_series_subtypetext_mucar;
        //power:                        // Apply power in graphics block to calculate power based on number of motorised cars correctly
        weight:                         43;
        //running_cost_factor:            120;
      }
}
# 1 "JPplusShinkansen.pnml" 4
# 1 "src/trains/e4_series/e4_series.pnml" 1

# 1 "src/trains/e4_series/pnml/e4_series_menu.pnml" 1
/* SUBTYPES */ 

	switch(FEAT_TRAINS, SELF, sw_e4_series_subtype_text, cargo_subtype) {
		0: return string(LV_YEAR_DEP_LIVERY);
		1: return string(LV_E4_SERIES_YELLOW);
		2: return string(LV_E4_SERIES_PINK);
        3: return string(LV_E4_SERIES_2CC);
		return CB_RESULT_NO_TEXT;
		}

/* Purchase Menu */
    spriteset (ss_e4_series_buy_yellow_livery_12, 					"src/trains/dummy/purchase.png") {template_purchase(0, 0)}
    spriteset (ss_e4_series_buy_pink_livery_12, 					"src/trains/dummy/purchase.png") {template_purchase(0, 0)}

	spriteset (ss_e4_series_buy_yellow_livery_10, 					"src/trains/dummy/purchase.png") {template_purchase(0, 0)}
    spriteset (ss_e4_series_buy_pink_livery_10, 					"src/trains/dummy/purchase.png") {template_purchase(0, 0)}

    alternative_sprites(ss_e4_series_buy_yellow_livery_12, 			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e4_series/12/purchase_yellow.png") {template_purchase(0, 0)}
    alternative_sprites(ss_e4_series_buy_pink_livery_12,    		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e4_series/12/purchase_pink.png")   {template_purchase(0, 0)}

	alternative_sprites(ss_e4_series_buy_yellow_livery_10, 			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e4_series/12/purchase_yellow.png") {template_purchase(0, 0)}
    alternative_sprites(ss_e4_series_buy_pink_livery_10,    		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e4_series/12/purchase_pink.png")   {template_purchase(0, 0)}

		switch (FEAT_TRAINS, SELF, sw_e4_series_buy_pink_livery, param_spritelength) {
			1: ss_e4_series_buy_pink_livery_10;						// Length 10
			ss_e4_series_buy_pink_livery_12;						// Length 12
		}

		switch (FEAT_TRAINS, SELF, sw_e4_series_buy_yellow_livery, param_spritelength) {
			1: ss_e4_series_buy_yellow_livery_10;					// Length 10
			ss_e4_series_buy_yellow_livery_12;						// Length 12
		}

		switch(FEAT_TRAINS, SELF, sw_e4_series_year_dep_purchase, current_year) {
			0..2014: sw_e4_series_buy_yellow_livery;
			sw_e4_series_buy_pink_livery;
		}
# 1 "src/trains/e4_series/e4_series.pnml" 2
# 1 "src/trains/e4_series/pnml/sprites/e4_series_cab01.pnml" 1
/* cab01 */

// FORWARDS

// E4 Series Yellow Stripe
spriteset(ss_e4_series_cab01f_yellow_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e4_series_cab01f_yellow_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e4_series_cab01f_yellow_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e4_series/12/e4y.png") {template_12_standard(1,1)}
alternative_sprites(ss_e4_series_cab01f_yellow_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e4_series/10/e4y.png") {template_10_standard(1,1)}		

switch (FEAT_TRAINS, SELF, sw_e4_series_cab01f_yellow, param_spritelength) {
	1: ss_e4_series_cab01f_yellow_10;				        // Length 10
	ss_e4_series_cab01f_yellow_12;				            // Length 12
}

// E4 Series Pink Stripe
spriteset(ss_e4_series_cab01f_pink_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e4_series_cab01f_pink_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e4_series_cab01f_pink_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e4_series/12/e4p.png") {template_12_standard(1,1)}
alternative_sprites(ss_e4_series_cab01f_pink_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e4_series/10/e4p.png") {template_10_standard(1,1)}		

switch (FEAT_TRAINS, SELF, sw_e4_series_cab01f_pink, param_spritelength) {
	1: ss_e4_series_cab01f_pink_10;				            // Length 10
	ss_e4_series_cab01f_pink_12;				            // Length 12
}

// E4 Series 2cc
spriteset(ss_e4_series_cab01f_2cc_12,             	        "src/trains/e4_series/12/e4_2cc.png") {template_12_standard(1,1)}
spriteset(ss_e4_series_cab01f_2cc_10,             	        "src/trains/e4_series/10/e4_2cc.png") {template_10_standard(1,1)}

switch (FEAT_TRAINS, SELF, sw_e4_series_cab01f_2cc, param_spritelength) {
	1: ss_e4_series_cab01f_2cc_10;				            // Length 10
	ss_e4_series_cab01f_2cc_12;					            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, SELF, sw_e4_series_cab01f_year_dep_livery, build_year) {
        0..2014: sw_e4_series_cab01f_yellow;
        sw_e4_series_cab01f_pink;
    }

switch(FEAT_TRAINS, PARENT, sw_e4_series_cab01f, cargo_subtype) {
        1: sw_e4_series_cab01f_yellow;
        2: sw_e4_series_cab01f_pink;
        3: sw_e4_series_cab01f_2cc;
        sw_e4_series_cab01f_year_dep_livery;
    }

// BACKWARDS

// E4 Series Yellow Stripe
spriteset(ss_e4_series_cab01b_yellow_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e4_series_cab01b_yellow_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e4_series_cab01b_yellow_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e4_series/12/e4y.png") {template_12_reversed(1,41)}
alternative_sprites(ss_e4_series_cab01b_yellow_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e4_series/10/e4y.png") {template_10_reversed(1,41)}		

switch (FEAT_TRAINS, SELF, sw_e4_series_cab01b_yellow, param_spritelength) {
	1: ss_e4_series_cab01b_yellow_10;				        // Length 10
	ss_e4_series_cab01b_yellow_12;				            // Length 12
}

// E4 Series Pink Stripe
spriteset(ss_e4_series_cab01b_pink_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e4_series_cab01b_pink_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e4_series_cab01b_pink_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e4_series/12/e4p.png") {template_12_reversed(1,41)}
alternative_sprites(ss_e4_series_cab01b_pink_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e4_series/10/e4p.png") {template_10_reversed(1,41)}		

switch (FEAT_TRAINS, SELF, sw_e4_series_cab01b_pink, param_spritelength) {
	1: ss_e4_series_cab01b_pink_10;				            // Length 10
	ss_e4_series_cab01b_pink_12;				            // Length 12
}

// E4 Series 2cc
spriteset(ss_e4_series_cab01b_2cc_12,             	        "src/trains/e4_series/12/e4_2cc.png") {template_12_reversed(1,41)}
spriteset(ss_e4_series_cab01b_2cc_10,             	        "src/trains/e4_series/10/e4_2cc.png") {template_10_reversed(1,41)}

switch (FEAT_TRAINS, SELF, sw_e4_series_cab01b_2cc, param_spritelength) {
	1: ss_e4_series_cab01b_2cc_10;				 	        // Length 10
	ss_e4_series_cab01b_2cc_12;					            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, SELF, sw_e4_series_cab01b_year_dep_livery, build_year) {
        0..2014: sw_e4_series_cab01b_yellow;
        sw_e4_series_cab01b_pink;
    }

switch(FEAT_TRAINS, PARENT, sw_e4_series_cab01b, cargo_subtype) {
        1: sw_e4_series_cab01b_yellow;
        2: sw_e4_series_cab01b_pink;
        3: sw_e4_series_cab01b_2cc;
        sw_e4_series_cab01b_year_dep_livery;
    }
# 1 "src/trains/e4_series/e4_series.pnml" 2
# 1 "src/trains/e4_series/pnml/sprites/e4_series_cab02.pnml" 1
/* cab02 */

// FORWARDS

// E4 Series Yellow Stripe
spriteset(ss_e4_series_cab02f_yellow_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e4_series_cab02f_yellow_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e4_series_cab02f_yellow_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e4_series/12/e4y.png") {template_12_cab_rev_standard(1,41)}
alternative_sprites(ss_e4_series_cab02f_yellow_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e4_series/10/e4y.png") {template_10_cab_rev_standard(1,41)}		

switch (FEAT_TRAINS, SELF, sw_e4_series_cab02f_yellow, param_spritelength) {
	1: ss_e4_series_cab02f_yellow_10;				        // Length 10
	ss_e4_series_cab02f_yellow_12;				            // Length 12
}

// E4 Series Pink Stripe
spriteset(ss_e4_series_cab02f_pink_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e4_series_cab02f_pink_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e4_series_cab02f_pink_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e4_series/12/e4p.png") {template_12_cab_rev_standard(1,41)}
alternative_sprites(ss_e4_series_cab02f_pink_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e4_series/10/e4p.png") {template_10_cab_rev_standard(1,41)}		

switch (FEAT_TRAINS, SELF, sw_e4_series_cab02f_pink, param_spritelength) {
	1: ss_e4_series_cab02f_pink_10;				            // Length 10
	ss_e4_series_cab02f_pink_12;				            // Length 12
}

// E4 Series 2cc
spriteset(ss_e4_series_cab02f_2cc_12,             	        "src/trains/e4_series/12/e4_2cc.png") {template_12_cab_rev_standard(1,41)}
spriteset(ss_e4_series_cab02f_2cc_10,             	        "src/trains/e4_series/10/e4_2cc.png") {template_10_cab_rev_standard(1,41)}

switch (FEAT_TRAINS, SELF, sw_e4_series_cab02f_2cc, param_spritelength) {
	1: ss_e4_series_cab02f_2cc_10;				            // Length 10
	ss_e4_series_cab02f_2cc_12;					            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, SELF, sw_e4_series_cab02f_year_dep_livery, build_year) {
        0..2014: sw_e4_series_cab02f_yellow;
        sw_e4_series_cab02f_pink;
    }

switch(FEAT_TRAINS, PARENT, sw_e4_series_cab02f, cargo_subtype) {
        1: sw_e4_series_cab02f_yellow;
        2: sw_e4_series_cab02f_pink;
        3: sw_e4_series_cab02f_2cc;
        sw_e4_series_cab02f_year_dep_livery;
    }

// BACKWARDS

// E4 Series Yellow Stripe
spriteset(ss_e4_series_cab02b_yellow_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e4_series_cab02b_yellow_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e4_series_cab02b_yellow_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e4_series/12/e4y.png") {template_12_cab_rev_reversed(1,1)}
alternative_sprites(ss_e4_series_cab02b_yellow_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e4_series/10/e4y.png") {template_10_cab_rev_reversed(1,1)}		

switch (FEAT_TRAINS, SELF, sw_e4_series_cab02b_yellow, param_spritelength) {
	1: ss_e4_series_cab02b_yellow_10;				        // Length 10
	ss_e4_series_cab02b_yellow_12;				            // Length 12
}

// E4 Series Pink Stripe
spriteset(ss_e4_series_cab02b_pink_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e4_series_cab02b_pink_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e4_series_cab02b_pink_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e4_series/12/e4p.png") {template_12_cab_rev_reversed(1,1)}
alternative_sprites(ss_e4_series_cab02b_pink_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e4_series/10/e4p.png") {template_10_cab_rev_reversed(1,1)}		

switch (FEAT_TRAINS, SELF, sw_e4_series_cab02b_pink, param_spritelength) {
	1: ss_e4_series_cab02b_pink_10;				            // Length 10
	ss_e4_series_cab02b_pink_12;				            // Length 12
}

// E4 Series 2cc
spriteset(ss_e4_series_cab02b_2cc_12,             	        "src/trains/e4_series/12/e4_2cc.png") {template_12_cab_rev_reversed(1,1)}
spriteset(ss_e4_series_cab02b_2cc_10,             	        "src/trains/e4_series/10/e4_2cc.png") {template_10_cab_rev_reversed(1,1)}

switch (FEAT_TRAINS, SELF, sw_e4_series_cab02b_2cc, param_spritelength) {
	1: ss_e4_series_cab02b_2cc_10;				 	        // Length 10
	ss_e4_series_cab02b_2cc_12;					            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, SELF, sw_e4_series_cab02b_year_dep_livery, build_year) {
        0..2014: sw_e4_series_cab02b_yellow;
        sw_e4_series_cab02b_pink;
    }

switch(FEAT_TRAINS, PARENT, sw_e4_series_cab02b, cargo_subtype) {
        1: sw_e4_series_cab02b_yellow;
        2: sw_e4_series_cab02b_pink;
        3: sw_e4_series_cab02b_2cc;
        sw_e4_series_cab02b_year_dep_livery;
    }
# 1 "src/trains/e4_series/e4_series.pnml" 2
# 1 "src/trains/e4_series/pnml/sprites/e4_series_coach.pnml" 1
/* coach */

// FORWARDS

// E4 Series Yellow Stripe
spriteset(ss_e4_series_coachf_yellow_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e4_series_coachf_yellow_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e4_series_coachf_yellow_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e4_series/12/e4y.png") {template_12_standard(1,121)}
alternative_sprites(ss_e4_series_coachf_yellow_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e4_series/10/e4y.png") {template_10_standard(1,121)}		

switch (FEAT_TRAINS, SELF, sw_e4_series_coachf_yellow, param_spritelength) {
	1: ss_e4_series_coachf_yellow_10;				        // Length 10
	ss_e4_series_coachf_yellow_12;				            // Length 12
}

// E4 Series Pink Stripe
spriteset(ss_e4_series_coachf_pink_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e4_series_coachf_pink_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e4_series_coachf_pink_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e4_series/12/e4p.png") {template_12_standard(1,121)}
alternative_sprites(ss_e4_series_coachf_pink_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e4_series/10/e4p.png") {template_10_standard(1,121)}		

switch (FEAT_TRAINS, SELF, sw_e4_series_coachf_pink, param_spritelength) {
	1: ss_e4_series_coachf_pink_10;				            // Length 10
	ss_e4_series_coachf_pink_12;				            // Length 12
}

// E4 Series 2cc
spriteset(ss_e4_series_coachf_2cc_12,             	        "src/trains/e4_series/12/e4_2cc.png") {template_12_standard(1,121)}
spriteset(ss_e4_series_coachf_2cc_10,             	        "src/trains/e4_series/10/e4_2cc.png") {template_10_standard(1,121)}

switch (FEAT_TRAINS, SELF, sw_e4_series_coachf_2cc, param_spritelength) {
	1: ss_e4_series_coachf_2cc_10;				            // Length 10
	ss_e4_series_coachf_2cc_12;					            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, SELF, sw_e4_series_coachf_year_dep_livery, build_year) {
        0..2014: sw_e4_series_coachf_yellow;
        sw_e4_series_coachf_pink;
    }

switch(FEAT_TRAINS, PARENT, sw_e4_series_coachf, cargo_subtype) {
        1: sw_e4_series_coachf_yellow;
        2: sw_e4_series_coachf_pink;
        3: sw_e4_series_coachf_2cc;
        sw_e4_series_coachf_year_dep_livery;
    }

// BACKWARDS

// E4 Series Yellow Stripe
spriteset(ss_e4_series_coachb_yellow_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e4_series_coachb_yellow_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e4_series_coachb_yellow_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e4_series/12/e4y.png") {template_12_reversed(1,121)}
alternative_sprites(ss_e4_series_coachb_yellow_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e4_series/10/e4y.png") {template_10_reversed(1,121)}		

switch (FEAT_TRAINS, SELF, sw_e4_series_coachb_yellow, param_spritelength) {
	1: ss_e4_series_coachb_yellow_10;				        // Length 10
	ss_e4_series_coachb_yellow_12;				            // Length 12
}

// E4 Series Pink Stripe
spriteset(ss_e4_series_coachb_pink_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e4_series_coachb_pink_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e4_series_coachb_pink_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e4_series/12/e4p.png") {template_12_reversed(1,121)}
alternative_sprites(ss_e4_series_coachb_pink_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e4_series/10/e4p.png") {template_10_reversed(1,121)}		

switch (FEAT_TRAINS, SELF, sw_e4_series_coachb_pink, param_spritelength) {
	1: ss_e4_series_coachb_pink_10;				            // Length 10
	ss_e4_series_coachb_pink_12;				            // Length 12
}

// E4 Series 2cc
spriteset(ss_e4_series_coachb_2cc_12,             	        "src/trains/e4_series/12/e4_2cc.png") {template_12_reversed(1,121)}
spriteset(ss_e4_series_coachb_2cc_10,             	        "src/trains/e4_series/10/e4_2cc.png") {template_10_reversed(1,121)}

switch (FEAT_TRAINS, SELF, sw_e4_series_coachb_2cc, param_spritelength) {
	1: ss_e4_series_coachb_2cc_10;				 	        // Length 10
	ss_e4_series_coachb_2cc_12;					            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, SELF, sw_e4_series_coachb_year_dep_livery, build_year) {
        0..2014: sw_e4_series_coachb_yellow;
        sw_e4_series_coachb_pink;
    }

switch(FEAT_TRAINS, PARENT, sw_e4_series_coachb, cargo_subtype) {
        1: sw_e4_series_coachb_yellow;
        2: sw_e4_series_coachb_pink;
        3: sw_e4_series_coachb_2cc;
        sw_e4_series_coachb_year_dep_livery;
    }
# 1 "src/trains/e4_series/e4_series.pnml" 2
# 1 "src/trains/e4_series/pnml/sprites/e4_series_panto.pnml" 1
/* panto */

// FORWARDS

// E4 Series Yellow Stripe
spriteset(ss_e4_series_pantof_yellow_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e4_series_pantof_yellow_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e4_series_pantof_yellow_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e4_series/12/e4y.png") {template_12_standard(1,81)}
alternative_sprites(ss_e4_series_pantof_yellow_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e4_series/10/e4y.png") {template_10_standard(1,81)}		

switch (FEAT_TRAINS, SELF, sw_e4_series_pantof_yellow, param_spritelength) {
	1: ss_e4_series_pantof_yellow_10;				        // Length 10
	ss_e4_series_pantof_yellow_12;				            // Length 12
}

// E4 Series Pink Stripe
spriteset(ss_e4_series_pantof_pink_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e4_series_pantof_pink_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e4_series_pantof_pink_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e4_series/12/e4p.png") {template_12_standard(1,81)}
alternative_sprites(ss_e4_series_pantof_pink_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e4_series/10/e4p.png") {template_10_standard(1,81)}		

switch (FEAT_TRAINS, SELF, sw_e4_series_pantof_pink, param_spritelength) {
	1: ss_e4_series_pantof_pink_10;				            // Length 10
	ss_e4_series_pantof_pink_12;				            // Length 12
}

// E4 Series 2cc
spriteset(ss_e4_series_pantof_2cc_12,             	        "src/trains/e4_series/12/e4_2cc.png") {template_12_standard(1,81)}
spriteset(ss_e4_series_pantof_2cc_10,             	        "src/trains/e4_series/10/e4_2cc.png") {template_10_standard(1,81)}

switch (FEAT_TRAINS, SELF, sw_e4_series_pantof_2cc, param_spritelength) {
	1: ss_e4_series_pantof_2cc_10;				            // Length 10
	ss_e4_series_pantof_2cc_12;					            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, SELF, sw_e4_series_pantof_year_dep_livery, build_year) {
        0..2014: sw_e4_series_pantof_yellow;
        sw_e4_series_pantof_pink;
    }

switch(FEAT_TRAINS, PARENT, sw_e4_series_pantof, cargo_subtype) {
        1: sw_e4_series_pantof_yellow;
        2: sw_e4_series_pantof_pink;
        3: sw_e4_series_pantof_2cc;
        sw_e4_series_pantof_year_dep_livery;
    }

// BACKWARDS

// E4 Series Yellow Stripe
spriteset(ss_e4_series_pantob_yellow_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e4_series_pantob_yellow_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e4_series_pantob_yellow_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e4_series/12/e4y.png") {template_12_reversed(1,81)}
alternative_sprites(ss_e4_series_pantob_yellow_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e4_series/10/e4y.png") {template_10_reversed(1,81)}		

switch (FEAT_TRAINS, SELF, sw_e4_series_pantob_yellow, param_spritelength) {
	1: ss_e4_series_pantob_yellow_10;				        // Length 10
	ss_e4_series_pantob_yellow_12;				            // Length 12
}

// E4 Series Pink Stripe
spriteset(ss_e4_series_pantob_pink_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e4_series_pantob_pink_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e4_series_pantob_pink_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e4_series/12/e4p.png") {template_12_reversed(1,81)}
alternative_sprites(ss_e4_series_pantob_pink_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e4_series/10/e4p.png") {template_10_reversed(1,81)}		

switch (FEAT_TRAINS, SELF, sw_e4_series_pantob_pink, param_spritelength) {
	1: ss_e4_series_pantob_pink_10;				            // Length 10
	ss_e4_series_pantob_pink_12;				            // Length 12
}

// E4 Series 2cc
spriteset(ss_e4_series_pantob_2cc_12,             	        "src/trains/e4_series/12/e4_2cc.png") {template_12_reversed(1,81)}
spriteset(ss_e4_series_pantob_2cc_10,             	        "src/trains/e4_series/10/e4_2cc.png") {template_10_reversed(1,81)}

switch (FEAT_TRAINS, SELF, sw_e4_series_pantob_2cc, param_spritelength) {
	1: ss_e4_series_pantob_2cc_10;				 	        // Length 10
	ss_e4_series_pantob_2cc_12;					            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, SELF, sw_e4_series_pantob_year_dep_livery, build_year) {
        0..2014: sw_e4_series_pantob_yellow;
        sw_e4_series_pantob_pink;
    }

switch(FEAT_TRAINS, PARENT, sw_e4_series_pantob, cargo_subtype) {
        1: sw_e4_series_pantob_yellow;
        2: sw_e4_series_pantob_pink;
        3: sw_e4_series_pantob_2cc;
        sw_e4_series_pantob_year_dep_livery;
    }
# 1 "src/trains/e4_series/e4_series.pnml" 2
# 1 "src/trains/e4_series/pnml/e4_series_formations.pnml" 1
// Panto car positions when reversed
switch (FEAT_TRAINS, SELF, sw_e4_series_backwards_special, position_in_consist_from_end % 48) {				
		10: sw_e4_series_pantob;
		16: sw_e4_series_pantob;
		22: sw_e4_series_cab02b;
		25: sw_e4_series_cab01b;
		34: sw_e4_series_pantob;
		40: sw_e4_series_pantob;
		sw_e4_series_coachb;				
	}	

// Panto car positions
switch (FEAT_TRAINS, SELF, sw_e4_series_forwards_special, position_in_consist % 48) {				
		10: sw_e4_series_pantof;
		16: sw_e4_series_pantof;
		22: sw_e4_series_cab02f;
		25: sw_e4_series_cab01f;
		34: sw_e4_series_pantof;
		40: sw_e4_series_pantof;
		sw_e4_series_coachf;				
	}

/* Length checks- */

	switch (FEAT_TRAINS, SELF, sw_e4_series_forwards_length_large, (position_in_consist == 10) || (position_in_consist_from_end == 7 )) {				
			0:  sw_e4_series_coachf;
			sw_e4_series_pantof;				
		}
	switch (FEAT_TRAINS, SELF, sw_e4_series_forwards_length_small, (position_in_consist == position_in_consist_from_end ) || (position_in_consist - 3 == position_in_consist_from_end) ) {				
			0:  sw_e4_series_coachf;
			sw_e4_series_pantof;				
		}

	switch (FEAT_TRAINS, SELF, sw_e4_series_forwards_length, num_vehs_in_consist < 24 ) {				
				0:  sw_e4_series_forwards_length_large;
				sw_e4_series_forwards_length_small;				
			}

	switch (FEAT_TRAINS, SELF, sw_e4_series_forwards, num_vehs_in_consist == 48) {				
			0:  sw_e4_series_forwards_length;
			sw_e4_series_forwards_special;				
		}

	switch (FEAT_TRAINS, SELF, sw_e4_series_backwards_length_large, (position_in_consist == 7) || (position_in_consist_from_end == 10 )) {				
			0:  sw_e4_series_coachb;
			sw_e4_series_pantob;				
		}
	switch (FEAT_TRAINS, SELF, sw_e4_series_backwards_length_small, (position_in_consist == position_in_consist_from_end ) || (position_in_consist - 3 == position_in_consist_from_end) ) {				
			0:  sw_e4_series_coachb;
			sw_e4_series_pantob;				
		}

	switch (FEAT_TRAINS, SELF, sw_e4_series_backwards_length, num_vehs_in_consist < 24 ) {				
			0:  sw_e4_series_backwards_length_large;
			sw_e4_series_backwards_length_small;				
		}

	switch (FEAT_TRAINS, SELF, sw_e4_series_backwards, num_vehs_in_consist == 48) {				
			0:  sw_e4_series_backwards_length;
			sw_e4_series_backwards_special;				
		}

// Is the Shinkansen reversed?
switch (FEAT_TRAINS, PARENT, sw_e4_series_midcars, vehicle_is_reversed) {				
		0:  sw_e4_series_forwards;
		sw_e4_series_backwards;				
	}

/* Cab selection */
    // Rear cab
    switch (FEAT_TRAINS, PARENT, sw_e4_series_rear, vehicle_is_reversed) {				
            1:  sw_e4_series_cab01b;                   // cab01	
            sw_e4_series_cab02f;                       // cab02
        }

    // Lead cab
    switch (FEAT_TRAINS, PARENT, sw_e4_series_lead, vehicle_is_reversed) {				
            1:  sw_e4_series_cab02b;                   // cab02
            sw_e4_series_cab01f;                       // cab01	
        }

/* Find the cabs */
    switch (FEAT_TRAINS, SELF, sw_e4_series_lead_or_rear, position_in_consist) {				
            1:  sw_e4_series_lead;
            sw_e4_series_rear;				
        }
    
    switch (FEAT_TRAINS, SELF, sw_e4_series_ends, position_in_consist == 1 || position_in_consist_from_end == 1) {				
            1:  sw_e4_series_lead_or_rear;
            sw_e4_series_midcars;				
        }
# 1 "src/trains/e4_series/e4_series.pnml" 2
# 1 "src/trains/e4_series/pnml/e4_series_item.pnml" 1
switch (FEAT_TRAINS, SELF, sw_e4_series_graphics, position_in_consist % 3) {				
		1:  sw_e4_series_ends; 				
		dummy_sprites;
	}

switch (FEAT_TRAINS, SELF, sw_e4_series_articulated_part, extra_callback_info1) {
		1 .. 2: return series_e4;									
		return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
	}

/*---Coupling Switch---*/
switch(FEAT_TRAINS, SELF, sw_e4_series_attach_vehid, [vehicle_type_id == mu_car_full] ) {
 0: return string(ONLY_ADD_MUCAR);
}

/*---Length Check---*/
switch (FEAT_TRAINS, SELF, sw_e4_series_stop_start, [num_vehs_in_consist < 12]) {				
		1:  return string(STR_LENGTH_ERROR); 				
		return CB_RESULT_NO_TEXT; 
	}

item(FEAT_TRAINS, series_e4) {
	property {
		/* Menu */
        name: 							string(STR_NAME_E4_SERIES);
		sprite_id:                      SPRITE_ID_NEW_TRAIN; 		// required to enable new graphics
        misc_flags:                     bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_TILT, TRAIN_FLAG_AUTOREFIT, TRAIN_FLAG_2CC);
        running_cost_base:              RUNNING_COST_ELECTRIC;
		engine_class:                   ENGINE_CLASS_ELECTRIC;
        /* Availability */
        climates_available:             ALL_CLIMATES;
		introduction_date:              date(1997,12,20);
		model_life:                     VEHICLE_NEVER_EXPIRES;		//
		vehicle_life:                   30;							// 
		track_type:                     SHINKANSEN;
        /* Cargo */
        reliability_decay:              5;
		refittable_cargo_classes:       bitmask(CC_PASSENGERS);
		refit_cost:                     0;
		default_cargo_type:             PASS;
		ai_special_flag:                AI_FLAG_PASSENGER;
        cargo_capacity:                 1;							// 
		loading_speed:                  50;							
		cargo_age_period:               278; 						// 1.5 times normal for this expensive long-distance train
		/* Stats */
		speed:                          241 km/h;					// Operational Top Speed
		power:                          560 * 4 * 8 hp;				// Agreed to Wikipedia
		weight:                         54 * 8 tons;				// Agreed to Wikipedia 
		tractive_effort_coefficient:    0.3;
		air_drag_coefficient:			0;
	}
	graphics {
		/* Menu */
        additional_text:                string(STR_DESC_E4_SERIES);
        cargo_subtype_text:             sw_e4_series_subtype_text;
		can_attach_wagon:				sw_e4_series_attach_vehid;
		start_stop:						sw_e4_series_stop_start;
		purchase_weight:                54;
        purchase_power:                 563 * 4;
        /* Graphics */
        default:                        sw_e4_series_graphics;
		purchase:                       sw_e4_series_year_dep_purchase;
		articulated_part:               sw_e4_series_articulated_part;
		visual_effect_and_powered:      sw_visual_effect_and_powered;
        /* Stats */
        length:                         sw_param_length;
		power:							NumberCarsInConsist() / 2 * 563 * 4;	// 420 kW = 563 hp
		weight:							NumberCarsInConsist() * 54;
		cargo_capacity:                 35 * CapacityFactor();										// 817 capacity / (8 cars * 3 parts) is approx 35						
		loading_speed:					35 * CapacityFactor() / param_loading_2D;					// Capacity divided by door loading factor
		cargo_age_period:				param_decay_express;
		cost_factor:                    105;
        running_cost_factor:            (295 + 120 * NumberCarsInConsist() ) * RunningCostFactor();
		purchase_running_cost_factor:   295 + 120 * NumberCarsInConsist();
	}

	/*Multiple Unit Car*/
	
      livery_override(mu_car_full){
        default:                        sw_e4_series_graphics;
        cargo_capacity:                 35 * CapacityFactor();
        cargo_age_period:				param_decay_express;
        loading_speed:                  35 * CapacityFactor() / param_loading_2D;
		articulated_part:				sw_mucar_full_articulated_part;
		length:							sw_param_length;
		//power:						// Apply power in graphics block to calculate power based on number of motorised cars correctly
        //weight:						// Apply weight in graphics block to calculate Max T.E. correctly
        //running_cost_factor:            sw_e4_series_running_costs;
      }
}
# 1 "src/trains/e4_series/e4_series.pnml" 2
# 1 "JPplusShinkansen.pnml" 4
# 1 "src/trains/e5_series/e5_series.pnml" 1

# 1 "src/trains/e5_series/pnml/e5_series_menu.pnml" 1
/* SUBTYPES */ 
	switch(FEAT_TRAINS, SELF, sw_e5_series_subtype_text, cargo_subtype) {
		0: return string(LV_E5_SERIES_E5);
		1: return string(LV_E5_SERIES_H5);
		2: return string(LV_E5_SERIES_2CC);
		return CB_RESULT_NO_TEXT;
		}

/* Purchase Menu */
	spriteset (ss_buy_e5_series_pink_livery_12,	        			"src/trains/dummy/purchase.png") {template_purchase(0, 0)}
	spriteset (ss_buy_e5_series_pink_livery_10,	        			"src/trains/dummy/purchase.png") {template_purchase(0, 0)}

	alternative_sprites(ss_buy_e5_series_pink_livery_12,   			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/purchase.png") {template_purchase(0, 0)}
	alternative_sprites(ss_buy_e5_series_pink_livery_10,    		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/purchase.png") {template_purchase(0, 0)}

		switch (FEAT_TRAINS, SELF, sw_buy_e5_series_pink_livery, param_spritelength) {
			1: ss_buy_e5_series_pink_livery_10;						// Length 10
			ss_buy_e5_series_pink_livery_12;						// Length 12
		}
# 1 "src/trains/e5_series/e5_series.pnml" 2
# 1 "src/trains/e5_series/pnml/sprites/e5_series_cab01.pnml" 1
/* cab01 */

// FORWARDS

// E5 Series Pink Stripe
spriteset(ss_e5_series_cab01f_pink_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e5_series_cab01f_pink_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e5_series_cab01f_pink_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5pink.png") {template_12_standard(1,1)}
alternative_sprites(ss_e5_series_cab01f_pink_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5pink.png") {template_10_standard(1,1)}		

switch (FEAT_TRAINS, SELF, sw_e5_series_cab01f_pink, param_spritelength) {
	1: ss_e5_series_cab01f_pink_10;				            // Length 10
	ss_e5_series_cab01f_pink_12;				            // Length 12
}

// H5 Series Purple Stripe
spriteset(ss_e5_series_cab01f_purple_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e5_series_cab01f_purple_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e5_series_cab01f_purple_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5purple.png") {template_12_standard(1,1)}
alternative_sprites(ss_e5_series_cab01f_purple_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5purple.png") {template_10_standard(1,1)}		

switch (FEAT_TRAINS, SELF, sw_e5_series_cab01f_purple, param_spritelength) {
	1: ss_e5_series_cab01f_purple_10;				        // Length 10
	ss_e5_series_cab01f_purple_12;				            // Length 12
}

// E5 Series 2cc
spriteset(ss_e5_series_cab01f_2cc_12,             	        "src/trains/e5_series/12/e5_2cc.png") {template_12_standard(1,1)}
spriteset(ss_e5_series_cab01f_2cc_10,             	        "src/trains/e5_series/10/e5_2cc.png") {template_10_standard(1,1)}

switch (FEAT_TRAINS, SELF, sw_e5_series_cab01f_2cc, param_spritelength) {
	1: ss_e5_series_cab01f_2cc_10;				            // Length 10
	ss_e5_series_cab01f_2cc_12;					            // Length 12
}

// Subtype Selection

switch(FEAT_TRAINS, PARENT, sw_e5_series_cab01f, cargo_subtype) {
        1: sw_e5_series_cab01f_purple;
		2: sw_e5_series_cab01f_2cc;
        sw_e5_series_cab01f_pink;
    }

// BACKWARDS

// E5 Series Pink Stripe
spriteset(ss_e5_series_cab01b_pink_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e5_series_cab01b_pink_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e5_series_cab01b_pink_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5pink.png") {template_12_reversed(1,41)}
alternative_sprites(ss_e5_series_cab01b_pink_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5pink.png") {template_10_reversed(1,41)}		

switch (FEAT_TRAINS, SELF, sw_e5_series_cab01b_pink, param_spritelength) {
	1: ss_e5_series_cab01b_pink_10;				            // Length 10
	ss_e5_series_cab01b_pink_12;				            // Length 12
}

// H5 Series Purple Stripe
spriteset(ss_e5_series_cab01b_purple_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e5_series_cab01b_purple_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e5_series_cab01b_purple_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5purple.png") {template_12_reversed(1,41)}
alternative_sprites(ss_e5_series_cab01b_purple_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5purple.png") {template_10_reversed(1,41)}		

switch (FEAT_TRAINS, SELF, sw_e5_series_cab01b_purple, param_spritelength) {
	1: ss_e5_series_cab01b_purple_10;				        // Length 10
	ss_e5_series_cab01b_purple_12;				            // Length 12
}

// E5 Series 2cc
spriteset(ss_e5_series_cab01b_2cc_12,             	        "src/trains/e5_series/12/e5_2cc.png") {template_12_reversed(1,41)}
spriteset(ss_e5_series_cab01b_2cc_10,             	        "src/trains/e5_series/10/e5_2cc.png") {template_10_reversed(1,41)}

switch (FEAT_TRAINS, SELF, sw_e5_series_cab01b_2cc, param_spritelength) {
	1: ss_e5_series_cab01b_2cc_10;				            // Length 10
	ss_e5_series_cab01b_2cc_12;					            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_e5_series_cab01b, cargo_subtype) {
        1: sw_e5_series_cab01b_purple;
		2: sw_e5_series_cab01b_2cc;
        sw_e5_series_cab01b_pink;
    }
# 1 "src/trains/e5_series/e5_series.pnml" 2
# 1 "src/trains/e5_series/pnml/sprites/e5_series_cab02.pnml" 1
/* cab02 */

// FORWARDS

// E5 Series Pink Stripe
spriteset(ss_e5_series_cab02f_pink_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e5_series_cab02f_pink_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e5_series_cab02f_pink_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5pink.png") {template_12_cab_rev_standard(1,41)}
alternative_sprites(ss_e5_series_cab02f_pink_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5pink.png") {template_10_cab_rev_standard(1,41)}		

switch (FEAT_TRAINS, SELF, sw_e5_series_cab02f_pink, param_spritelength) {
	1: ss_e5_series_cab02f_pink_10;				            // Length 10
	ss_e5_series_cab02f_pink_12;				            // Length 12
}

// H5 Series Purple Stripe
spriteset(ss_e5_series_cab02f_purple_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e5_series_cab02f_purple_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e5_series_cab02f_purple_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5purple.png") {template_12_cab_rev_standard(1,41)}
alternative_sprites(ss_e5_series_cab02f_purple_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5purple.png") {template_10_cab_rev_standard(1,41)}		

switch (FEAT_TRAINS, SELF, sw_e5_series_cab02f_purple, param_spritelength) {
	1: ss_e5_series_cab02f_purple_10;				        // Length 10
	ss_e5_series_cab02f_purple_12;				            // Length 12
}

// E5 Series 2cc
spriteset(ss_e5_series_cab02f_2cc_12,             	        "src/trains/e5_series/12/e5_2cc.png") {template_12_cab_rev_standard(1,41)}
spriteset(ss_e5_series_cab02f_2cc_10,             	        "src/trains/e5_series/10/e5_2cc.png") {template_10_cab_rev_standard(1,41)}

switch (FEAT_TRAINS, SELF, sw_e5_series_cab02f_2cc, param_spritelength) {
	1: ss_e5_series_cab02f_2cc_10;				 	        // Length 10
	ss_e5_series_cab02f_2cc_12;					            // Length 12
}

// Subtype Selection

switch(FEAT_TRAINS, PARENT, sw_e5_series_cab02f, cargo_subtype) {
        1: sw_e5_series_cab02f_purple;
		2: sw_e5_series_cab02f_2cc;
        sw_e5_series_cab02f_pink;
    }

// BACKWARDS

// E5 Series Pink Stripe
spriteset(ss_e5_series_cab02b_pink_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e5_series_cab02b_pink_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e5_series_cab02b_pink_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5pink.png") {template_12_cab_rev_reversed(1,1)}
alternative_sprites(ss_e5_series_cab02b_pink_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5pink.png") {template_10_cab_rev_reversed(1,1)}		

switch (FEAT_TRAINS, SELF, sw_e5_series_cab02b_pink, param_spritelength) {
	1: ss_e5_series_cab02b_pink_10;				            // Length 10
	ss_e5_series_cab02b_pink_12;				            // Length 12
}

// H5 Series Purple Stripe
spriteset(ss_e5_series_cab02b_purple_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e5_series_cab02b_purple_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e5_series_cab02b_purple_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5purple.png") {template_12_cab_rev_reversed(1,1)}
alternative_sprites(ss_e5_series_cab02b_purple_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5purple.png") {template_10_cab_rev_reversed(1,1)}		

switch (FEAT_TRAINS, SELF, sw_e5_series_cab02b_purple, param_spritelength) {
	1: ss_e5_series_cab02b_purple_10;				        // Length 10
	ss_e5_series_cab02b_purple_12;				            // Length 12
}

// E5 Series 2cc
spriteset(ss_e5_series_cab02b_2cc_12,             	        "src/trains/e5_series/12/e5_2cc.png") {template_12_cab_rev_reversed(1,1)}
spriteset(ss_e5_series_cab02b_2cc_10,             	        "src/trains/e5_series/10/e5_2cc.png") {template_10_cab_rev_reversed(1,1)}

switch (FEAT_TRAINS, SELF, sw_e5_series_cab02b_2cc, param_spritelength) {
	1: ss_e5_series_cab02b_2cc_10;				 	        // Length 10
	ss_e5_series_cab02b_2cc_12;					            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_e5_series_cab02b, cargo_subtype) {
        1: sw_e5_series_cab02b_purple;
		2: sw_e5_series_cab02b_2cc;
        sw_e5_series_cab02b_pink;
    }
# 1 "src/trains/e5_series/e5_series.pnml" 2
# 1 "src/trains/e5_series/pnml/sprites/e5_series_coach.pnml" 1
/* coach */

// FORWARDS

// E5 Series Pink Stripe
spriteset(ss_e5_series_coachf_pink_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e5_series_coachf_pink_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e5_series_coachf_pink_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5pink.png") {template_12_standard(1,81)}
alternative_sprites(ss_e5_series_coachf_pink_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5pink.png") {template_10_standard(1,81)}		

switch (FEAT_TRAINS, SELF, sw_e5_series_coachf_pink, param_spritelength) {
	1: ss_e5_series_coachf_pink_10;				            // Length 10
	ss_e5_series_coachf_pink_12;				            // Length 12
}

// H5 Series Purple Stripe
spriteset(ss_e5_series_coachf_purple_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e5_series_coachf_purple_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e5_series_coachf_purple_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5purple.png") {template_12_standard(1,81)}
alternative_sprites(ss_e5_series_coachf_purple_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5purple.png") {template_10_standard(1,81)}		

switch (FEAT_TRAINS, SELF, sw_e5_series_coachf_purple, param_spritelength) {
	1: ss_e5_series_coachf_purple_10;				        // Length 10
	ss_e5_series_coachf_purple_12;				            // Length 12
}

// E5 Series 2cc
spriteset(ss_e5_series_coachf_2cc_12,             	        "src/trains/e5_series/12/e5_2cc.png") {template_12_standard(1,81)}
spriteset(ss_e5_series_coachf_2cc_10,             	        "src/trains/e5_series/10/e5_2cc.png") {template_10_standard(1,81)}

switch (FEAT_TRAINS, SELF, sw_e5_series_coachf_2cc, param_spritelength) {
	1: ss_e5_series_coachf_2cc_10;				            // Length 10
	ss_e5_series_coachf_2cc_12;					            // Length 12
}

// Subtype Selection

switch(FEAT_TRAINS, PARENT, sw_e5_series_coachf, cargo_subtype) {
        1: sw_e5_series_coachf_purple;
		2: sw_e5_series_coachf_2cc;
        sw_e5_series_coachf_pink;
    }

// BACKWARDS

// E5 Series Pink Stripe
spriteset(ss_e5_series_coachb_pink_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e5_series_coachb_pink_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e5_series_coachb_pink_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5pink.png") {template_12_reversed(1,81)}
alternative_sprites(ss_e5_series_coachb_pink_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5pink.png") {template_10_reversed(1,81)}		

switch (FEAT_TRAINS, SELF, sw_e5_series_coachb_pink, param_spritelength) {
	1: ss_e5_series_coachb_pink_10;				            // Length 10
	ss_e5_series_coachb_pink_12;				            // Length 12
}

// H5 Series Purple Stripe
spriteset(ss_e5_series_coachb_purple_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e5_series_coachb_purple_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e5_series_coachb_purple_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5purple.png") {template_12_reversed(1,81)}
alternative_sprites(ss_e5_series_coachb_purple_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5purple.png") {template_10_reversed(1,81)}		

switch (FEAT_TRAINS, SELF, sw_e5_series_coachb_purple, param_spritelength) {
	1: ss_e5_series_coachb_purple_10;				        // Length 10
	ss_e5_series_coachb_purple_12;				            // Length 12
}

// E5 Series 2cc
spriteset(ss_e5_series_coachb_2cc_12,             	        "src/trains/e5_series/12/e5_2cc.png") {template_12_reversed(1,81)}
spriteset(ss_e5_series_coachb_2cc_10,             	        "src/trains/e5_series/10/e5_2cc.png") {template_10_reversed(1,81)}

switch (FEAT_TRAINS, SELF, sw_e5_series_coachb_2cc, param_spritelength) {
	1: ss_e5_series_coachb_2cc_10;				            // Length 10
	ss_e5_series_coachb_2cc_12;					            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_e5_series_coachb, cargo_subtype) {
        1: sw_e5_series_coachb_purple;
		2: sw_e5_series_coachb_2cc;
        sw_e5_series_coachb_pink;
    }
# 1 "src/trains/e5_series/e5_series.pnml" 2
# 1 "src/trains/e5_series/pnml/sprites/e5_series_panto.pnml" 1
/* panto */

// FORWARDS

// E5 Series Pink Stripe
spriteset(ss_e5_series_pantof_pink_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e5_series_pantof_pink_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e5_series_pantof_pink_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5pink.png") {template_12_standard(1,121)}
alternative_sprites(ss_e5_series_pantof_pink_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5pink.png") {template_10_standard(1,121)}		

switch (FEAT_TRAINS, SELF, sw_e5_series_pantof_pink, param_spritelength) {
	1: ss_e5_series_pantof_pink_10;				            // Length 10
	ss_e5_series_pantof_pink_12;				            // Length 12
}

// H5 Series Purple Stripe
spriteset(ss_e5_series_pantof_purple_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e5_series_pantof_purple_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e5_series_pantof_purple_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5purple.png") {template_12_standard(1,121)}
alternative_sprites(ss_e5_series_pantof_purple_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5purple.png") {template_10_standard(1,121)}		

switch (FEAT_TRAINS, SELF, sw_e5_series_pantof_purple, param_spritelength) {
	1: ss_e5_series_pantof_purple_10;				        // Length 10
	ss_e5_series_pantof_purple_12;				            // Length 12
}

// E5 Series 2cc
spriteset(ss_e5_series_pantof_2cc_12,             	        "src/trains/e5_series/12/e5_2cc.png") {template_12_standard(1,121)}
spriteset(ss_e5_series_pantof_2cc_10,             	        "src/trains/e5_series/10/e5_2cc.png") {template_10_standard(1,121)}

switch (FEAT_TRAINS, SELF, sw_e5_series_pantof_2cc, param_spritelength) {
	1: ss_e5_series_pantof_2cc_10;				            // Length 10
	ss_e5_series_pantof_2cc_12;					            // Length 12
}

// Subtype Selection

switch(FEAT_TRAINS, PARENT, sw_e5_series_pantof, cargo_subtype) {
        1: sw_e5_series_pantof_purple;
		2: sw_e5_series_pantof_2cc;
        sw_e5_series_pantof_pink;
    }

// BACKWARDS

// E5 Series Pink Stripe
spriteset(ss_e5_series_pantob_pink_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e5_series_pantob_pink_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e5_series_pantob_pink_12,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5pink.png") {template_12_reversed(1,121)}
alternative_sprites(ss_e5_series_pantob_pink_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5pink.png") {template_10_reversed(1,121)}		

switch (FEAT_TRAINS, SELF, sw_e5_series_pantob_pink, param_spritelength) {
	1: ss_e5_series_pantob_pink_10;				            // Length 10
	ss_e5_series_pantob_pink_12;				            // Length 12
}

// H5 Series Purple Stripe
spriteset(ss_e5_series_pantob_purple_12,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e5_series_pantob_purple_10,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e5_series_pantob_purple_12,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5purple.png") {template_12_reversed(1,121)}
alternative_sprites(ss_e5_series_pantob_purple_10,	        ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5purple.png") {template_10_reversed(1,121)}		

switch (FEAT_TRAINS, SELF, sw_e5_series_pantob_purple, param_spritelength) {
	1: ss_e5_series_pantob_purple_10;				        // Length 10
	ss_e5_series_pantob_purple_12;				            // Length 12
}

// E5 Series 2cc
spriteset(ss_e5_series_pantob_2cc_12,             	        "src/trains/e5_series/12/e5_2cc.png") {template_12_reversed(1,121)}
spriteset(ss_e5_series_pantob_2cc_10,             	        "src/trains/e5_series/10/e5_2cc.png") {template_10_reversed(1,121)}

switch (FEAT_TRAINS, SELF, sw_e5_series_pantob_2cc, param_spritelength) {
	1: ss_e5_series_pantob_2cc_10;				            // Length 10
	ss_e5_series_pantob_2cc_12;					            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_e5_series_pantob, cargo_subtype) {
        1: sw_e5_series_pantob_purple;
		2: sw_e5_series_pantob_2cc;
        sw_e5_series_pantob_pink;
    }
# 1 "src/trains/e5_series/e5_series.pnml" 2
# 1 "src/trains/e5_series/pnml/e5_series_formations.pnml" 1
/* FORMATION */
	// Panto positions going backwards
	switch (FEAT_TRAINS, SELF, sw_e5_series_backwards_length_large, (position_in_consist == 10) || (position_in_consist_from_end == 7 )) {				
			1:  sw_e5_series_pantob;
            sw_e5_series_coachb;
							
		}
	switch (FEAT_TRAINS, SELF, sw_e5_series_backwards_length_small, (position_in_consist == position_in_consist_from_end ) || (position_in_consist - 3 == position_in_consist_from_end) ) {				
			0:  sw_e5_series_coachb;
			sw_e5_series_pantob;				
		}
	switch (FEAT_TRAINS, SELF, sw_e5_series_backwards_length, num_vehs_in_consist < 30 ) {				
			0:  sw_e5_series_backwards_length_large;
			sw_e5_series_backwards_length_small;				
		}
	// Panto positions going forwards
	switch (FEAT_TRAINS, SELF, sw_e5_series_forwards_length_large, (position_in_consist == 7) || (position_in_consist_from_end == 10 )) {				
			1:  sw_e5_series_pantof; 
            sw_e5_series_coachf;
							
		}
	switch (FEAT_TRAINS, SELF, sw_e5_series_forwards_length_small, (position_in_consist == position_in_consist_from_end ) || (position_in_consist - 3 == position_in_consist_from_end) ) {				
			0:  sw_e5_series_coachf;
			sw_e5_series_pantof;				
		}
	switch (FEAT_TRAINS, SELF, sw_e5_series_forwards_length, num_vehs_in_consist < 30 ) {				
			0:  sw_e5_series_forwards_length_large;
			sw_e5_series_forwards_length_small;				
		}
	// Direction Check
	switch (FEAT_TRAINS, PARENT, sw_e5_series_midcars, vehicle_is_reversed) {				
			0:  sw_e5_series_forwards_length;
			sw_e5_series_backwards_length;				
		}

/* Cab selection */
    // Rear cab
    switch (FEAT_TRAINS, PARENT, sw_e5_series_rear, vehicle_is_reversed) {				
            1:  sw_e5_series_cab01b;                   // cab01	
            sw_e5_series_cab02f;                       // cab02
        }

    // Lead cab
    switch (FEAT_TRAINS, PARENT, sw_e5_series_lead, vehicle_is_reversed) {				
            1:  sw_e5_series_cab02b;                   // cab02
            sw_e5_series_cab01f;                       // cab01	
        }

/* Find the cabs */
    switch (FEAT_TRAINS, SELF, sw_e5_series_lead_or_rear, position_in_consist) {				
            1:  sw_e5_series_lead;
            sw_e5_series_rear;				
        }
    
    switch (FEAT_TRAINS, SELF, sw_e5_series_ends, position_in_consist == 1 || position_in_consist_from_end == 1) {				
            1:  sw_e5_series_lead_or_rear;
            sw_e5_series_midcars;				
        }
# 1 "src/trains/e5_series/e5_series.pnml" 2
# 1 "src/trains/e5_series/pnml/e5_series_item.pnml" 1
	// Ends of articulated parts are dummy sprites
	switch (FEAT_TRAINS, SELF, sw_e5_series_graphics, position_in_consist % 3) {				
			1:  sw_e5_series_ends; 				
			dummy_sprites;
		}

/*---Articulation---*/
	switch (FEAT_TRAINS, SELF, sw_e5_series_articulated_part, extra_callback_info1) {
			1 .. 2: return series_e5;									
			return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
		}

/*---Coupling Switch---*/
switch(FEAT_TRAINS, SELF, sw_e5_series_attach_vehid, [vehicle_type_id == mu_car_full]) {
 0: return string(ONLY_ADD_MUCAR);
}

/*---Length Check---*/
switch (FEAT_TRAINS, SELF, sw_e5_series_stop_start, num_vehs_in_consist < 12) {				
		1:  return string(STR_LENGTH_ERROR); 				
		return CB_RESULT_NO_TEXT; 
	}

item(FEAT_TRAINS, series_e5) {
	property {
		/* Menu */
		name: 							string(STR_NAME_E5_SERIES);
		sprite_id:                      SPRITE_ID_NEW_TRAIN; 		// required to enable new graphics
		misc_flags:                     bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_TILT, TRAIN_FLAG_AUTOREFIT, TRAIN_FLAG_2CC);
		running_cost_base:              RUNNING_COST_ELECTRIC;
		engine_class:                   ENGINE_CLASS_ELECTRIC;
		/* Availability */
		climates_available:             ALL_CLIMATES;
		introduction_date:              date(2011,03,05); 
		model_life:                     VEHICLE_NEVER_EXPIRES;		
		vehicle_life:                   30;							// 
		track_type:                     SHINKANSEN;
		/* Cargo */
		reliability_decay:              5;
		refittable_cargo_classes:       bitmask(CC_PASSENGERS);
		refit_cost:                     0;
		default_cargo_type:             PASS;
		ai_special_flag:                AI_FLAG_PASSENGER;
		cargo_capacity:                 1;							// 
		loading_speed:                  50;							
		cargo_age_period:               278; 						// 1.5 times normal for this expensive long-distance train
		/* Stats */
		speed:                          321 km/h;					// Operational Top Speed
		power:                          1290 hp;					// Overwritten by callback
		weight:                         45;
		tractive_effort_coefficient:    0.3;
		air_drag_coefficient:			0;
	}
	graphics {
		/* Menu */
		additional_text:                string(STR_DESC_E5_SERIES);
		cargo_subtype_text:             sw_e5_series_subtype_text;
		can_attach_wagon:				sw_e5_series_attach_vehid;
		start_stop:						sw_e5_series_stop_start;
		purchase_weight:                45;
        purchase_power:                 402 * 4;
		/* Graphics */
		default:                        sw_e5_series_graphics;
		purchase:                       sw_buy_e5_series_pink_livery;
		articulated_part:               sw_e5_series_articulated_part;	
		visual_effect_and_powered:      sw_visual_effect_and_powered;
		/* Stats */
		length:                         sw_param_length;
		power:							max ((NumberCarsInConsist() - 2 ),0) * 402 * 4 ;
		weight:							NumberCarsInConsist() * 45;
		cargo_capacity:                 25 * CapacityFactor();										// 731 capacity / (10 cars * 3 parts) is approx 25						
		loading_speed:					25 * CapacityFactor() / param_loading_2D;					// Capacity divided by door loading factor
		cargo_age_period:				param_decay_express;
		cost_factor:                    144;
		running_cost_factor:            (298 + 127 * NumberCarsInConsist() ) * RunningCostFactor();
		purchase_running_cost_factor:   298 + 127 * NumberCarsInConsist();	
	}

	/*Multiple Unit Car*/
	
      livery_override(mu_car_full){
        default:                        sw_e5_series_graphics;
        cargo_capacity:                 25 * CapacityFactor();
        cargo_age_period:				param_decay_express;
        loading_speed:                  25 * CapacityFactor() / param_loading_2D;
		articulated_part:				sw_mucar_full_articulated_part;
		length:							sw_param_length;
		//power:						// Apply power in graphics block to calculate power based on number of motorised cars correctly
		//weight:						// Apply weight to graphics block to calculate Max T.E. correctly
        //running_cost_factor:            sw_e5_series_running_costs;
      }
}
# 1 "src/trains/e5_series/e5_series.pnml" 2
# 1 "JPplusShinkansen.pnml" 4
# 1 "src/trains/e6_series/e6_series.pnml" 1

# 1 "src/trains/e6_series/pnml/e6_series_menu.pnml" 1
/* Subtypes */

	switch(FEAT_TRAINS, SELF, sw_e6_series_subtype_text, cargo_subtype) {
		0: return string(LV_E6_SERIES_ORIGINAL);                     
		1: return string(LV_E6_SERIES_2CC);                      
		return CB_RESULT_NO_TEXT;
		}

/* Purchase Sprites */
    spriteset (spriteset_e6_series_purchase,	        	  "src/trains/dummy/purchase.png") {tmpl_purchase_dh(0, 0)}
    alternative_sprites(spriteset_e6_series_purchase,     ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/purchase.png") {template_purchase(0, 0)}
    
# 1 "src/trains/e6_series/e6_series.pnml" 2
# 1 "src/trains/e6_series/pnml/sprites/e6_series_cab01.pnml" 1
/* cab01 */

// FORWARDS

// E6 Series
spriteset(ss_e6_series_cab01f,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e6_series_cab01f,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/e6.png") {template_8_standard(1,1)}	

// E6 Series 2cc
spriteset(ss_e6_series_cab01f_2cc,                  "src/trains/e6_series/e6_2cc.png") {template_8_standard(1,1)}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_e6_series_cab01f, cargo_subtype) {
        1: ss_e6_series_cab01f_2cc;
        ss_e6_series_cab01f;
    }

// BACKWARDS

// E6 Series
spriteset(ss_e6_series_cab01b,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e6_series_cab01b,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/e6.png") {template_8_reversed(1,41)}

// E6 Series 2cc
spriteset(ss_e6_series_cab01b_2cc,             	    "src/trains/e6_series/e6_2cc.png") {template_8_reversed(1,41)}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_e6_series_cab01b, cargo_subtype) {
        1: ss_e6_series_cab01b_2cc;
        ss_e6_series_cab01b;
    }
# 1 "src/trains/e6_series/e6_series.pnml" 2
# 1 "src/trains/e6_series/pnml/sprites/e6_series_cab02.pnml" 1
/* cab02 */

// FORWARDS

// E6 Series
spriteset(ss_e6_series_cab02f,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e6_series_cab02f,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/e6.png") {template_8_cab_rev_standard(1,121)}	

// E6 Series 2cc
spriteset(ss_e6_series_cab02f_2cc,                  "src/trains/e6_series/e6_2cc.png") {template_8_cab_rev_standard(1,121)}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_e6_series_cab02f, cargo_subtype) {
        1: ss_e6_series_cab02f_2cc;
        ss_e6_series_cab02f;
    }

// BACKWARDS

// E6 Series
spriteset(ss_e6_series_cab02b,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e6_series_cab02b,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/e6.png") {template_8_cab_rev_reversed(1,81)}

// E6 Series 2cc
spriteset(ss_e6_series_cab02b_2cc,             	    "src/trains/e6_series/e6_2cc.png") {template_8_cab_rev_reversed(1,81)}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_e6_series_cab02b, cargo_subtype) {
        1: ss_e6_series_cab02b_2cc;
        ss_e6_series_cab02b;
    }
# 1 "src/trains/e6_series/e6_series.pnml" 2
# 1 "src/trains/e6_series/pnml/sprites/e6_series_coach.pnml" 1
/* coach */

// FORWARDS

// E6 Series
spriteset(ss_e6_series_coachf,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e6_series_coachf,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/e6.png") {template_8_standard(1,201)}	

// E6 Series 2cc
spriteset(ss_e6_series_coachf_2cc,                  "src/trains/e6_series/e6_2cc.png") {template_8_standard(1,201)}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_e6_series_coachf, cargo_subtype) {
        1: ss_e6_series_coachf_2cc;
        ss_e6_series_coachf;
    }

// BACKWARDS

// E6 Series
spriteset(ss_e6_series_coachb,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e6_series_coachb,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/e6.png") {template_8_reversed(1,201)}

// E6 Series 2cc
spriteset(ss_e6_series_coachb_2cc,             	    "src/trains/e6_series/e6_2cc.png") {template_8_reversed(1,201)}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_e6_series_coachb, cargo_subtype) {
        1: ss_e6_series_coachb_2cc;
        ss_e6_series_coachb;
    }
# 1 "src/trains/e6_series/e6_series.pnml" 2
# 1 "src/trains/e6_series/pnml/sprites/e6_series_pant1.pnml" 1
/* pant1 */

// FORWARDS

// E6 Series
spriteset(ss_e6_series_pant1f,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e6_series_pant1f,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/e6.png") {template_8_standard(1,161)}	

// E6 Series 2cc
spriteset(ss_e6_series_pant1f_2cc,                  "src/trains/e6_series/e6_2cc.png") {template_8_standard(1,161)}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_e6_series_pant1f, cargo_subtype) {
        1: ss_e6_series_pant1f_2cc;
        ss_e6_series_pant1f;
    }

// BACKWARDS

// E6 Series
spriteset(ss_e6_series_pant1b,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e6_series_pant1b,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/e6.png") {template_8_reversed(1,161)}

// E6 Series 2cc
spriteset(ss_e6_series_pant1b_2cc,             	    "src/trains/e6_series/e6_2cc.png") {template_8_reversed(1,161)}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_e6_series_pant1b, cargo_subtype) {
        1: ss_e6_series_pant1b_2cc;
        ss_e6_series_pant1b;
    }
# 1 "src/trains/e6_series/e6_series.pnml" 2
# 1 "src/trains/e6_series/pnml/sprites/e6_series_pant2.pnml" 1
/* pant2 */

// FORWARDS

// E6 Series
spriteset(ss_e6_series_pant2f,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e6_series_pant2f,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/e6.png") {template_8_standard(1,241)}	

// E6 Series 2cc
spriteset(ss_e6_series_pant2f_2cc,                  "src/trains/e6_series/e6_2cc.png") {template_8_standard(1,241)}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_e6_series_pant2f, cargo_subtype) {
        1: ss_e6_series_pant2f_2cc;
        ss_e6_series_pant2f;
    }

// BACKWARDS

// E6 Series
spriteset(ss_e6_series_pant2b,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e6_series_pant2b,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/e6.png") {template_8_reversed(1,241)}

// E6 Series 2cc
spriteset(ss_e6_series_pant2b_2cc,             	    "src/trains/e6_series/e6_2cc.png") {template_8_reversed(1,241)}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_e6_series_pant2b, cargo_subtype) {
        1: ss_e6_series_pant2b_2cc;
        ss_e6_series_pant2b;
    }
# 1 "src/trains/e6_series/e6_series.pnml" 2
# 1 "src/trains/e6_series/pnml/e6_series_formations.pnml" 1

/* Midcars */
    // Backwards
        // Penultipantos
        switch (FEAT_TRAINS, SELF, sw_e6_series_pantos_large_backwards, position_in_consist_from_end ) {
                1:  sw_e6_series_pant1b;
                sw_e6_series_pant2b;				
            }
        switch (FEAT_TRAINS, SELF, sw_e6_series_backwards_length_large, (position_in_consist == 1) || (position_in_consist_from_end == 1 )) {				
                1:  sw_e6_series_pantos_large_backwards;
                sw_e6_series_coachb;			
            }
        // Panto in Middle
        switch (FEAT_TRAINS, SELF, sw_e6_series_backwards_length_small, (position_in_consist == position_in_consist_from_end ) || (position_in_consist - 1 == position_in_consist_from_end) ) {				
                0:  sw_e6_series_coachb;
                sw_e6_series_pant1b;				
            }
	switch (FEAT_TRAINS, SELF, sw_e6_series_backwards_length, num_vehs_in_consist < 7 ) {				
			0:  sw_e6_series_backwards_length_large;
			sw_e6_series_backwards_length_small;				
		}
	// Forwards
        // Penultipantos
        switch (FEAT_TRAINS, SELF, sw_e6_series_pantos_large_forwards, position_in_consist ) {				
                1:  sw_e6_series_pant1f;
                sw_e6_series_pant2f;				
            }

        switch (FEAT_TRAINS, SELF, sw_e6_series_forwards_length_large, (position_in_consist == 1) || (position_in_consist_from_end == 1 )) {				
                1:  sw_e6_series_pantos_large_forwards;
                sw_e6_series_coachf;		
            }
        // Panto in Middle
        switch (FEAT_TRAINS, SELF, sw_e6_series_forwards_length_small, (position_in_consist == position_in_consist_from_end ) || (position_in_consist - 1 == position_in_consist_from_end) ) {				
                0:  sw_e6_series_coachf;
                sw_e6_series_pant1f;				
            }
	switch (FEAT_TRAINS, SELF, sw_e6_series_forwards_length, num_vehs_in_consist < 7 ) {				
			0:  sw_e6_series_forwards_length_large;
			sw_e6_series_forwards_length_small;				
		}

	switch (FEAT_TRAINS, PARENT, sw_e6_series_midcars, vehicle_is_reversed) {				
			0:  sw_e6_series_forwards_length;
			sw_e6_series_backwards_length;				
		}

/* Cab selection */
    // Rear cab
    switch (FEAT_TRAINS, PARENT, sw_e6_series_rear, vehicle_is_reversed) {				
            1:  sw_e6_series_cab01b;                   // cab01	
            sw_e6_series_cab02f;                       // cab02
        }

    // Lead cab
    switch (FEAT_TRAINS, PARENT, sw_e6_series_lead, vehicle_is_reversed) {				
            1:  sw_e6_series_cab02b;                   // cab02
            sw_e6_series_cab01f;                       // cab01	
        }

/* Find the cabs */
    switch (FEAT_TRAINS, SELF, sw_e6_series_lead_or_rear, position_in_consist) {				
            0:  sw_e6_series_lead;
            sw_e6_series_rear;				
        }
    
    switch (FEAT_TRAINS, SELF, sw_e6_series_graphics, position_in_consist == 0 || position_in_consist_from_end == 0 ) {				
            1:  sw_e6_series_lead_or_rear;
            sw_e6_series_midcars;				
        }
# 1 "src/trains/e6_series/e6_series.pnml" 2
# 1 "src/trains/e6_series/pnml/e6_series_item.pnml" 1
/*---Coupling Switch---*/
switch(FEAT_TRAINS, SELF, sw_e6_series_attach_vehid, [vehicle_type_id == series_e6 || vehicle_type_id == mu_car_ms]) {
 0: return string(MU_UNIQUE);
}
/*---END OF SECTION---*/

item(FEAT_TRAINS, series_e6, 2006) {
    property {
        name:                           string(STR_NAME_E6_SERIES);
        introduction_date:              date(2013,03,16);
        model_life:                     VEHICLE_NEVER_EXPIRES;
        vehicle_life:                   24;
        reliability_decay:              23;

        cargo_capacity:                 50;
        loading_speed:                  20;
        cost_factor:                    175;
        running_cost_factor:            120;

        speed:                          321 km/h;
        track_type:                     MINI_SHINKANSEN;
        power:                          400 * 4 hp;
        weight:                         42 ton;

        climates_available:             ALL_CLIMATES;
        ai_special_flag:                AI_FLAG_PASSENGER;
        sprite_id:                      SPRITE_ID_NEW_TRAIN;
        misc_flags:                     bitmask(TRAIN_FLAG_MU);
        refittable_cargo_classes:       bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:   bitmask();
        refit_cost:                     0;
        //dual_headed:                    1;
        ai_engine_rank:                 0;

        running_cost_base:              RUNNING_COST_ELECTRIC;
        engine_class:                   ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered:      visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 4, ENABLE_WAGON_POWER);

        tractive_effort_coefficient:    0.3;
        air_drag_coefficient:           0;
        bitmask_vehicle_info:           0;
        length:                         8;
    }
    /*Graphics and Callbacks*/
      graphics {
        default:                        sw_e6_series_graphics;
		purchase:                       spriteset_e6_series_purchase;
		additional_text:	            return string(STR_DESC_E6_SERIES);
        cargo_subtype_text:             sw_e6_series_subtype_text;
        can_attach_wagon:			    sw_e6_series_attach_vehid;
        //start_stop:                   ;
        purchase_weight:                42 / 2;
        purchase_power:                 400 * 4;
        /* Stats */
        power:                          max (num_vehs_in_consist - 2 , 0 ) * 400 * 4;
        cargo_capacity:                 48 * CapacityFactor();										        // 338 capacity / 7 cars  is approx 48						
		loading_speed:					48 * CapacityFactor() / param_loading_1D;					// Capacity divided by door loading factor
        cargo_age_period:				param_decay_express;
        running_cost_factor:            (450 + 127 * num_vehs_in_consist ) * RunningCostFactor();
        purchase_running_cost_factor:   (450 + 127) / 2;
    }
    /*Multiple Unit Car*/
      livery_override(mu_car_ms){
        default:                        sw_e6_series_graphics;
        cargo_capacity:                 48 * CapacityFactor();
        cargo_age_period:				param_decay_express;
        loading_speed:                  48 * CapacityFactor() / param_loading_1D;
        //cargo_subtype_text:           sw_e6_series_subtypetext_mucar;
        //power:                        // Apply power in graphics block to calculate power based on number of motorised cars correctly
        weight:                         42;
        //running_cost_factor:            120;
      }
}
# 1 "src/trains/e6_series/e6_series.pnml" 2
# 1 "JPplusShinkansen.pnml" 4
# 1 "src/trains/e7_series/e7_series.pnml" 1

# 1 "src/trains/e7_series/pnml/e7_series_menu.pnml" 1
/* SUBTYPES */

    switch(FEAT_TRAINS, SELF, sw_e7_series_subtype_text, cargo_subtype) {
        0: return string(LV_E7_SERIES_E7);
	    1: return string(LV_E7_SERIES_W7);
        2: return string(LV_E7_SERIES_2CC);
        return CB_RESULT_NO_TEXT;
        }

/* Purchase Menu */
    spriteset (sw_e7_series_buy,	        	    "src/trains/dummy/purchase.png")           {template_purchase(0, 0)}
    alternative_sprites(sw_e7_series_buy,           ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP,     "src/trains/e7_series/12/purchase.png") {template_purchase(0, 0)}
# 1 "src/trains/e7_series/e7_series.pnml" 2
# 1 "src/trains/e7_series/pnml/sprites/e7_series_cab01.pnml" 1
/* cab01 */

// FORWARDS

// E7 Series & W7 Series
spriteset(ss_e7_series_cab01f_irl_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e7_series_cab01f_irl_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e7_series_cab01f_irl_12,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e7_series/12/e7_series.png") {template_12_standard(1,1)}
alternative_sprites(ss_e7_series_cab01f_irl_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e7_series/10/e7_series.png") {template_10_standard(1,1)}		

switch (FEAT_TRAINS, SELF, sw_e7_series_cab01f_irl, param_spritelength) {
	1: ss_e7_series_cab01f_irl_10;				            // Length 10
	ss_e7_series_cab01f_irl_12;				                // Length 12
}

// E7 Series 2cc
spriteset(ss_e7_series_cab01f_2cc_12,             	        "src/trains/e7_series/12/e7_2cc.png") {template_12_standard(1,1)}
spriteset(ss_e7_series_cab01f_2cc_10,             	        "src/trains/e7_series/10/e7_2cc.png") {template_10_standard(1,1)}

switch (FEAT_TRAINS, SELF, sw_e7_series_cab01f_2cc, param_spritelength) {
	1: ss_e7_series_cab01f_2cc_10;				            // Length 10
	ss_e7_series_cab01f_2cc_12;					            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_e7_series_cab01f, cargo_subtype) {
        2: sw_e7_series_cab01f_2cc;
        sw_e7_series_cab01f_irl;
    }

// BACKWARDS

// E7 Series & W7 Series
spriteset(ss_e7_series_cab01b_irl_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e7_series_cab01b_irl_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e7_series_cab01b_irl_12,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e7_series/12/e7_series.png") {template_12_reversed(1,41)}
alternative_sprites(ss_e7_series_cab01b_irl_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e7_series/10/e7_series.png") {template_10_reversed(1,41)}		

switch (FEAT_TRAINS, SELF, sw_e7_series_cab01b_irl, param_spritelength) {
	1: ss_e7_series_cab01b_irl_10;				            // Length 10
	ss_e7_series_cab01b_irl_12;				                // Length 12
}

// E7 Series 2cc
spriteset(ss_e7_series_cab01b_2cc_12,             	        "src/trains/e7_series/12/e7_2cc.png") {template_12_reversed(1,41)}
spriteset(ss_e7_series_cab01b_2cc_10,             	        "src/trains/e7_series/10/e7_2cc.png") {template_10_reversed(1,41)}

switch (FEAT_TRAINS, SELF, sw_e7_series_cab01b_2cc, param_spritelength) {
	1: ss_e7_series_cab01b_2cc_10;				 	        // Length 10
	ss_e7_series_cab01b_2cc_12;					            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_e7_series_cab01b, cargo_subtype) {
        2: sw_e7_series_cab01b_2cc;
        sw_e7_series_cab01b_irl;
    }
# 1 "src/trains/e7_series/e7_series.pnml" 2
# 1 "src/trains/e7_series/pnml/sprites/e7_series_cab02.pnml" 1
/* cab02 */

// FORWARDS

// E7 Series & W7 Series
spriteset(ss_e7_series_cab02f_irl_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e7_series_cab02f_irl_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e7_series_cab02f_irl_12,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e7_series/12/e7_series.png") {template_12_cab_rev_standard(1,41)}
alternative_sprites(ss_e7_series_cab02f_irl_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e7_series/10/e7_series.png") {template_10_cab_rev_standard(1,41)}		

switch (FEAT_TRAINS, SELF, sw_e7_series_cab02f_irl, param_spritelength) {
	1: ss_e7_series_cab02f_irl_10;				            // Length 10
	ss_e7_series_cab02f_irl_12;				                // Length 12
}

// E7 Series 2cc
spriteset(ss_e7_series_cab02f_2cc_12,             	        "src/trains/e7_series/12/e7_2cc.png") {template_12_cab_rev_standard(1,41)}
spriteset(ss_e7_series_cab02f_2cc_10,             	        "src/trains/e7_series/10/e7_2cc.png") {template_10_cab_rev_standard(1,41)}

switch (FEAT_TRAINS, SELF, sw_e7_series_cab02f_2cc, param_spritelength) {
	1: ss_e7_series_cab02f_2cc_10;				            // Length 10
	ss_e7_series_cab02f_2cc_12;					            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_e7_series_cab02f, cargo_subtype) {
        2: sw_e7_series_cab02f_2cc;
        sw_e7_series_cab02f_irl;
    }

// BACKWARDS

// E7 Series & W7 Series
spriteset(ss_e7_series_cab02b_irl_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e7_series_cab02b_irl_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e7_series_cab02b_irl_12,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e7_series/12/e7_series.png") {template_12_cab_rev_reversed(1,1)}
alternative_sprites(ss_e7_series_cab02b_irl_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e7_series/10/e7_series.png") {template_10_cab_rev_reversed(1,1)}		

switch (FEAT_TRAINS, SELF, sw_e7_series_cab02b_irl, param_spritelength) {
	1: ss_e7_series_cab02b_irl_10;				            // Length 10
	ss_e7_series_cab02b_irl_12;				                // Length 12
}

// E7 Series 2cc
spriteset(ss_e7_series_cab02b_2cc_12,             	        "src/trains/e7_series/12/e7_2cc.png") {template_12_cab_rev_reversed(1,1)}
spriteset(ss_e7_series_cab02b_2cc_10,             	        "src/trains/e7_series/10/e7_2cc.png") {template_10_cab_rev_reversed(1,1)}

switch (FEAT_TRAINS, SELF, sw_e7_series_cab02b_2cc, param_spritelength) {
	1: ss_e7_series_cab02b_2cc_10;				 	        // Length 10
	ss_e7_series_cab02b_2cc_12;					            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_e7_series_cab02b, cargo_subtype) {
        2: sw_e7_series_cab02b_2cc;
        sw_e7_series_cab02b_irl;
    }
# 1 "src/trains/e7_series/e7_series.pnml" 2
# 1 "src/trains/e7_series/pnml/sprites/e7_series_coach.pnml" 1
/* coach */

// FORWARDS

// E7 Series & W7 Series
spriteset(ss_e7_series_coachf_irl_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e7_series_coachf_irl_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e7_series_coachf_irl_12,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e7_series/12/e7_series.png") {template_12_standard(1,121)}
alternative_sprites(ss_e7_series_coachf_irl_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e7_series/10/e7_series.png") {template_10_standard(1,121)}		

switch (FEAT_TRAINS, SELF, sw_e7_series_coachf_irl, param_spritelength) {
	1: ss_e7_series_coachf_irl_10;				            // Length 10
	ss_e7_series_coachf_irl_12;				                // Length 12
}

// E7 Series 2cc
spriteset(ss_e7_series_coachf_2cc_12,             	        "src/trains/e7_series/12/e7_2cc.png") {template_12_standard(1,121)}
spriteset(ss_e7_series_coachf_2cc_10,             	        "src/trains/e7_series/10/e7_2cc.png") {template_10_standard(1,121)}

switch (FEAT_TRAINS, SELF, sw_e7_series_coachf_2cc, param_spritelength) {
	1: ss_e7_series_coachf_2cc_10;				            // Length 10
	ss_e7_series_coachf_2cc_12;					            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_e7_series_coachf, cargo_subtype) {
        2: sw_e7_series_coachf_2cc;
        sw_e7_series_coachf_irl;
    }

// BACKWARDS

// E7 Series & W7 Series
spriteset(ss_e7_series_coachb_irl_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e7_series_coachb_irl_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e7_series_coachb_irl_12,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e7_series/12/e7_series.png") {template_12_reversed(1,121)}
alternative_sprites(ss_e7_series_coachb_irl_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e7_series/10/e7_series.png") {template_10_reversed(1,121)}		

switch (FEAT_TRAINS, SELF, sw_e7_series_coachb_irl, param_spritelength) {
	1: ss_e7_series_coachb_irl_10;				            // Length 10
	ss_e7_series_coachb_irl_12;				                // Length 12
}

// E7 Series 2cc
spriteset(ss_e7_series_coachb_2cc_12,             	        "src/trains/e7_series/12/e7_2cc.png") {template_12_reversed(1,121)}
spriteset(ss_e7_series_coachb_2cc_10,             	        "src/trains/e7_series/10/e7_2cc.png") {template_10_reversed(1,121)}

switch (FEAT_TRAINS, SELF, sw_e7_series_coachb_2cc, param_spritelength) {
	1: ss_e7_series_coachb_2cc_10;				 	        // Length 10
	ss_e7_series_coachb_2cc_12;					            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_e7_series_coachb, cargo_subtype) {
        2: sw_e7_series_coachb_2cc;
        sw_e7_series_coachb_irl;
    }
# 1 "src/trains/e7_series/e7_series.pnml" 2
# 1 "src/trains/e7_series/pnml/sprites/e7_series_panto.pnml" 1
/* panto */

// FORWARDS

// E7 Series & W7 Series
spriteset(ss_e7_series_pantof_irl_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e7_series_pantof_irl_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e7_series_pantof_irl_12,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e7_series/12/e7_series.png") {template_12_standard(1,81)}
alternative_sprites(ss_e7_series_pantof_irl_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e7_series/10/e7_series.png") {template_10_standard(1,81)}		

switch (FEAT_TRAINS, SELF, sw_e7_series_pantof_irl, param_spritelength) {
	1: ss_e7_series_pantof_irl_10;				            // Length 10
	ss_e7_series_pantof_irl_12;				                // Length 12
}

// E7 Series 2cc
spriteset(ss_e7_series_pantof_2cc_12,             	        "src/trains/e7_series/12/e7_2cc.png") {template_12_standard(1,81)}
spriteset(ss_e7_series_pantof_2cc_10,             	        "src/trains/e7_series/10/e7_2cc.png") {template_10_standard(1,81)}

switch (FEAT_TRAINS, SELF, sw_e7_series_pantof_2cc, param_spritelength) {
	1: ss_e7_series_pantof_2cc_10;				            // Length 10
	ss_e7_series_pantof_2cc_12;					            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_e7_series_pantof, cargo_subtype) {
        2: sw_e7_series_pantof_2cc;
        sw_e7_series_pantof_irl;
    }

// BACKWARDS

// E7 Series & W7 Series
spriteset(ss_e7_series_pantob_irl_12,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
spriteset(ss_e7_series_pantob_irl_10,          	            "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e7_series_pantob_irl_12,             ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e7_series/12/e7_series.png") {template_12_reversed(1,81)}
alternative_sprites(ss_e7_series_pantob_irl_10,	            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e7_series/10/e7_series.png") {template_10_reversed(1,81)}		

switch (FEAT_TRAINS, SELF, sw_e7_series_pantob_irl, param_spritelength) {
	1: ss_e7_series_pantob_irl_10;				            // Length 10
	ss_e7_series_pantob_irl_12;				                // Length 12
}

// E7 Series 2cc
spriteset(ss_e7_series_pantob_2cc_12,             	        "src/trains/e7_series/12/e7_2cc.png") {template_12_reversed(1,81)}
spriteset(ss_e7_series_pantob_2cc_10,             	        "src/trains/e7_series/10/e7_2cc.png") {template_10_reversed(1,81)}

switch (FEAT_TRAINS, SELF, sw_e7_series_pantob_2cc, param_spritelength) {
	1: ss_e7_series_pantob_2cc_10;				 	        // Length 10
	ss_e7_series_pantob_2cc_12;					            // Length 12
}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_e7_series_pantob, cargo_subtype) {
        2: sw_e7_series_pantob_2cc;
        sw_e7_series_pantob_irl;
    }
# 1 "src/trains/e7_series/e7_series.pnml" 2
# 1 "src/trains/e7_series/pnml/e7_series_formations.pnml" 1
/* FORMATION */

	// Panto positions going backwards
	switch (FEAT_TRAINS, SELF, sw_e7_series_backwards_length_large, (position_in_consist == 10) || (position_in_consist_from_end == 7 )) {				
			0:  sw_e7_series_coachb;
			sw_e7_series_pantob;				
		}
	switch (FEAT_TRAINS, SELF, sw_e7_series_backwards_length_small, (position_in_consist == position_in_consist_from_end ) || (position_in_consist - 3 == position_in_consist_from_end) ) {				
			0:  sw_e7_series_coachb;
			sw_e7_series_pantob;				
		}
	switch (FEAT_TRAINS, SELF, sw_e7_series_backwards_length, num_vehs_in_consist < 30 ) {				
			0:  sw_e7_series_backwards_length_large;
			sw_e7_series_backwards_length_small;				
		}
	// Panto positions going forwards
	switch (FEAT_TRAINS, SELF, sw_e7_series_forwards_length_large, (position_in_consist == 7) || (position_in_consist_from_end == 10 )) {				
				0:  sw_e7_series_coachf;
				sw_e7_series_pantof;				
			}
	switch (FEAT_TRAINS, SELF, sw_e7_series_forwards_length_small, (position_in_consist == position_in_consist_from_end ) || (position_in_consist - 3 == position_in_consist_from_end) ) {				
			0:  sw_e7_series_coachf;
			sw_e7_series_pantof;				
		}
	switch (FEAT_TRAINS, SELF, sw_e7_series_forwards_length, num_vehs_in_consist < 30 ) {				
			0:  sw_e7_series_forwards_length_large;
			sw_e7_series_forwards_length_small;				
		}

	switch (FEAT_TRAINS, PARENT, sw_e7_series_midcars, vehicle_is_reversed) {				
			0:  sw_e7_series_forwards_length;
			sw_e7_series_backwards_length;				
		}

/* Cab selection */
    // Rear cab
    switch (FEAT_TRAINS, PARENT, sw_e7_series_rear, vehicle_is_reversed) {				
            1:  sw_e7_series_cab01b;                   // cab01	
            sw_e7_series_cab02f;                       // cab02
        }

    // Lead cab
    switch (FEAT_TRAINS, PARENT, sw_e7_series_lead, vehicle_is_reversed) {				
            1:  sw_e7_series_cab02b;                   // cab02
            sw_e7_series_cab01f;                       // cab01	
        }

/* Find the cabs */
    switch (FEAT_TRAINS, SELF, sw_e7_series_lead_or_rear, position_in_consist) {				
            1:  sw_e7_series_lead;
            sw_e7_series_rear;				
        }
    
    switch (FEAT_TRAINS, SELF, sw_e7_series_ends, position_in_consist == 1 || position_in_consist_from_end == 1) {				
            1:  sw_e7_series_lead_or_rear;
            sw_e7_series_midcars;				
        }
# 1 "src/trains/e7_series/e7_series.pnml" 2
# 1 "src/trains/e7_series/pnml/e7_series_item.pnml" 1
	switch (FEAT_TRAINS, SELF, sw_e7_series_graphics, position_in_consist % 3) {				
			1:  sw_e7_series_ends; 				
			dummy_sprites;
		}

	switch (FEAT_TRAINS, SELF, sw_e7_series_articulated_part, extra_callback_info1) {
			1 .. 2: return series_e7;									
			return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
		}

/*---Coupling Switch---*/
switch(FEAT_TRAINS, SELF, sw_e7_series_attach_vehid, [vehicle_type_id == mu_car_full]) {
 0: return string(ONLY_ADD_MUCAR);
}

/*---Length Check---*/
switch (FEAT_TRAINS, SELF, sw_e7_series_stop_start, num_vehs_in_consist < 12) {				
		1:  return string(STR_LENGTH_ERROR); 				
		return CB_RESULT_NO_TEXT; 
	}

item(FEAT_TRAINS, series_e7) {
	property {
		/* Menu */
        name: 							string(STR_NAME_E7_SERIES);
		sprite_id:                      SPRITE_ID_NEW_TRAIN; 		// required to enable new graphics
		misc_flags:                     bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_TILT, TRAIN_FLAG_AUTOREFIT, TRAIN_FLAG_2CC);
		running_cost_base:              RUNNING_COST_ELECTRIC;
		engine_class:                   ENGINE_CLASS_ELECTRIC;
        /* Availability */
        climates_available:             ALL_CLIMATES;
		introduction_date:              date(2014,03,15);
		model_life:                     VEHICLE_NEVER_EXPIRES;
		vehicle_life:                   30;
		track_type:                     SHINKANSEN;
        /* Cargo */
        reliability_decay:              5;
		refittable_cargo_classes:       bitmask(CC_PASSENGERS);
		refit_cost:                     0;
		default_cargo_type:             PASS;
		ai_special_flag:                AI_FLAG_PASSENGER;
        cargo_capacity:                 1;                          // Overwritten by callback
		loading_speed:                  50;							
		cargo_age_period:               278; 						// 1.5 times normal for this expensive long-distance train
		/* Stats */
        speed:                          275 km/h;				    // Per https://en.wikipedia.org/wiki/E7_and_W7_Series_Shinkansen
		power:                          12000 kW;                   // Per https://en.wikipedia.org/wiki/E7_and_W7_Series_Shinkansen					
		weight:                         540 tons;	                // Per https://en.wikipedia.org/wiki/E7_and_W7_Series_Shinkansen				
		tractive_effort_coefficient:    0.3;
		air_drag_coefficient:			0;
	}
	graphics {
		/* Menu */
        additional_text:                string(STR_DESC_E7_SERIES);
        cargo_subtype_text:             sw_e7_series_subtype_text;
		can_attach_wagon:				sw_e7_series_attach_vehid;
		start_stop:						sw_e7_series_stop_start;
		purchase_weight:                45;
        purchase_power:                 335 * 4;
        /* Graphics */
        default:                        sw_e7_series_graphics;
		purchase:                       sw_e7_series_buy;
		articulated_part:               sw_e7_series_articulated_part;
		visual_effect_and_powered:      sw_visual_effect_and_powered;
        /* Stats */
        length:                         sw_param_length;
        power:                          max ((NumberCarsInConsist() - 2 ),0) * 335 * 4;
        weight:                         NumberCarsInConsist() * 45;
		cargo_capacity:                 26 * CapacityFactor();										// 934 capacity / (12 cars * 3 parts) is approx 26						
		loading_speed:					26 * CapacityFactor() / param_loading_2D;					// Capacity divided by door loading factor
		cargo_age_period:				param_decay_express;
		cost_factor:                    130;
		running_cost_factor:            (295 + 120 * NumberCarsInConsist() ) * RunningCostFactor();
		purchase_running_cost_factor:   295 + 120 * NumberCarsInConsist();	
	}

	/*Multiple Unit Car*/
	
      livery_override(mu_car_full){
        default:                        sw_e7_series_graphics;
        cargo_capacity:                 26 * CapacityFactor();
        cargo_age_period:				param_decay_express;
        loading_speed:                  26 * CapacityFactor() / param_loading_2D;
		articulated_part:				sw_mucar_full_articulated_part;
		length:							sw_param_length;
		//power:						// Apply power in graphics block to calculate power based on number of motorised cars correctly
		//weight:						// Apply weight to graphics block to calculate Max T.E. correctly
        //running_cost_factor:            sw_e7_series_running_costs;
      }
}
# 1 "src/trains/e7_series/e7_series.pnml" 2
# 1 "JPplusShinkansen.pnml" 4
# 1 "src/trains/e8_series/e8_series.pnml" 1

# 1 "src/trains/e8_series/pnml/e8_series_menu.pnml" 1
/* Subtypes */

	switch(FEAT_TRAINS, SELF, sw_e8_series_subtype_text, cargo_subtype) {
		0: return string(LV_E8_SERIES_ORIGINAL);                     
		1: return string(LV_E8_SERIES_2CC);                      
		return CB_RESULT_NO_TEXT;
		}

/* Purchase Sprites */
        spriteset (spriteset_e8_series_purchase,	        	"src/trains/dummy/purchase.png") {tmpl_purchase_dh(0, 0)}
        alternative_sprites(spriteset_e8_series_purchase,     	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e8_series/purchase.png") {template_purchase(0, 0)}
# 1 "src/trains/e8_series/e8_series.pnml" 2
# 1 "src/trains/e8_series/pnml/sprites/e8_series_cab01.pnml" 1
/* cab01 */

// FORWARDS

// E8 Series
spriteset(ss_e8_series_cab01f,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e8_series_cab01f,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e8_series/e8_series.png") {template_8_standard(1,1)}	

// E8 Series 2cc
spriteset(ss_e8_series_cab01f_2cc,                  "src/trains/e8_series/e8_2cc.png") {template_8_standard(1,1)}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_e8_series_cab01f, cargo_subtype) {
        1: ss_e8_series_cab01f_2cc;
        ss_e8_series_cab01f;
    }

// BACKWARDS

// E8 Series
spriteset(ss_e8_series_cab01b,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e8_series_cab01b,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e8_series/e8_series.png") {template_8_reversed(1,41)}

// E8 Series 2cc
spriteset(ss_e8_series_cab01b_2cc,             	    "src/trains/e8_series/e8_2cc.png") {template_8_reversed(1,41)}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_e8_series_cab01b, cargo_subtype) {
        1: ss_e8_series_cab01b_2cc;
        ss_e8_series_cab01b;
    }
# 1 "src/trains/e8_series/e8_series.pnml" 2
# 1 "src/trains/e8_series/pnml/sprites/e8_series_cab02.pnml" 1
/* cab02 */

// FORWARDS

// E8 Series
spriteset(ss_e8_series_cab02f,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e8_series_cab02f,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e8_series/e8_series.png") {template_8_cab_rev_standard(1,41)}	

// E8 Series 2cc
spriteset(ss_e8_series_cab02f_2cc,                  "src/trains/e8_series/e8_2cc.png") {template_8_cab_rev_standard(1,41)}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_e8_series_cab02f, cargo_subtype) {
        1: ss_e8_series_cab02f_2cc;
        ss_e8_series_cab02f;
    }

// BACKWARDS

// E8 Series
spriteset(ss_e8_series_cab02b,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e8_series_cab02b,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e8_series/e8_series.png") {template_8_cab_rev_reversed(1,1)}

// E8 Series 2cc
spriteset(ss_e8_series_cab02b_2cc,             	    "src/trains/e8_series/e8_2cc.png") {template_8_cab_rev_reversed(1,1)}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_e8_series_cab02b, cargo_subtype) {
        1: ss_e8_series_cab02b_2cc;
        ss_e8_series_cab02b;
    }
# 1 "src/trains/e8_series/e8_series.pnml" 2
# 1 "src/trains/e8_series/pnml/sprites/e8_series_coach.pnml" 1
/* coach */

// FORWARDS

// E8 Series
spriteset(ss_e8_series_coachf,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e8_series_coachf,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e8_series/e8_series.png") {template_8_standard(1,121)}	

// E8 Series 2cc
spriteset(ss_e8_series_coachf_2cc,                  "src/trains/e8_series/e8_2cc.png") {template_8_standard(1,121)}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_e8_series_coachf, cargo_subtype) {
        1: ss_e8_series_coachf_2cc;
        ss_e8_series_coachf;
    }

// BACKWARDS

// E8 Series
spriteset(ss_e8_series_coachb,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e8_series_coachb,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e8_series/e8_series.png") {template_8_reversed(1,121)}

// E8 Series 2cc
spriteset(ss_e8_series_coachb_2cc,             	    "src/trains/e8_series/e8_2cc.png") {template_8_reversed(1,121)}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_e8_series_coachb, cargo_subtype) {
        1: ss_e8_series_coachb_2cc;
        ss_e8_series_coachb;
    }
# 1 "src/trains/e8_series/e8_series.pnml" 2
# 1 "src/trains/e8_series/pnml/sprites/e8_series_pant1.pnml" 1
/* pant1 */

// FORWARDS

// E8 Series
spriteset(ss_e8_series_pant1f,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e8_series_pant1f,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e8_series/e8_series.png") {template_8_standard(1,81)}	

// E8 Series 2cc
spriteset(ss_e8_series_pant1f_2cc,                  "src/trains/e8_series/e8_2cc.png") {template_8_standard(1,81)}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_e8_series_pant1f, cargo_subtype) {
        1: ss_e8_series_pant1f_2cc;
        ss_e8_series_pant1f;
    }

// BACKWARDS

// E8 Series
spriteset(ss_e8_series_pant1b,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e8_series_pant1b,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e8_series/e8_series.png") {template_8_reversed(1,81)}

// E8 Series 2cc
spriteset(ss_e8_series_pant1b_2cc,             	    "src/trains/e8_series/e8_2cc.png") {template_8_reversed(1,81)}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_e8_series_pant1b, cargo_subtype) {
        1: ss_e8_series_pant1b_2cc;
        ss_e8_series_pant1b;
    }
# 1 "src/trains/e8_series/e8_series.pnml" 2
# 1 "src/trains/e8_series/pnml/sprites/e8_series_pant2.pnml" 1
/* pant2 */

// FORWARDS

// E8 Series
spriteset(ss_e8_series_pant2f,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e8_series_pant2f,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e8_series/e8_series.png") {template_8_cab_rev_standard(1,81)}	

// E8 Series 2cc
spriteset(ss_e8_series_pant2f_2cc,                  "src/trains/e8_series/e8_2cc.png") {template_8_cab_rev_standard(1,81)}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_e8_series_pant2f, cargo_subtype) {
        1: ss_e8_series_pant2f_2cc;
        ss_e8_series_pant2f;
    }

// BACKWARDS

// E8 Series
spriteset(ss_e8_series_pant2b,          	        "src/trains/dummy/empty.png") {template_dummy(0,0)}
alternative_sprites(ss_e8_series_pant2b,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e8_series/e8_series.png") {template_8_cab_rev_reversed(1,81)}

// E8 Series 2cc
spriteset(ss_e8_series_pant2b_2cc,             	    "src/trains/e8_series/e8_2cc.png") {template_8_cab_rev_reversed(1,81)}

// Subtype Selection
switch(FEAT_TRAINS, PARENT, sw_e8_series_pant2b, cargo_subtype) {
        1: ss_e8_series_pant2b_2cc;
        ss_e8_series_pant2b;
    }
# 1 "src/trains/e8_series/e8_series.pnml" 2
# 1 "src/trains/e8_series/pnml/e8_series_formations.pnml" 1

/* Midcars */
    // Backwards
        // Penultipantos
        switch (FEAT_TRAINS, SELF, sw_e8_series_pantos_large_backwards, position_in_consist_from_end ) {
                1:  sw_e8_series_pant1b;
                sw_e8_series_pant2b;				
            }
        switch (FEAT_TRAINS, SELF, sw_e8_series_backwards_length_large, (position_in_consist == 1) || (position_in_consist_from_end == 1 )) {				
                1:  sw_e8_series_pantos_large_backwards;
                sw_e8_series_coachb;			
            }
        // Panto in Middle
        switch (FEAT_TRAINS, SELF, sw_e8_series_backwards_length_small, (position_in_consist == position_in_consist_from_end ) || (position_in_consist - 1 == position_in_consist_from_end) ) {				
                0:  sw_e8_series_coachb;
                sw_e8_series_pant1b;				
            }
	switch (FEAT_TRAINS, SELF, sw_e8_series_backwards_length, num_vehs_in_consist < 7 ) {				
			0:  sw_e8_series_backwards_length_large;
			sw_e8_series_backwards_length_small;				
		}
	// Forwards
        // Penultipantos
        switch (FEAT_TRAINS, SELF, sw_e8_series_pantos_large_forwards, position_in_consist ) {				
                1:  sw_e8_series_pant1f;
                sw_e8_series_pant2f;				
            }

        switch (FEAT_TRAINS, SELF, sw_e8_series_forwards_length_large, (position_in_consist == 1) || (position_in_consist_from_end == 1 )) {				
                1:  sw_e8_series_pantos_large_forwards;
                sw_e8_series_coachf;		
            }
        // Panto in Middle
        switch (FEAT_TRAINS, SELF, sw_e8_series_forwards_length_small, (position_in_consist == position_in_consist_from_end ) || (position_in_consist - 1 == position_in_consist_from_end) ) {				
                0:  sw_e8_series_coachf;
                sw_e8_series_pant1f;				
            }
	switch (FEAT_TRAINS, SELF, sw_e8_series_forwards_length, num_vehs_in_consist < 7 ) {				
			0:  sw_e8_series_forwards_length_large;
			sw_e8_series_forwards_length_small;				
		}

	switch (FEAT_TRAINS, PARENT, sw_e8_series_midcars, vehicle_is_reversed) {				
			0:  sw_e8_series_forwards_length;
			sw_e8_series_backwards_length;				
		}

/* Cab selection */
    // Rear cab
    switch (FEAT_TRAINS, PARENT, sw_e8_series_rear, vehicle_is_reversed) {				
            1:  sw_e8_series_cab01b;                   // cab01	
            sw_e8_series_cab02f;                       // cab02
        }

    // Lead cab
    switch (FEAT_TRAINS, PARENT, sw_e8_series_lead, vehicle_is_reversed) {				
            1:  sw_e8_series_cab02b;                   // cab02
            sw_e8_series_cab01f;                       // cab01	
        }

/* Find the cabs */
    switch (FEAT_TRAINS, SELF, sw_e8_series_lead_or_rear, position_in_consist) {				
            0:  sw_e8_series_lead;
            sw_e8_series_rear;				
        }
    
    switch (FEAT_TRAINS, SELF, sw_e8_series_graphics, position_in_consist == 0 || position_in_consist_from_end == 0 ) {				
            1:  sw_e8_series_lead_or_rear;
            sw_e8_series_midcars;				
        }
# 1 "src/trains/e8_series/e8_series.pnml" 2
# 1 "src/trains/e8_series/pnml/e8_series_item.pnml" 1


switch(FEAT_TRAINS, SELF, sw_e8_series_attach_vehid, [vehicle_type_id == series_e8 || vehicle_type_id == mu_car_ms]) {
 0: return string(MU_UNIQUE);
}
/*---END OF SECTION---*/

item(FEAT_TRAINS, series_e8) {
    property {
        name:                           string(STR_NAME_E8_SERIES);
        introduction_date:              date(2024,01,01);
        model_life:                     VEHICLE_NEVER_EXPIRES;
        vehicle_life:                   38;
        reliability_decay:              21;
        cargo_capacity:                 50;
        loading_speed:                  20;
        cost_factor:                    175;
        running_cost_factor:            120;
        speed:                          300 km/h;
        track_type:                     MINI_SHINKANSEN;
        power:                          400 * 4 hp;
        weight:                         42 ton;
        climates_available:             ALL_CLIMATES;
        ai_special_flag:                AI_FLAG_PASSENGER;
        sprite_id:                      SPRITE_ID_NEW_TRAIN;
        misc_flags:                     bitmask(TRAIN_FLAG_MU, TRAIN_FLAG_TILT, TRAIN_FLAG_AUTOREFIT, TRAIN_FLAG_2CC);
        refittable_cargo_classes:       bitmask(CC_PASSENGERS);
        non_refittable_cargo_classes:   bitmask();
        refit_cost:                     0;
        //dual_headed:                    1;
        ai_engine_rank:                 0;
        running_cost_base:              RUNNING_COST_ELECTRIC;
        engine_class:                   ENGINE_CLASS_ELECTRIC;
        visual_effect_and_powered:      visual_effect_and_powered(VISUAL_EFFECT_ELECTRIC, 4, ENABLE_WAGON_POWER);
        tractive_effort_coefficient:    0.3;
        air_drag_coefficient:           0;
        bitmask_vehicle_info:           0;
        length:                         8;
    }
    /*Graphics and Callbacks*/
      graphics {
        default:                        sw_e8_series_graphics;
	    purchase:                       spriteset_e8_series_purchase;
		additional_text:	            return string(STR_DESC_E8_SERIES);
        cargo_subtype_text:             sw_e8_series_subtype_text;
        cargo_age_period:				param_decay_express;
        can_attach_wagon:			    sw_e8_series_attach_vehid;
        //start_stop:                   ;
        purchase_weight:                42 / 2;
        purchase_power:                 400 * 4;
        /* Stats */
        power:                          max (num_vehs_in_consist - 2 , 0 ) * 400 * 4;
        cargo_capacity:                 48 * CapacityFactor();										        // 338 capacity / 7 cars  is approx 48						
		loading_speed:					48 * CapacityFactor() / param_loading_1D;					// Capacity divided by door loading factor
        running_cost_factor:            (445 + 130 * num_vehs_in_consist ) * RunningCostFactor();
        purchase_running_cost_factor:   (445 + 130) / 2; 	
    }
    /*Multiple Unit Car*/
      livery_override(mu_car_ms){
        default:                        sw_e8_series_graphics;
        cargo_capacity:                 48 * CapacityFactor();
        cargo_age_period:				param_decay_express;
        loading_speed:                  48 * CapacityFactor() / param_loading_1D;
        //cargo_subtype_text:             sw_e8_series_subtypetext_mucar;
        //power:                        // Apply power in graphics block to calculate power based on number of motorised cars correctly
        weight:                         42;
        //running_cost_factor:            120;
      }
}
# 1 "src/trains/e8_series/e8_series.pnml" 2
# 1 "JPplusShinkansen.pnml" 4

# 1 "src/trains/e5e6_series/e5e6_series.pnml" 1
/* Begin E5+E6 Series */

# 1 "src/trains/e5e6_series/pnml/e5_miniparts_12.pnml" 1

/* E5 12 on 2 */ 
	/* CAB  */
		// E5
		spriteset(ss_e5_series_cabyf_12on2,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_cabrf_12on2,             		    "src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_cabyb_12on2,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_cabrb_12on2,             		    "src/trains/dummy/empty.png") {template_dummy(0,0)}

		alternative_sprites(ss_e5_series_cabyf_12on2,     		    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5pink.png")  {template_12_on_2_standard(1,1)}
		alternative_sprites(ss_e5_series_cabrf_12on2,     	    	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5pink.png")  {template_12_on_2_cab_rev_standard(1,41)}
		alternative_sprites(ss_e5_series_cabyb_12on2,     		    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5pink.png")  {template_12_on_2_cab_rev_reversed(1,1)}
		alternative_sprites(ss_e5_series_cabrb_12on2,     	    	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5pink.png")  {template_12_on_2_reversed(1,41)}

		// H5
		spriteset(ss_h5_series_cabyf_12on2,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_cabrf_12on2,             		    "src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_cabyb_12on2,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_cabrb_12on2,             		    "src/trains/dummy/empty.png") {template_dummy(0,0)}

		alternative_sprites(ss_h5_series_cabyf_12on2,     		    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5purple.png")  {template_12_on_2_standard(1,1)}
		alternative_sprites(ss_h5_series_cabrf_12on2,     	    	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5purple.png")  {template_12_on_2_cab_rev_standard(1,41)}
		alternative_sprites(ss_h5_series_cabyb_12on2,     		    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5purple.png")  {template_12_on_2_cab_rev_reversed(1,1)}
		alternative_sprites(ss_h5_series_cabrb_12on2,     	    	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5purple.png")  {template_12_on_2_reversed(1,41)}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabyf_12on2, cargo_subtype) {
			0: ss_e5_series_cabyf_12on2;
			1: ss_h5_series_cabyf_12on2;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabrf_12on2, cargo_subtype) {
			0: ss_e5_series_cabrf_12on2;
			1: ss_h5_series_cabrf_12on2;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabyb_12on2, cargo_subtype) {
			0: ss_e5_series_cabyb_12on2;
			1: ss_h5_series_cabyb_12on2;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabrb_12on2, cargo_subtype) {
			0: ss_e5_series_cabrb_12on2;
			1: ss_h5_series_cabrb_12on2;
		}

	/* COACH */
		// E5
		spriteset(ss_e5_series_coach_12on2,             		    "src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_coach_rev_12on2,    			        "src/trains/dummy/empty.png") {template_dummy(0,0)}
		alternative_sprites(ss_e5_series_coach_12on2,     		    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5pink.png") {template_12_on_2_standard(1,81)}
		alternative_sprites(ss_e5_series_coach_rev_12on2,		    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5pink.png") {template_12_on_2_reversed(1,81)}

		// H5
		spriteset(ss_h5_series_coach_12on2,             		    "src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_coach_rev_12on2,    			        "src/trains/dummy/empty.png") {template_dummy(0,0)}
		alternative_sprites(ss_h5_series_coach_12on2,     		    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5purple.png") {template_12_on_2_standard(1,81)}
		alternative_sprites(ss_h5_series_coach_rev_12on2,		    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5purple.png") {template_12_on_2_reversed(1,81)}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_coach_12on2, cargo_subtype) {
			0: ss_e5_series_coach_12on2;
			1: ss_h5_series_coach_12on2;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_coach_rev_12on2, cargo_subtype) {
			0: ss_e5_series_coach_rev_12on2;
			1: ss_h5_series_coach_rev_12on2;
		}

	/* PANT3 */
		// E5
		spriteset(ss_e5_series_pant3_12on2,             		    "src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_pant3_rev_12on2,    			        "src/trains/dummy/empty.png") {template_dummy(0,0)}
		alternative_sprites(ss_e5_series_pant3_12on2,     		    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5pink.png") {template_12_on_2_standard(1,121)}
		alternative_sprites(ss_e5_series_pant3_rev_12on2,		    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5pink.png") {template_12_on_2_reversed(1,121)}	

		// H5
		spriteset(ss_h5_series_pant3_12on2,             		    "src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_pant3_rev_12on2,    			        "src/trains/dummy/empty.png") {template_dummy(0,0)}
		alternative_sprites(ss_h5_series_pant3_12on2,     		    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5purple.png") {template_12_on_2_standard(1,121)}
		alternative_sprites(ss_h5_series_pant3_rev_12on2,		    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5purple.png") {template_12_on_2_reversed(1,121)}	

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant3_12on2, cargo_subtype) {
			0: ss_e5_series_pant3_12on2;
			1: ss_h5_series_pant3_12on2;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant3_rev_12on2, cargo_subtype) {
			0: ss_e5_series_pant3_rev_12on2;
			1: ss_h5_series_pant3_rev_12on2;
		}

	/* PANT8 */
		// E5
		spriteset(ss_e5_series_pant8_12on2,             		    "src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_pant8_rev_12on2,    			        "src/trains/dummy/empty.png") {template_dummy(0,0)}
		alternative_sprites(ss_e5_series_pant8_12on2,     		    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5pink.png") {template_12_on_2_cab_rev_standard(1,121)}
		alternative_sprites(ss_e5_series_pant8_rev_12on2,		    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5pink.png") {template_12_on_2_cab_rev_reversed(1,121)}	

		// H5
		spriteset(ss_h5_series_pant8_12on2,             		    "src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_pant8_rev_12on2,    			        "src/trains/dummy/empty.png") {template_dummy(0,0)}
		alternative_sprites(ss_h5_series_pant8_12on2,     		    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5purple.png") {template_12_on_2_cab_rev_standard(1,121)}
		alternative_sprites(ss_h5_series_pant8_rev_12on2,		    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5purple.png") {template_12_on_2_cab_rev_reversed(1,121)}	

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant8_12on2, cargo_subtype) {
			0: ss_e5_series_pant8_12on2;
			1: ss_h5_series_pant8_12on2;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant8_rev_12on2, cargo_subtype) {
			0: ss_e5_series_pant8_rev_12on2;
			1: ss_h5_series_pant8_rev_12on2;
		}

/* E5 minipart for 12 */
	/* CAB YELLOW FORWARDS*/
		// E5
		spriteset(ss_e5_series_cabyf_mp1_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_cabyf_mp2_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_cabyf_mp3_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_cabyf_mp4_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_cabyf_mp5_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_cabyf_mp6_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}

		//  1 2 3 4 5 6
		alternative_sprites(ss_e5_series_cabyf_mp1_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_standard(1,1)}
		alternative_sprites(ss_e5_series_cabyf_mp2_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_standard(1,21)}
		alternative_sprites(ss_e5_series_cabyf_mp3_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_standard(1,41)}	
		alternative_sprites(ss_e5_series_cabyf_mp4_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_standard(1,61)}	
		alternative_sprites(ss_e5_series_cabyf_mp5_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_standard(1,81)}	
		alternative_sprites(ss_e5_series_cabyf_mp6_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_standard(1,101)}	

		// H5
		spriteset(ss_h5_series_cabyf_mp1_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_cabyf_mp2_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_cabyf_mp3_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_cabyf_mp4_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_cabyf_mp5_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_cabyf_mp6_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}

		//  1 2 3 4 5 6
		alternative_sprites(ss_h5_series_cabyf_mp1_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_standard(1,1)}
		alternative_sprites(ss_h5_series_cabyf_mp2_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_standard(1,21)}
		alternative_sprites(ss_h5_series_cabyf_mp3_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_standard(1,41)}	
		alternative_sprites(ss_h5_series_cabyf_mp4_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_standard(1,61)}	
		alternative_sprites(ss_h5_series_cabyf_mp5_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_standard(1,81)}	
		alternative_sprites(ss_h5_series_cabyf_mp6_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_standard(1,101)}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabyf_mp1_12, cargo_subtype) {
			0: ss_e5_series_cabyf_mp1_12;
			1: ss_h5_series_cabyf_mp1_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabyf_mp2_12, cargo_subtype) {
			0: ss_e5_series_cabyf_mp2_12;
			1: ss_h5_series_cabyf_mp2_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabyf_mp3_12, cargo_subtype) {
			0: ss_e5_series_cabyf_mp3_12;
			1: ss_h5_series_cabyf_mp3_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabyf_mp4_12, cargo_subtype) {
			0: ss_e5_series_cabyf_mp4_12;
			1: ss_h5_series_cabyf_mp4_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabyf_mp5_12, cargo_subtype) {
			0: ss_e5_series_cabyf_mp5_12;
			1: ss_h5_series_cabyf_mp5_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabyf_mp6_12, cargo_subtype) {
			0: ss_e5_series_cabyf_mp6_12;
			1: ss_h5_series_cabyf_mp6_12;
		}

	/* CAB RED FORWARDS*/
		// E5
		spriteset(ss_e5_series_cabrf_mp1_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_cabrf_mp2_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_cabrf_mp3_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_cabrf_mp4_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_cabrf_mp5_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_cabrf_mp6_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}

		// 6 5 4 3 2 1
		alternative_sprites(ss_e5_series_cabrf_mp6_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_cab_rev_standard(1,361)}
		alternative_sprites(ss_e5_series_cabrf_mp5_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_cab_rev_standard(1,381)}
		alternative_sprites(ss_e5_series_cabrf_mp4_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_cab_rev_standard(1,401)}	
		alternative_sprites(ss_e5_series_cabrf_mp3_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_cab_rev_standard(1,421)}	
		alternative_sprites(ss_e5_series_cabrf_mp2_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_cab_rev_standard(1,441)}
		alternative_sprites(ss_e5_series_cabrf_mp1_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_cab_rev_standard(1,461)}

		// H5
		spriteset(ss_h5_series_cabrf_mp1_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_cabrf_mp2_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_cabrf_mp3_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_cabrf_mp4_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_cabrf_mp5_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_cabrf_mp6_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}

		// 6 5 4 3 2 1
		alternative_sprites(ss_h5_series_cabrf_mp6_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_cab_rev_standard(1,361)}
		alternative_sprites(ss_h5_series_cabrf_mp5_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_cab_rev_standard(1,381)}
		alternative_sprites(ss_h5_series_cabrf_mp4_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_cab_rev_standard(1,401)}	
		alternative_sprites(ss_h5_series_cabrf_mp3_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_cab_rev_standard(1,421)}	
		alternative_sprites(ss_h5_series_cabrf_mp2_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_cab_rev_standard(1,441)}
		alternative_sprites(ss_h5_series_cabrf_mp1_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_cab_rev_standard(1,461)}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabrf_mp1_12, cargo_subtype) {
			0: ss_e5_series_cabrf_mp1_12;
			1: ss_h5_series_cabrf_mp1_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabrf_mp2_12, cargo_subtype) {
			0: ss_e5_series_cabrf_mp2_12;
			1: ss_h5_series_cabrf_mp2_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabrf_mp3_12, cargo_subtype) {
			0: ss_e5_series_cabrf_mp3_12;
			1: ss_h5_series_cabrf_mp3_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabrf_mp4_12, cargo_subtype) {
			0: ss_e5_series_cabrf_mp4_12;
			1: ss_h5_series_cabrf_mp4_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabrf_mp5_12, cargo_subtype) {
			0: ss_e5_series_cabrf_mp5_12;
			1: ss_h5_series_cabrf_mp5_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabrf_mp6_12, cargo_subtype) {
			0: ss_e5_series_cabrf_mp6_12;
			1: ss_h5_series_cabrf_mp6_12;
		}

	/* CAB YELLOW BACKWARDS  */ 
		// E5
		spriteset(ss_e5_series_cabyb_mp1_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_cabyb_mp2_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_cabyb_mp3_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_cabyb_mp4_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_cabyb_mp5_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_cabyb_mp6_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}

		// 6 5 4 3 2 1
		alternative_sprites(ss_e5_series_cabyb_mp6_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_cab_rev_reversed(1,241)}
		alternative_sprites(ss_e5_series_cabyb_mp5_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_cab_rev_reversed(1,261)}
		alternative_sprites(ss_e5_series_cabyb_mp4_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_cab_rev_reversed(1,281)}	
		alternative_sprites(ss_e5_series_cabyb_mp3_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_cab_rev_reversed(1,301)}	
		alternative_sprites(ss_e5_series_cabyb_mp2_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_cab_rev_reversed(1,321)}	
		alternative_sprites(ss_e5_series_cabyb_mp1_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_cab_rev_reversed(1,341)}
		
		// H5
		spriteset(ss_h5_series_cabyb_mp1_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_cabyb_mp2_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_cabyb_mp3_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_cabyb_mp4_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_cabyb_mp5_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_cabyb_mp6_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}

		// 6 5 4 3 2 1
		alternative_sprites(ss_h5_series_cabyb_mp6_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_cab_rev_reversed(1,241)}
		alternative_sprites(ss_h5_series_cabyb_mp5_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_cab_rev_reversed(1,261)}
		alternative_sprites(ss_h5_series_cabyb_mp4_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_cab_rev_reversed(1,281)}	
		alternative_sprites(ss_h5_series_cabyb_mp3_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_cab_rev_reversed(1,301)}	
		alternative_sprites(ss_h5_series_cabyb_mp2_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_cab_rev_reversed(1,321)}	
		alternative_sprites(ss_h5_series_cabyb_mp1_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_cab_rev_reversed(1,341)}
		
		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabyb_mp1_12, cargo_subtype) {
			0: ss_e5_series_cabyb_mp1_12;
			1: ss_h5_series_cabyb_mp1_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabyb_mp2_12, cargo_subtype) {
			0: ss_e5_series_cabyb_mp2_12;
			1: ss_h5_series_cabyb_mp2_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabyb_mp3_12, cargo_subtype) {
			0: ss_e5_series_cabyb_mp3_12;
			1: ss_h5_series_cabyb_mp3_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabyb_mp4_12, cargo_subtype) {
			0: ss_e5_series_cabyb_mp4_12;
			1: ss_h5_series_cabyb_mp4_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabyb_mp5_12, cargo_subtype) {
			0: ss_e5_series_cabyb_mp5_12;
			1: ss_h5_series_cabyb_mp5_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabyb_mp6_12, cargo_subtype) {
			0: ss_e5_series_cabyb_mp6_12;
			1: ss_h5_series_cabyb_mp6_12;
		}

	/* CAB RED BACKWARDS*/
		// E5
		spriteset(ss_e5_series_cabrb_mp1_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_cabrb_mp2_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_cabrb_mp3_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_cabrb_mp4_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_cabrb_mp5_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_cabrb_mp6_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}

		// 1 2 3 4 5 6
		alternative_sprites(ss_e5_series_cabrb_mp1_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_reversed(1,121)}
		alternative_sprites(ss_e5_series_cabrb_mp2_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_reversed(1,141)}
		alternative_sprites(ss_e5_series_cabrb_mp3_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_reversed(1,161)}	
		alternative_sprites(ss_e5_series_cabrb_mp4_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_reversed(1,181)}	
		alternative_sprites(ss_e5_series_cabrb_mp5_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_reversed(1,201)}	
		alternative_sprites(ss_e5_series_cabrb_mp6_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_reversed(1,221)}	

		// H5
		spriteset(ss_h5_series_cabrb_mp1_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_cabrb_mp2_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_cabrb_mp3_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_cabrb_mp4_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_cabrb_mp5_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_cabrb_mp6_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}

		// 1 2 3 4 5 6
		alternative_sprites(ss_h5_series_cabrb_mp1_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_reversed(1,121)}
		alternative_sprites(ss_h5_series_cabrb_mp2_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_reversed(1,141)}
		alternative_sprites(ss_h5_series_cabrb_mp3_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_reversed(1,161)}	
		alternative_sprites(ss_h5_series_cabrb_mp4_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_reversed(1,181)}	
		alternative_sprites(ss_h5_series_cabrb_mp5_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_reversed(1,201)}	
		alternative_sprites(ss_h5_series_cabrb_mp6_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_reversed(1,221)}	

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabrb_mp1_12, cargo_subtype) {
			0: ss_e5_series_cabrb_mp1_12;
			1: ss_h5_series_cabrb_mp1_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabrb_mp2_12, cargo_subtype) {
			0: ss_e5_series_cabrb_mp2_12;
			1: ss_h5_series_cabrb_mp2_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabrb_mp3_12, cargo_subtype) {
			0: ss_e5_series_cabrb_mp3_12;
			1: ss_h5_series_cabrb_mp3_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabrb_mp4_12, cargo_subtype) {
			0: ss_e5_series_cabrb_mp4_12;
			1: ss_h5_series_cabrb_mp4_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabrb_mp5_12, cargo_subtype) {
			0: ss_e5_series_cabrb_mp5_12;
			1: ss_h5_series_cabrb_mp5_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabrb_mp6_12, cargo_subtype) {
			0: ss_e5_series_cabrb_mp6_12;
			1: ss_h5_series_cabrb_mp6_12;
		}

	/* COACH */
		// E5
		spriteset(ss_e5_series_coach_mp1_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_coach_mp2_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_coach_mp3_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_coach_mp4_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_coach_mp5_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_coach_mp6_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}

		// E5 Series Pink Strip Livery
		alternative_sprites(ss_e5_series_coach_mp1_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_standard(1,481)}
		alternative_sprites(ss_e5_series_coach_mp2_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_standard(1,501)}
		alternative_sprites(ss_e5_series_coach_mp3_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_standard(1,521)}	
		alternative_sprites(ss_e5_series_coach_mp4_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_standard(1,541)}	
		alternative_sprites(ss_e5_series_coach_mp5_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_standard(1,561)}
		alternative_sprites(ss_e5_series_coach_mp6_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_standard(1,581)}

		// H5
		spriteset(ss_h5_series_coach_mp1_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_coach_mp2_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_coach_mp3_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_coach_mp4_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_coach_mp5_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_coach_mp6_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}

		// H5 Series Purple Strip Livery
		alternative_sprites(ss_h5_series_coach_mp1_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_standard(1,481)}
		alternative_sprites(ss_h5_series_coach_mp2_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_standard(1,501)}
		alternative_sprites(ss_h5_series_coach_mp3_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_standard(1,521)}	
		alternative_sprites(ss_h5_series_coach_mp4_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_standard(1,541)}	
		alternative_sprites(ss_h5_series_coach_mp5_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_standard(1,561)}
		alternative_sprites(ss_h5_series_coach_mp6_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_standard(1,581)}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_coach_mp1_12, cargo_subtype) {
			0: ss_e5_series_coach_mp1_12;
			1: ss_h5_series_coach_mp1_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_coach_mp2_12, cargo_subtype) {
			0: ss_e5_series_coach_mp2_12;
			1: ss_h5_series_coach_mp2_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_coach_mp3_12, cargo_subtype) {
			0: ss_e5_series_coach_mp3_12;
			1: ss_h5_series_coach_mp3_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_coach_mp4_12, cargo_subtype) {
			0: ss_e5_series_coach_mp4_12;
			1: ss_h5_series_coach_mp4_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_coach_mp5_12, cargo_subtype) {
			0: ss_e5_series_coach_mp5_12;
			1: ss_h5_series_coach_mp5_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_coach_mp6_12, cargo_subtype) {
			0: ss_e5_series_coach_mp6_12;
			1: ss_h5_series_coach_mp6_12;
		}

	/* COACH REVERSED*/
		// E5
		spriteset(ss_e5_series_coach_rev_mp1_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_coach_rev_mp2_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_coach_rev_mp3_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_coach_rev_mp4_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_coach_rev_mp5_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_coach_rev_mp6_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}

		// E5 Series Pink Strip Livery
		alternative_sprites(ss_e5_series_coach_rev_mp1_12,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_reversed(1,481)}
		alternative_sprites(ss_e5_series_coach_rev_mp2_12,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_reversed(1,501)}
		alternative_sprites(ss_e5_series_coach_rev_mp3_12,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_reversed(1,521)}	
		alternative_sprites(ss_e5_series_coach_rev_mp4_12,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_reversed(1,541)}	
		alternative_sprites(ss_e5_series_coach_rev_mp5_12,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_reversed(1,561)}
		alternative_sprites(ss_e5_series_coach_rev_mp6_12,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_reversed(1,581)}

		// H5
		spriteset(ss_h5_series_coach_rev_mp1_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_coach_rev_mp2_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_coach_rev_mp3_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_coach_rev_mp4_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_coach_rev_mp5_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_coach_rev_mp6_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}

		// H5 Series Purple Strip Livery
		alternative_sprites(ss_h5_series_coach_rev_mp1_12,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_reversed(1,481)}
		alternative_sprites(ss_h5_series_coach_rev_mp2_12,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_reversed(1,501)}
		alternative_sprites(ss_h5_series_coach_rev_mp3_12,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_reversed(1,521)}	
		alternative_sprites(ss_h5_series_coach_rev_mp4_12,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_reversed(1,541)}	
		alternative_sprites(ss_h5_series_coach_rev_mp5_12,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_reversed(1,561)}
		alternative_sprites(ss_h5_series_coach_rev_mp6_12,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_reversed(1,581)}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_coach_rev_mp1_12, cargo_subtype) {
			0: ss_e5_series_coach_rev_mp1_12;
			1: ss_h5_series_coach_rev_mp1_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_coach_rev_mp2_12, cargo_subtype) {
			0: ss_e5_series_coach_rev_mp2_12;
			1: ss_h5_series_coach_rev_mp2_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_coach_rev_mp3_12, cargo_subtype) {
			0: ss_e5_series_coach_rev_mp3_12;
			1: ss_h5_series_coach_rev_mp3_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_coach_rev_mp4_12, cargo_subtype) {
			0: ss_e5_series_coach_rev_mp4_12;
			1: ss_h5_series_coach_rev_mp4_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_coach_rev_mp5_12, cargo_subtype) {
			0: ss_e5_series_coach_rev_mp5_12;
			1: ss_h5_series_coach_rev_mp5_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_coach_rev_mp6_12, cargo_subtype) {
			0: ss_e5_series_coach_rev_mp6_12;
			1: ss_h5_series_coach_rev_mp6_12;
		}

	/* PANT3 */
		// E5
		spriteset(ss_e5_series_pant3_mp1_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_pant3_mp2_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_pant3_mp3_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_pant3_mp4_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_pant3_mp5_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_pant3_mp6_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}

		// E5 Series Pink Strip Livery
		alternative_sprites(ss_e5_series_pant3_mp1_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_standard(1,601)}
		alternative_sprites(ss_e5_series_pant3_mp2_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_standard(1,621)}
		alternative_sprites(ss_e5_series_pant3_mp3_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_standard(1,641)}	
		alternative_sprites(ss_e5_series_pant3_mp4_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_standard(1,661)}	
		alternative_sprites(ss_e5_series_pant3_mp5_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_standard(1,681)}
		alternative_sprites(ss_e5_series_pant3_mp6_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_standard(1,701)}

		// H5
		spriteset(ss_h5_series_pant3_mp1_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_pant3_mp2_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_pant3_mp3_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_pant3_mp4_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_pant3_mp5_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_pant3_mp6_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}

		// H5 Series Purple Strip Livery
		alternative_sprites(ss_h5_series_pant3_mp1_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_standard(1,601)}
		alternative_sprites(ss_h5_series_pant3_mp2_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_standard(1,621)}
		alternative_sprites(ss_h5_series_pant3_mp3_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_standard(1,641)}	
		alternative_sprites(ss_h5_series_pant3_mp4_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_standard(1,661)}	
		alternative_sprites(ss_h5_series_pant3_mp5_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_standard(1,681)}
		alternative_sprites(ss_h5_series_pant3_mp6_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_standard(1,701)}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant3_mp1_12, cargo_subtype) {
			0: ss_e5_series_pant3_mp1_12;
			1: ss_h5_series_pant3_mp1_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant3_mp2_12, cargo_subtype) {
			0: ss_e5_series_pant3_mp2_12;
			1: ss_h5_series_pant3_mp2_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant3_mp3_12, cargo_subtype) {
			0: ss_e5_series_pant3_mp3_12;
			1: ss_h5_series_pant3_mp3_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant3_mp4_12, cargo_subtype) {
			0: ss_e5_series_pant3_mp4_12;
			1: ss_h5_series_pant3_mp4_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant3_mp5_12, cargo_subtype) {
			0: ss_e5_series_pant3_mp5_12;
			1: ss_h5_series_pant3_mp5_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant3_mp6_12, cargo_subtype) {
			0: ss_e5_series_pant3_mp6_12;
			1: ss_h5_series_pant3_mp6_12;
		}

	/* PANT3 REVERSED*/
		// E5
		spriteset(ss_e5_series_pant3_rev_mp1_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_pant3_rev_mp2_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_pant3_rev_mp3_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_pant3_rev_mp4_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_pant3_rev_mp5_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_pant3_rev_mp6_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}

		// E5 Series Pink Strip Livery
		alternative_sprites(ss_e5_series_pant3_rev_mp1_12,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_reversed(1,601)}
		alternative_sprites(ss_e5_series_pant3_rev_mp2_12,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_reversed(1,621)}
		alternative_sprites(ss_e5_series_pant3_rev_mp3_12,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_reversed(1,641)}	
		alternative_sprites(ss_e5_series_pant3_rev_mp4_12,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_reversed(1,661)}	
		alternative_sprites(ss_e5_series_pant3_rev_mp5_12,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_reversed(1,681)}	
		alternative_sprites(ss_e5_series_pant3_rev_mp6_12,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_reversed(1,701)}	

		// H5
		spriteset(ss_h5_series_pant3_rev_mp1_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_pant3_rev_mp2_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_pant3_rev_mp3_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_pant3_rev_mp4_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_pant3_rev_mp5_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_pant3_rev_mp6_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}

		// H5 Series Purple Strip Livery
		alternative_sprites(ss_h5_series_pant3_rev_mp1_12,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_reversed(1,601)}
		alternative_sprites(ss_h5_series_pant3_rev_mp2_12,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_reversed(1,621)}
		alternative_sprites(ss_h5_series_pant3_rev_mp3_12,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_reversed(1,641)}	
		alternative_sprites(ss_h5_series_pant3_rev_mp4_12,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_reversed(1,661)}	
		alternative_sprites(ss_h5_series_pant3_rev_mp5_12,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_reversed(1,681)}	
		alternative_sprites(ss_h5_series_pant3_rev_mp6_12,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_reversed(1,701)}	

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant3_rev_mp1_12, cargo_subtype) {
			0: ss_e5_series_pant3_rev_mp1_12;
			1: ss_h5_series_pant3_rev_mp1_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant3_rev_mp2_12, cargo_subtype) {
			0: ss_e5_series_pant3_rev_mp2_12;
			1: ss_h5_series_pant3_rev_mp2_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant3_rev_mp3_12, cargo_subtype) {
			0: ss_e5_series_pant3_rev_mp3_12;
			1: ss_h5_series_pant3_rev_mp3_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant3_rev_mp4_12, cargo_subtype) {
			0: ss_e5_series_pant3_rev_mp4_12;
			1: ss_h5_series_pant3_rev_mp4_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant3_rev_mp5_12, cargo_subtype) {
			0: ss_e5_series_pant3_rev_mp5_12;
			1: ss_h5_series_pant3_rev_mp5_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant3_rev_mp6_12, cargo_subtype) {
			0: ss_e5_series_pant3_rev_mp6_12;
			1: ss_h5_series_pant3_rev_mp6_12;
		}

	/* PANT8 */
		// E5
		spriteset(ss_e5_series_pant8_mp1_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_pant8_mp2_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_pant8_mp3_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_pant8_mp4_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_pant8_mp5_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_pant8_mp6_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}

		// E5 Series Pink Strip Livery
		alternative_sprites(ss_e5_series_pant8_mp6_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_cab_rev_standard(1,601)}
		alternative_sprites(ss_e5_series_pant8_mp5_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_cab_rev_standard(1,621)}
		alternative_sprites(ss_e5_series_pant8_mp4_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_cab_rev_standard(1,641)}	
		alternative_sprites(ss_e5_series_pant8_mp3_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_cab_rev_standard(1,661)}	
		alternative_sprites(ss_e5_series_pant8_mp2_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_cab_rev_standard(1,681)}
		alternative_sprites(ss_e5_series_pant8_mp1_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_cab_rev_standard(1,701)}

		// H5
		spriteset(ss_h5_series_pant8_mp1_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_pant8_mp2_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_pant8_mp3_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_pant8_mp4_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_pant8_mp5_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_pant8_mp6_12,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}

		// H5 Series Purple Strip Livery
		alternative_sprites(ss_h5_series_pant8_mp6_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_cab_rev_standard(1,601)}
		alternative_sprites(ss_h5_series_pant8_mp5_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_cab_rev_standard(1,621)}
		alternative_sprites(ss_h5_series_pant8_mp4_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_cab_rev_standard(1,641)}	
		alternative_sprites(ss_h5_series_pant8_mp3_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_cab_rev_standard(1,661)}	
		alternative_sprites(ss_h5_series_pant8_mp2_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_cab_rev_standard(1,681)}
		alternative_sprites(ss_h5_series_pant8_mp1_12,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_cab_rev_standard(1,701)}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant8_mp1_12, cargo_subtype) {
			0: ss_e5_series_pant8_mp1_12;
			1: ss_h5_series_pant8_mp1_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant8_mp2_12, cargo_subtype) {
			0: ss_e5_series_pant8_mp2_12;
			1: ss_h5_series_pant8_mp2_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant8_mp3_12, cargo_subtype) {
			0: ss_e5_series_pant8_mp3_12;
			1: ss_h5_series_pant8_mp3_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant8_mp4_12, cargo_subtype) {
			0: ss_e5_series_pant8_mp4_12;
			1: ss_h5_series_pant8_mp4_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant8_mp5_12, cargo_subtype) {
			0: ss_e5_series_pant8_mp5_12;
			1: ss_h5_series_pant8_mp5_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant8_mp6_12, cargo_subtype) {
			0: ss_e5_series_pant8_mp6_12;
			1: ss_h5_series_pant8_mp6_12;
		}

	/* PANT8 REVERSED*/
		// E5
		spriteset(ss_e5_series_pant8_rev_mp1_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_pant8_rev_mp2_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_pant8_rev_mp3_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_pant8_rev_mp4_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_pant8_rev_mp5_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_pant8_rev_mp6_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}

		// E5 Series Pink Strip Livery
		alternative_sprites(ss_e5_series_pant8_rev_mp6_12,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_cab_rev_reversed(1,601)}
		alternative_sprites(ss_e5_series_pant8_rev_mp5_12,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_cab_rev_reversed(1,621)}
		alternative_sprites(ss_e5_series_pant8_rev_mp4_12,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_cab_rev_reversed(1,641)}	
		alternative_sprites(ss_e5_series_pant8_rev_mp3_12,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_cab_rev_reversed(1,661)}	
		alternative_sprites(ss_e5_series_pant8_rev_mp2_12,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_cab_rev_reversed(1,681)}	
		alternative_sprites(ss_e5_series_pant8_rev_mp1_12,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/e5_miniparts.png")  {template_2_cab_rev_reversed(1,701)}

		// H5
		spriteset(ss_h5_series_pant8_rev_mp1_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_pant8_rev_mp2_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_pant8_rev_mp3_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_pant8_rev_mp4_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_pant8_rev_mp5_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_pant8_rev_mp6_12,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}

		// E5 Series Pink Strip Livery
		alternative_sprites(ss_h5_series_pant8_rev_mp6_12,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_cab_rev_reversed(1,601)}
		alternative_sprites(ss_h5_series_pant8_rev_mp5_12,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_cab_rev_reversed(1,621)}
		alternative_sprites(ss_h5_series_pant8_rev_mp4_12,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_cab_rev_reversed(1,641)}	
		alternative_sprites(ss_h5_series_pant8_rev_mp3_12,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_cab_rev_reversed(1,661)}	
		alternative_sprites(ss_h5_series_pant8_rev_mp2_12,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_cab_rev_reversed(1,681)}	
		alternative_sprites(ss_h5_series_pant8_rev_mp1_12,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/12/h5_miniparts.png")  {template_2_cab_rev_reversed(1,701)}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant8_rev_mp1_12, cargo_subtype) {
			0: ss_e5_series_pant8_rev_mp1_12;
			1: ss_h5_series_pant8_rev_mp1_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant8_rev_mp2_12, cargo_subtype) {
			0: ss_e5_series_pant8_rev_mp2_12;
			1: ss_h5_series_pant8_rev_mp2_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant8_rev_mp3_12, cargo_subtype) {
			0: ss_e5_series_pant8_rev_mp3_12;
			1: ss_h5_series_pant8_rev_mp3_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant8_rev_mp4_12, cargo_subtype) {
			0: ss_e5_series_pant8_rev_mp4_12;
			1: ss_h5_series_pant8_rev_mp4_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant8_rev_mp5_12, cargo_subtype) {
			0: ss_e5_series_pant8_rev_mp5_12;
			1: ss_h5_series_pant8_rev_mp5_12;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant8_rev_mp6_12, cargo_subtype) {
			0: ss_e5_series_pant8_rev_mp6_12;
			1: ss_h5_series_pant8_rev_mp6_12;
		}

/* E5 minipart logic */
	// Yellow Light Forwards
		switch (FEAT_TRAINS, SELF, ss_e5_series_cabyf_mp1_12_check, other_veh_curv_info(5) == 0 && other_veh_curv_info(1) == 0 && other_veh_z_offset(5) == 0 && other_veh_z_offset(1) == 0 ) {
				1: sw_e5_series_cabyf_mp1_12;		   
				dummy_sprites;			
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_cabyf_mp2_12_check, other_veh_curv_info(4) == 0 && other_veh_curv_info(-1) == 0 && other_veh_z_offset(4) == 0 && other_veh_z_offset(-1) == 0 ) {
				1: sw_e5_series_cabyf_mp2_12;		   
				dummy_sprites;			
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_cabyf_mp3_12_check, other_veh_curv_info(3) == 0 && other_veh_curv_info(-2) == 0 && other_veh_z_offset(3) == 0 && other_veh_z_offset(-2) == 0 ) {
				1: sw_e5_series_cabyf_mp3_12;		   
				sw_e5_series_cabyf_12on2; 		
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_cabyf_mp4_12_check, other_veh_curv_info(2) == 0 && other_veh_curv_info(-3) == 0 && other_veh_z_offset(2) == 0 && other_veh_z_offset(-3) == 0 ) {
				1: sw_e5_series_cabyf_mp4_12;		   
				dummy_sprites;						
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_cabyf_mp5_12_check, other_veh_curv_info(1) == 0 && other_veh_curv_info(-4) == 0 && other_veh_z_offset(1) == 0 && other_veh_z_offset(-4) == 0 ) {
				1: sw_e5_series_cabyf_mp5_12;		   
				dummy_sprites;					
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_cabyf_mp6_12_check, other_veh_curv_info(-1) == 0 && other_veh_curv_info(-5) == 0 && other_veh_z_offset(-1) == 0 && other_veh_z_offset(-5) == 0 ) {
				1: sw_e5_series_cabyf_mp6_12;		   
				dummy_sprites;					
			}

	// Yellow Light Backwards
	
		switch (FEAT_TRAINS, SELF, ss_e5_series_cabyb_mp1_12_check, other_veh_curv_info(-5) == 0 && other_veh_curv_info(-1) == 0 && other_veh_z_offset(-5) == 0 && other_veh_z_offset(-1) == 0 ) {
				1: sw_e5_series_cabyb_mp1_12;		   
				dummy_sprites;				
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_cabyb_mp2_12_check, other_veh_curv_info(-4) == 0 && other_veh_curv_info(1) == 0 && other_veh_z_offset(-4) == 0 && other_veh_z_offset(1) == 0 ) {
				1: sw_e5_series_cabyb_mp2_12;		   
				dummy_sprites;				
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_cabyb_mp3_12_check, other_veh_curv_info(-3) == 0 && other_veh_curv_info(2) == 0 && other_veh_z_offset(-3) == 0 && other_veh_z_offset(2) == 0 ) {
				1: sw_e5_series_cabyb_mp3_12;		   
				dummy_sprites;					
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_cabyb_mp4_12_check, other_veh_curv_info(-2) == 0 && other_veh_curv_info(3) == 0 && other_veh_z_offset(-2) == 0 && other_veh_z_offset(3) == 0 ) {
				1: sw_e5_series_cabyb_mp4_12;		   
				sw_e5_series_cabyb_12on2; 						
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_cabyb_mp5_12_check, other_veh_curv_info(-1) == 0 && other_veh_curv_info(4) == 0 && other_veh_z_offset(-1) == 0 && other_veh_z_offset(4) == 0 ) {
				1: sw_e5_series_cabyb_mp5_12;		   
				dummy_sprites;						
			}
	
		switch (FEAT_TRAINS, SELF, ss_e5_series_cabyb_mp6_12_check, other_veh_curv_info(1) == 0 && other_veh_curv_info(5) == 0 && other_veh_z_offset(1) == 0 && other_veh_z_offset(5) == 0 ) {
				1: sw_e5_series_cabyb_mp6_12;		   
				dummy_sprites;						
			}

	// Red Light Backwards
		switch (FEAT_TRAINS, SELF, ss_e5_series_cabrb_mp1_12_check, other_veh_curv_info(-5) == 0 && other_veh_curv_info(-1) == 0 && other_veh_z_offset(-5) == 0 && other_veh_z_offset(-1) == 0 ) {
				1: sw_e5_series_cabrb_mp1_12;		   
				dummy_sprites;				
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_cabrb_mp2_12_check, other_veh_curv_info(-4) == 0 && other_veh_curv_info(1) == 0 && other_veh_z_offset(-4) == 0 && other_veh_z_offset(1) == 0 ) {
				1: sw_e5_series_cabrb_mp2_12;		   
				dummy_sprites;				
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_cabrb_mp3_12_check, other_veh_curv_info(-3) == 0 && other_veh_curv_info(2) == 0 && other_veh_z_offset(-3) == 0 && other_veh_z_offset(2) == 0 ) {
				1: sw_e5_series_cabrb_mp3_12;		   
				dummy_sprites;				
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_cabrb_mp4_12_check, other_veh_curv_info(-2) == 0 && other_veh_curv_info(3) == 0 && other_veh_z_offset(-2) == 0 && other_veh_z_offset(3) == 0 ) {
				1: sw_e5_series_cabrb_mp4_12;		   
				sw_e5_series_cabrb_12on2;							
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_cabrb_mp5_12_check, other_veh_curv_info(-1) == 0 && other_veh_curv_info(4) == 0 && other_veh_z_offset(-1) == 0 && other_veh_z_offset(4) == 0 ) {
				1: sw_e5_series_cabrb_mp5_12;		   
				dummy_sprites;				
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_cabrb_mp6_12_check, other_veh_curv_info(1) == 0 && other_veh_curv_info(5) == 0 && other_veh_z_offset(1) == 0 && other_veh_z_offset(5) == 0 ) {
				1: sw_e5_series_cabrb_mp6_12;		   
				dummy_sprites;				
			}

	// Red Light Forwards
		switch (FEAT_TRAINS, SELF, ss_e5_series_cabrf_mp1_12_check, other_veh_curv_info(1) == 0 && other_veh_curv_info(5) == 0 && other_veh_z_offset(1) == 0 && other_veh_z_offset(5) == 0 ) {
				1: sw_e5_series_cabrf_mp1_12;		   
				dummy_sprites;				
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_cabrf_mp2_12_check, other_veh_curv_info(-1) == 0 && other_veh_curv_info(4) == 0 && other_veh_z_offset(-1) == 0 && other_veh_z_offset(4) == 0 ) {
				1: sw_e5_series_cabrf_mp2_12;		   
				dummy_sprites;			
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_cabrf_mp3_12_check, other_veh_curv_info(-2) == 0 && other_veh_curv_info(3) == 0 && other_veh_z_offset(-2) == 0 && other_veh_z_offset(3) == 0 ) {
				1: sw_e5_series_cabrf_mp3_12;		   
				sw_e5_series_cabrf_12on2;					
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_cabrf_mp4_12_check, other_veh_curv_info(-3) == 0 && other_veh_curv_info(2) == 0 && other_veh_z_offset(-3) == 0 && other_veh_z_offset(2) == 0 ) {
				1: sw_e5_series_cabrf_mp4_12;		   
				dummy_sprites;						
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_cabrf_mp5_12_check, other_veh_curv_info(-4) == 0 && other_veh_curv_info(1) == 0 && other_veh_z_offset(-4) == 0 && other_veh_z_offset(1) == 0 ) {
				1: sw_e5_series_cabrf_mp5_12;		   
				dummy_sprites;				
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_cabrf_mp6_12_check, other_veh_curv_info(-5) == 0 && other_veh_curv_info(-1) == 0 && other_veh_z_offset(-5) == 0 && other_veh_z_offset(-1) == 0 ) {
				1: sw_e5_series_cabrf_mp6_12;		   
				dummy_sprites;				
			}

	// Coach
			switch (FEAT_TRAINS, SELF, ss_e5_series_coach_mp1_12_check, other_veh_curv_info(1) == 0 && other_veh_curv_info(5) == 0 && other_veh_z_offset(1) == 0 && other_veh_z_offset(5) == 0 ) {
					1: sw_e5_series_coach_mp1_12;		   
					dummy_sprites;						
				}

			switch (FEAT_TRAINS, SELF, ss_e5_series_coach_mp2_12_check, other_veh_curv_info(-1) == 0 && other_veh_curv_info(4) == 0 && other_veh_z_offset(-1) == 0 && other_veh_z_offset(4) == 0 ) {
					1: sw_e5_series_coach_mp2_12;		   
					dummy_sprites;				
				}

			switch (FEAT_TRAINS, SELF, ss_e5_series_coach_mp3_12_check, other_veh_curv_info(-2) == 0 && other_veh_curv_info(3) == 0 && other_veh_z_offset(-2) == 0 && other_veh_z_offset(3) == 0 ) {
					1: sw_e5_series_coach_mp3_12;		   
					sw_e5_series_coach_12on2;						
				}

			switch (FEAT_TRAINS, SELF, ss_e5_series_coach_mp4_12_check, other_veh_curv_info(-3) == 0 && other_veh_curv_info(2) == 0 && other_veh_z_offset(-3) == 0 && other_veh_z_offset(2) == 0 ) {
					1: sw_e5_series_coach_mp4_12;		   
					dummy_sprites;						
				}

			switch (FEAT_TRAINS, SELF, ss_e5_series_coach_mp5_12_check, other_veh_curv_info(-4) == 0 && other_veh_curv_info(1) == 0 && other_veh_z_offset(-4) == 0 && other_veh_z_offset(1) == 0 ) {
					1: sw_e5_series_coach_mp5_12;		   
					dummy_sprites;					
				}

			switch (FEAT_TRAINS, SELF, ss_e5_series_coach_mp6_12_check, other_veh_curv_info(-5) == 0 && other_veh_curv_info(-1) == 0 && other_veh_z_offset(-5) == 0 && other_veh_z_offset(-1) == 0 ) {
					1: sw_e5_series_coach_mp6_12;		   
					dummy_sprites;					
				}
		
	// Coach Reversed
		switch (FEAT_TRAINS, SELF, ss_e5_series_coach_rev_mp1_12_check, other_veh_curv_info(-5) == 0 && other_veh_curv_info(-1) == 0 && other_veh_z_offset(-5) == 0 && other_veh_z_offset(-1) == 0 ) {
				1: sw_e5_series_coach_rev_mp1_12;		   
				dummy_sprites;				
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_coach_rev_mp2_12_check, other_veh_curv_info(-4) == 0 && other_veh_curv_info(1) == 0 && other_veh_z_offset(-4) == 0 && other_veh_z_offset(1) == 0 ) {
				1: sw_e5_series_coach_rev_mp2_12;		   
				dummy_sprites;				
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_coach_rev_mp3_12_check, other_veh_curv_info(-3) == 0 && other_veh_curv_info(2) == 0 && other_veh_z_offset(-3) == 0 && other_veh_z_offset(2) == 0 ) {
				1: sw_e5_series_coach_rev_mp3_12;		   
				dummy_sprites;					
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_coach_rev_mp4_12_check, other_veh_curv_info(-2) == 0 && other_veh_curv_info(3) == 0 && other_veh_z_offset(-2) == 0 && other_veh_z_offset(3) == 0 ) {
				1: sw_e5_series_coach_rev_mp4_12;		   
				sw_e5_series_coach_rev_12on2;						
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_coach_rev_mp5_12_check, other_veh_curv_info(-1) == 0 && other_veh_curv_info(4) == 0 && other_veh_z_offset(-1) == 0 && other_veh_z_offset(4) == 0 ) {
				1: sw_e5_series_coach_rev_mp5_12;		   
				dummy_sprites;							
			}
		
		switch (FEAT_TRAINS, SELF, ss_e5_series_coach_rev_mp6_12_check, other_veh_curv_info(1) == 0 && other_veh_curv_info(5) == 0 && other_veh_z_offset(1) == 0 && other_veh_z_offset(5) == 0 ) {
				1: sw_e5_series_coach_rev_mp6_12;		   
				dummy_sprites;							
			}

	// Pant3
			switch (FEAT_TRAINS, SELF, ss_e5_series_pant3_mp1_12_check, other_veh_curv_info(1) == 0 && other_veh_curv_info(5) == 0 && other_veh_z_offset(1) == 0 && other_veh_z_offset(5) == 0 ) {
					1: sw_e5_series_pant3_mp1_12;		   
					dummy_sprites;						
				}

			switch (FEAT_TRAINS, SELF, ss_e5_series_pant3_mp2_12_check, other_veh_curv_info(-1) == 0 && other_veh_curv_info(4) == 0 && other_veh_z_offset(-1) == 0 && other_veh_z_offset(4) == 0 ) {
					1: sw_e5_series_pant3_mp2_12;		   
					dummy_sprites;					
				}

			switch (FEAT_TRAINS, SELF, ss_e5_series_pant3_mp3_12_check, other_veh_curv_info(-2) == 0 && other_veh_curv_info(3) == 0 && other_veh_z_offset(-2) == 0 && other_veh_z_offset(3) == 0 ) {
					1: sw_e5_series_pant3_mp3_12;		   
					sw_e5_series_pant3_12on2;							
				}

			switch (FEAT_TRAINS, SELF, ss_e5_series_pant3_mp4_12_check, other_veh_curv_info(-3) == 0 && other_veh_curv_info(2) == 0 && other_veh_z_offset(-3) == 0 && other_veh_z_offset(2) == 0 ) {
					1: sw_e5_series_pant3_mp4_12;		   
					dummy_sprites;						
				}

			switch (FEAT_TRAINS, SELF, ss_e5_series_pant3_mp5_12_check, other_veh_curv_info(-4) == 0 && other_veh_curv_info(1) == 0 && other_veh_z_offset(-4) == 0 && other_veh_z_offset(1) == 0 ) {
					1: sw_e5_series_pant3_mp5_12;		   
					dummy_sprites;					
				}

			switch (FEAT_TRAINS, SELF, ss_e5_series_pant3_mp6_12_check, other_veh_curv_info(-5) == 0 && other_veh_curv_info(-1) == 0 && other_veh_z_offset(-5) == 0 && other_veh_z_offset(-1) == 0 ) {
					1: sw_e5_series_pant3_mp6_12;		   
					dummy_sprites;					
				}
		
	// Pant3 Reversed
		switch (FEAT_TRAINS, SELF, ss_e5_series_pant3_rev_mp1_12_check, other_veh_curv_info(-5) == 0 && other_veh_curv_info(-1) == 0 && other_veh_z_offset(-5) == 0 && other_veh_z_offset(-1) == 0 ) {
				1: sw_e5_series_pant3_rev_mp1_12;		   
				dummy_sprites;				
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_pant3_rev_mp2_12_check, other_veh_curv_info(-4) == 0 && other_veh_curv_info(1) == 0 && other_veh_z_offset(-4) == 0 && other_veh_z_offset(1) == 0 ) {
				1: sw_e5_series_pant3_rev_mp2_12;		   
				dummy_sprites;				
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_pant3_rev_mp3_12_check, other_veh_curv_info(-3) == 0 && other_veh_curv_info(2) == 0 && other_veh_z_offset(-3) == 0 && other_veh_z_offset(2) == 0 ) {
				1: sw_e5_series_pant3_rev_mp3_12;		   
				dummy_sprites;					
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_pant3_rev_mp4_12_check, other_veh_curv_info(-2) == 0 && other_veh_curv_info(3) == 0 && other_veh_z_offset(-2) == 0 && other_veh_z_offset(3) == 0 ) {
				1: sw_e5_series_pant3_rev_mp4_12;		   
				sw_e5_series_pant3_rev_12on2;						
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_pant3_rev_mp5_12_check, other_veh_curv_info(-1) == 0 && other_veh_curv_info(4) == 0 && other_veh_z_offset(-1) == 0 && other_veh_z_offset(4) == 0 ) {
				1: sw_e5_series_pant3_rev_mp5_12;		   
				dummy_sprites;							
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_pant3_rev_mp6_12_check, other_veh_curv_info(1) == 0 && other_veh_curv_info(5) == 0 && other_veh_z_offset(1) == 0 && other_veh_z_offset(5) == 0 ) {
				1: sw_e5_series_pant3_rev_mp6_12;		   
				dummy_sprites;							
			}

	// Pant8
			switch (FEAT_TRAINS, SELF, ss_e5_series_pant8_mp1_12_check, other_veh_curv_info(1) == 0 && other_veh_curv_info(5) == 0 && other_veh_z_offset(1) == 0 && other_veh_z_offset(5) == 0 ) {
					1: sw_e5_series_pant8_mp1_12;		   
					dummy_sprites;						
				}

			switch (FEAT_TRAINS, SELF, ss_e5_series_pant8_mp2_12_check, other_veh_curv_info(-1) == 0 && other_veh_curv_info(4) == 0 && other_veh_z_offset(-1) == 0 && other_veh_z_offset(4) == 0 ) {
					1: sw_e5_series_pant8_mp2_12;		   
					dummy_sprites;					
				}

			switch (FEAT_TRAINS, SELF, ss_e5_series_pant8_mp3_12_check, other_veh_curv_info(-2) == 0 && other_veh_curv_info(3) == 0 && other_veh_z_offset(-2) == 0 && other_veh_z_offset(3) == 0 ) {
					1: sw_e5_series_pant8_mp3_12;		   
					sw_e5_series_pant8_12on2;					
				}

			switch (FEAT_TRAINS, SELF, ss_e5_series_pant8_mp4_12_check, other_veh_curv_info(-3) == 0 && other_veh_curv_info(2) == 0 && other_veh_z_offset(-3) == 0 && other_veh_z_offset(2) == 0 ) {
					1: sw_e5_series_pant8_mp4_12;		   
					dummy_sprites;						
				}

			switch (FEAT_TRAINS, SELF, ss_e5_series_pant8_mp5_12_check, other_veh_curv_info(-4) == 0 && other_veh_curv_info(1) == 0 && other_veh_z_offset(-4) == 0 && other_veh_z_offset(1) == 0 ) {
					1: sw_e5_series_pant8_mp5_12;		   
					dummy_sprites;					
				}

			switch (FEAT_TRAINS, SELF, ss_e5_series_pant8_mp6_12_check, other_veh_curv_info(-5) == 0 && other_veh_curv_info(-1) == 0 && other_veh_z_offset(-5) == 0 && other_veh_z_offset(-1) == 0 ) {
					1: sw_e5_series_pant8_mp6_12;		   
					dummy_sprites;					
				}
		
	// Pant8 Reversed
		switch (FEAT_TRAINS, SELF, ss_e5_series_pant8_rev_mp1_12_check, other_veh_curv_info(-5) == 0 && other_veh_curv_info(-1) == 0 && other_veh_z_offset(-5) == 0 && other_veh_z_offset(-1) == 0 ) {
				1: sw_e5_series_pant8_rev_mp1_12;		   
				dummy_sprites;				
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_pant8_rev_mp2_12_check, other_veh_curv_info(-4) == 0 && other_veh_curv_info(1) == 0 && other_veh_z_offset(-4) == 0 && other_veh_z_offset(1) == 0 ) {
				1: sw_e5_series_pant8_rev_mp2_12;		   
				dummy_sprites;				
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_pant8_rev_mp3_12_check, other_veh_curv_info(-3) == 0 && other_veh_curv_info(2) == 0 && other_veh_z_offset(-3) == 0 && other_veh_z_offset(2) == 0 ) {
				1: sw_e5_series_pant8_rev_mp3_12;		   
				dummy_sprites;					
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_pant8_rev_mp4_12_check, other_veh_curv_info(-2) == 0 && other_veh_curv_info(3) == 0 && other_veh_z_offset(-2) == 0 && other_veh_z_offset(3) == 0 ) {
				1: sw_e5_series_pant8_rev_mp4_12;		   
				sw_e5_series_pant8_rev_12on2;						
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_pant8_rev_mp5_12_check, other_veh_curv_info(-1) == 0 && other_veh_curv_info(4) == 0 && other_veh_z_offset(-1) == 0 && other_veh_z_offset(4) == 0 ) {
				1: sw_e5_series_pant8_rev_mp5_12;		   
				dummy_sprites;							
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_pant8_rev_mp6_12_check, other_veh_curv_info(1) == 0 && other_veh_curv_info(5) == 0 && other_veh_z_offset(1) == 0 && other_veh_z_offset(5) == 0 ) {
				1: sw_e5_series_pant8_rev_mp6_12;		   
				dummy_sprites;							
			}
# 1 "src/trains/e5e6_series/e5e6_series.pnml" 3
# 1 "src/trains/e5e6_series/pnml/e5_miniparts_10.pnml" 1

/* E5 10 on 2 */ 
	/* CAB  */
		// E5
		spriteset(ss_e5_series_cabyf_10on2,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_cabrf_10on2,             		    "src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_cabyb_10on2,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_cabrb_10on2,             		    "src/trains/dummy/empty.png") {template_dummy(0,0)}

		alternative_sprites(ss_e5_series_cabyf_10on2,     		    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5pink.png")  {template_10_on_2_standard(1,1)}
		alternative_sprites(ss_e5_series_cabrf_10on2,     	    	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5pink.png")  {template_10_on_2_cab_rev_standard(1,41)}
		alternative_sprites(ss_e5_series_cabyb_10on2,     		    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5pink.png")  {template_10_on_2_cab_rev_reversed(1,1)}
		alternative_sprites(ss_e5_series_cabrb_10on2,     	    	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5pink.png")  {template_10_on_2_reversed(1,41)}

		// H5
		spriteset(ss_h5_series_cabyf_10on2,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_cabrf_10on2,             		    "src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_cabyb_10on2,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_cabrb_10on2,             		    "src/trains/dummy/empty.png") {template_dummy(0,0)}

		alternative_sprites(ss_h5_series_cabyf_10on2,     		    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5purple.png")  {template_10_on_2_standard(1,1)}
		alternative_sprites(ss_h5_series_cabrf_10on2,     	    	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5purple.png")  {template_10_on_2_cab_rev_standard(1,41)}
		alternative_sprites(ss_h5_series_cabyb_10on2,     		    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5purple.png")  {template_10_on_2_cab_rev_reversed(1,1)}
		alternative_sprites(ss_h5_series_cabrb_10on2,     	    	ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5purple.png")  {template_10_on_2_reversed(1,41)}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabyf_10on2, cargo_subtype) {
			0: ss_e5_series_cabyf_10on2;
			1: ss_h5_series_cabyf_10on2;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabrf_10on2, cargo_subtype) {
			0: ss_e5_series_cabrf_10on2;
			1: ss_h5_series_cabrf_10on2;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabyb_10on2, cargo_subtype) {
			0: ss_e5_series_cabyb_10on2;
			1: ss_h5_series_cabyb_10on2;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabrb_10on2, cargo_subtype) {
			0: ss_e5_series_cabrb_10on2;
			1: ss_h5_series_cabrb_10on2;
		}

	/* COACH */
		// E5
		spriteset(ss_e5_series_coach_10on2,             		    "src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_coach_rev_10on2,    			        "src/trains/dummy/empty.png") {template_dummy(0,0)}
		alternative_sprites(ss_e5_series_coach_10on2,     		    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5pink.png") {template_10_on_2_standard(1,81)}
		alternative_sprites(ss_e5_series_coach_rev_10on2,		    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5pink.png") {template_10_on_2_reversed(1,81)}

		// H5
		spriteset(ss_h5_series_coach_10on2,             		    "src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_coach_rev_10on2,    			        "src/trains/dummy/empty.png") {template_dummy(0,0)}
		alternative_sprites(ss_h5_series_coach_10on2,     		    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5purple.png") {template_10_on_2_standard(1,81)}
		alternative_sprites(ss_h5_series_coach_rev_10on2,		    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5purple.png") {template_10_on_2_reversed(1,81)}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_coach_10on2, cargo_subtype) {
			0: ss_e5_series_coach_10on2;
			1: ss_h5_series_coach_10on2;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_coach_rev_10on2, cargo_subtype) {
			0: ss_e5_series_coach_rev_10on2;
			1: ss_h5_series_coach_rev_10on2;
		}

	/* PANT3 */
		// E5
		spriteset(ss_e5_series_pant3_10on2,             		    "src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_pant3_rev_10on2,    			        "src/trains/dummy/empty.png") {template_dummy(0,0)}
		alternative_sprites(ss_e5_series_pant3_10on2,     		    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5pink.png") {template_10_on_2_standard(1,121)}
		alternative_sprites(ss_e5_series_pant3_rev_10on2,		    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5pink.png") {template_10_on_2_reversed(1,121)}	

		// H5
		spriteset(ss_h5_series_pant3_10on2,             		    "src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_pant3_rev_10on2,    			        "src/trains/dummy/empty.png") {template_dummy(0,0)}
		alternative_sprites(ss_h5_series_pant3_10on2,     		    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5purple.png") {template_10_on_2_standard(1,121)}
		alternative_sprites(ss_h5_series_pant3_rev_10on2,		    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5purple.png") {template_10_on_2_reversed(1,121)}	

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant3_10on2, cargo_subtype) {
			0: ss_e5_series_pant3_10on2;
			1: ss_h5_series_pant3_10on2;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant3_rev_10on2, cargo_subtype) {
			0: ss_e5_series_pant3_rev_10on2;
			1: ss_h5_series_pant3_rev_10on2;
		}

	/* PANT8 */
		// E5
		spriteset(ss_e5_series_pant8_10on2,             		    "src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_pant8_rev_10on2,    			        "src/trains/dummy/empty.png") {template_dummy(0,0)}
		alternative_sprites(ss_e5_series_pant8_10on2,     		    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5pink.png") {template_10_on_2_cab_rev_standard(1,121)}
		alternative_sprites(ss_e5_series_pant8_rev_10on2,		    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5pink.png") {template_10_on_2_cab_rev_reversed(1,121)}	

		// H5
		spriteset(ss_h5_series_pant8_10on2,             		    "src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_pant8_rev_10on2,    			        "src/trains/dummy/empty.png") {template_dummy(0,0)}
		alternative_sprites(ss_h5_series_pant8_10on2,     		    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5purple.png") {template_10_on_2_cab_rev_standard(1,121)}
		alternative_sprites(ss_h5_series_pant8_rev_10on2,		    ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5purple.png") {template_10_on_2_cab_rev_reversed(1,121)}	

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant8_10on2, cargo_subtype) {
			0: ss_e5_series_pant8_10on2;
			1: ss_h5_series_pant8_10on2;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant8_rev_10on2, cargo_subtype) {
			0: ss_e5_series_pant8_rev_10on2;
			1: ss_h5_series_pant8_rev_10on2;
		}

/* E5 minipart for 10 */
	/* CAB YELLOW FORWARDS*/
		// E5
		spriteset(ss_e5_series_cabyf_mp1_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_cabyf_mp2_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_cabyf_mp3_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_cabyf_mp4_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_cabyf_mp5_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}

		//  1 2 3 4 5
		alternative_sprites(ss_e5_series_cabyf_mp1_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_standard(1,1)}
		alternative_sprites(ss_e5_series_cabyf_mp2_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_standard(1,21)}
		alternative_sprites(ss_e5_series_cabyf_mp3_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_standard(1,41)}	
		alternative_sprites(ss_e5_series_cabyf_mp4_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_standard(1,61)}	
		alternative_sprites(ss_e5_series_cabyf_mp5_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_standard(1,81)}	

		// H5
		spriteset(ss_h5_series_cabyf_mp1_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_cabyf_mp2_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_cabyf_mp3_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_cabyf_mp4_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_cabyf_mp5_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}

		//  1 2 3 4 5
		alternative_sprites(ss_h5_series_cabyf_mp1_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_standard(1,1)}
		alternative_sprites(ss_h5_series_cabyf_mp2_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_standard(1,21)}
		alternative_sprites(ss_h5_series_cabyf_mp3_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_standard(1,41)}	
		alternative_sprites(ss_h5_series_cabyf_mp4_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_standard(1,61)}	
		alternative_sprites(ss_h5_series_cabyf_mp5_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_standard(1,81)}	

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabyf_mp1_10, cargo_subtype) {
			0: ss_e5_series_cabyf_mp1_10;
			1: ss_h5_series_cabyf_mp1_10;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabyf_mp2_10, cargo_subtype) {
			0: ss_e5_series_cabyf_mp2_10;
			1: ss_h5_series_cabyf_mp2_10;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabyf_mp3_10, cargo_subtype) {
			0: ss_e5_series_cabyf_mp3_10;
			1: ss_h5_series_cabyf_mp3_10;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabyf_mp4_10, cargo_subtype) {
			0: ss_e5_series_cabyf_mp4_10;
			1: ss_h5_series_cabyf_mp4_10;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabyf_mp5_10, cargo_subtype) {
			0: ss_e5_series_cabyf_mp5_10;
			1: ss_h5_series_cabyf_mp5_10;
		}

	/* CAB RED FORWARDS*/
		// E5
		spriteset(ss_e5_series_cabrf_mp1_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_cabrf_mp2_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_cabrf_mp3_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_cabrf_mp4_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_cabrf_mp5_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}

		// 5 4 3 2 1
		alternative_sprites(ss_e5_series_cabrf_mp5_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_cab_rev_standard(1,361)}
		alternative_sprites(ss_e5_series_cabrf_mp4_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_cab_rev_standard(1,381)}
		alternative_sprites(ss_e5_series_cabrf_mp3_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_cab_rev_standard(1,401)}	
		alternative_sprites(ss_e5_series_cabrf_mp2_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_cab_rev_standard(1,421)}	
		alternative_sprites(ss_e5_series_cabrf_mp1_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_cab_rev_standard(1,441)}

		// H5
		spriteset(ss_h5_series_cabrf_mp1_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_cabrf_mp2_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_cabrf_mp3_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_cabrf_mp4_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_cabrf_mp5_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}

		// 5 4 3 2 1
		alternative_sprites(ss_h5_series_cabrf_mp5_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_cab_rev_standard(1,361)}
		alternative_sprites(ss_h5_series_cabrf_mp4_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_cab_rev_standard(1,381)}
		alternative_sprites(ss_h5_series_cabrf_mp3_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_cab_rev_standard(1,401)}	
		alternative_sprites(ss_h5_series_cabrf_mp2_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_cab_rev_standard(1,421)}	
		alternative_sprites(ss_h5_series_cabrf_mp1_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_cab_rev_standard(1,441)}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabrf_mp1_10, cargo_subtype) {
			0: ss_e5_series_cabrf_mp1_10;
			1: ss_h5_series_cabrf_mp1_10;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabrf_mp2_10, cargo_subtype) {
			0: ss_e5_series_cabrf_mp2_10;
			1: ss_h5_series_cabrf_mp2_10;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabrf_mp3_10, cargo_subtype) {
			0: ss_e5_series_cabrf_mp3_10;
			1: ss_h5_series_cabrf_mp3_10;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabrf_mp4_10, cargo_subtype) {
			0: ss_e5_series_cabrf_mp4_10;
			1: ss_h5_series_cabrf_mp4_10;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabrf_mp5_10, cargo_subtype) {
			0: ss_e5_series_cabrf_mp5_10;
			1: ss_h5_series_cabrf_mp5_10;
		}

	/* CAB YELLOW BACKWARDS  */ 
		// E5
		spriteset(ss_e5_series_cabyb_mp1_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_cabyb_mp2_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_cabyb_mp3_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_cabyb_mp4_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_cabyb_mp5_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}

		// 5 4 3 2 1
		alternative_sprites(ss_e5_series_cabyb_mp5_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_cab_rev_reversed(1,241)}
		alternative_sprites(ss_e5_series_cabyb_mp4_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_cab_rev_reversed(1,261)}
		alternative_sprites(ss_e5_series_cabyb_mp3_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_cab_rev_reversed(1,281)}	
		alternative_sprites(ss_e5_series_cabyb_mp2_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_cab_rev_reversed(1,301)}	
		alternative_sprites(ss_e5_series_cabyb_mp1_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_cab_rev_reversed(1,321)}	

		// H5
		spriteset(ss_h5_series_cabyb_mp1_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_cabyb_mp2_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_cabyb_mp3_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_cabyb_mp4_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_cabyb_mp5_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}

		// 5 4 3 2 1
		alternative_sprites(ss_h5_series_cabyb_mp5_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_cab_rev_reversed(1,241)}
		alternative_sprites(ss_h5_series_cabyb_mp4_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_cab_rev_reversed(1,261)}
		alternative_sprites(ss_h5_series_cabyb_mp3_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_cab_rev_reversed(1,281)}	
		alternative_sprites(ss_h5_series_cabyb_mp2_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_cab_rev_reversed(1,301)}	
		alternative_sprites(ss_h5_series_cabyb_mp1_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_cab_rev_reversed(1,321)}	
	
		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabyb_mp1_10, cargo_subtype) {
			0: ss_e5_series_cabyb_mp1_10;
			1: ss_h5_series_cabyb_mp1_10;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabyb_mp2_10, cargo_subtype) {
			0: ss_e5_series_cabyb_mp2_10;
			1: ss_h5_series_cabyb_mp2_10;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabyb_mp3_10, cargo_subtype) {
			0: ss_e5_series_cabyb_mp3_10;
			1: ss_h5_series_cabyb_mp3_10;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabyb_mp4_10, cargo_subtype) {
			0: ss_e5_series_cabyb_mp4_10;
			1: ss_h5_series_cabyb_mp4_10;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabyb_mp5_10, cargo_subtype) {
			0: ss_e5_series_cabyb_mp5_10;
			1: ss_h5_series_cabyb_mp5_10;
		}

	/* CAB RED BACKWARDS*/
		// E5
		spriteset(ss_e5_series_cabrb_mp1_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_cabrb_mp2_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_cabrb_mp3_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_cabrb_mp4_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_cabrb_mp5_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}

		// 1 2 3 4 5
		alternative_sprites(ss_e5_series_cabrb_mp1_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_reversed(1,121)}
		alternative_sprites(ss_e5_series_cabrb_mp2_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_reversed(1,141)}
		alternative_sprites(ss_e5_series_cabrb_mp3_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_reversed(1,161)}	
		alternative_sprites(ss_e5_series_cabrb_mp4_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_reversed(1,181)}	
		alternative_sprites(ss_e5_series_cabrb_mp5_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_reversed(1,201)}	

		// H5
		spriteset(ss_h5_series_cabrb_mp1_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_cabrb_mp2_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_cabrb_mp3_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_cabrb_mp4_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_cabrb_mp5_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}

		// 1 2 3 4 5
		alternative_sprites(ss_h5_series_cabrb_mp1_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_reversed(1,121)}
		alternative_sprites(ss_h5_series_cabrb_mp2_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_reversed(1,141)}
		alternative_sprites(ss_h5_series_cabrb_mp3_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_reversed(1,161)}	
		alternative_sprites(ss_h5_series_cabrb_mp4_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_reversed(1,181)}	
		alternative_sprites(ss_h5_series_cabrb_mp5_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_reversed(1,201)}	

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabrb_mp1_10, cargo_subtype) {
			0: ss_e5_series_cabrb_mp1_10;
			1: ss_h5_series_cabrb_mp1_10;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabrb_mp2_10, cargo_subtype) {
			0: ss_e5_series_cabrb_mp2_10;
			1: ss_h5_series_cabrb_mp2_10;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabrb_mp3_10, cargo_subtype) {
			0: ss_e5_series_cabrb_mp3_10;
			1: ss_h5_series_cabrb_mp3_10;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabrb_mp4_10, cargo_subtype) {
			0: ss_e5_series_cabrb_mp4_10;
			1: ss_h5_series_cabrb_mp4_10;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_cabrb_mp5_10, cargo_subtype) {
			0: ss_e5_series_cabrb_mp5_10;
			1: ss_h5_series_cabrb_mp5_10;
		}

	/* COACH */
		// E5
		spriteset(ss_e5_series_coach_mp1_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_coach_mp2_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_coach_mp3_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_coach_mp4_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_coach_mp5_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}

		alternative_sprites(ss_e5_series_coach_mp1_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_standard(1,481)}
		alternative_sprites(ss_e5_series_coach_mp2_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_standard(1,501)}
		alternative_sprites(ss_e5_series_coach_mp3_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_standard(1,521)}	
		alternative_sprites(ss_e5_series_coach_mp4_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_standard(1,541)}	
		alternative_sprites(ss_e5_series_coach_mp5_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_standard(1,561)}

		// H5
		spriteset(ss_h5_series_coach_mp1_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_coach_mp2_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_coach_mp3_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_coach_mp4_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_coach_mp5_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}

		alternative_sprites(ss_h5_series_coach_mp1_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_standard(1,481)}
		alternative_sprites(ss_h5_series_coach_mp2_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_standard(1,501)}
		alternative_sprites(ss_h5_series_coach_mp3_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_standard(1,521)}	
		alternative_sprites(ss_h5_series_coach_mp4_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_standard(1,541)}	
		alternative_sprites(ss_h5_series_coach_mp5_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_standard(1,561)}
		
		switch(FEAT_TRAINS, PARENT, sw_e5_series_coach_mp1_10, cargo_subtype) {
			0: ss_e5_series_coach_mp1_10;
			1: ss_h5_series_coach_mp1_10;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_coach_mp2_10, cargo_subtype) {
			0: ss_e5_series_coach_mp2_10;
			1: ss_h5_series_coach_mp2_10;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_coach_mp3_10, cargo_subtype) {
			0: ss_e5_series_coach_mp3_10;
			1: ss_h5_series_coach_mp3_10;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_coach_mp4_10, cargo_subtype) {
			0: ss_e5_series_coach_mp4_10;
			1: ss_h5_series_coach_mp4_10;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_coach_mp5_10, cargo_subtype) {
			0: ss_e5_series_coach_mp5_10;
			1: ss_h5_series_coach_mp5_10;
		}

	/* COACH REVERSED*/
		// E5
		spriteset(ss_e5_series_coach_rev_mp1_10,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_coach_rev_mp2_10,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_coach_rev_mp3_10,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_coach_rev_mp4_10,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_coach_rev_mp5_10,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}

		alternative_sprites(ss_e5_series_coach_rev_mp1_10,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_reversed(1,481)}
		alternative_sprites(ss_e5_series_coach_rev_mp2_10,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_reversed(1,501)}
		alternative_sprites(ss_e5_series_coach_rev_mp3_10,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_reversed(1,521)}	
		alternative_sprites(ss_e5_series_coach_rev_mp4_10,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_reversed(1,541)}	
		alternative_sprites(ss_e5_series_coach_rev_mp5_10,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_reversed(1,561)}

		// H5
		spriteset(ss_h5_series_coach_rev_mp1_10,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_coach_rev_mp2_10,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_coach_rev_mp3_10,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_coach_rev_mp4_10,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_coach_rev_mp5_10,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}

		alternative_sprites(ss_h5_series_coach_rev_mp1_10,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_reversed(1,481)}
		alternative_sprites(ss_h5_series_coach_rev_mp2_10,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_reversed(1,501)}
		alternative_sprites(ss_h5_series_coach_rev_mp3_10,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_reversed(1,521)}	
		alternative_sprites(ss_h5_series_coach_rev_mp4_10,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_reversed(1,541)}	
		alternative_sprites(ss_h5_series_coach_rev_mp5_10,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_reversed(1,561)}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_coach_rev_mp1_10, cargo_subtype) {
			0: ss_e5_series_coach_rev_mp1_10;
			1: ss_h5_series_coach_rev_mp1_10;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_coach_rev_mp2_10, cargo_subtype) {
			0: ss_e5_series_coach_rev_mp2_10;
			1: ss_h5_series_coach_rev_mp2_10;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_coach_rev_mp3_10, cargo_subtype) {
			0: ss_e5_series_coach_rev_mp3_10;
			1: ss_h5_series_coach_rev_mp3_10;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_coach_rev_mp4_10, cargo_subtype) {
			0: ss_e5_series_coach_rev_mp4_10;
			1: ss_h5_series_coach_rev_mp4_10;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_coach_rev_mp5_10, cargo_subtype) {
			0: ss_e5_series_coach_rev_mp5_10;
			1: ss_h5_series_coach_rev_mp5_10;
		}

	/* PANT3 */
		// E5 
		spriteset(ss_e5_series_pant3_mp1_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_pant3_mp2_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_pant3_mp3_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_pant3_mp4_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_pant3_mp5_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}

		alternative_sprites(ss_e5_series_pant3_mp1_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_standard(1,601)}
		alternative_sprites(ss_e5_series_pant3_mp2_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_standard(1,621)}
		alternative_sprites(ss_e5_series_pant3_mp3_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_standard(1,641)}	
		alternative_sprites(ss_e5_series_pant3_mp4_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_standard(1,661)}	
		alternative_sprites(ss_e5_series_pant3_mp5_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_standard(1,681)}

		// H5
		spriteset(ss_h5_series_pant3_mp1_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_pant3_mp2_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_pant3_mp3_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_pant3_mp4_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_pant3_mp5_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}

		alternative_sprites(ss_h5_series_pant3_mp1_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_standard(1,601)}
		alternative_sprites(ss_h5_series_pant3_mp2_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_standard(1,621)}
		alternative_sprites(ss_h5_series_pant3_mp3_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_standard(1,641)}	
		alternative_sprites(ss_h5_series_pant3_mp4_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_standard(1,661)}	
		alternative_sprites(ss_h5_series_pant3_mp5_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_standard(1,681)}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant3_mp1_10, cargo_subtype) {
			0: ss_e5_series_pant3_mp1_10;
			1: ss_h5_series_pant3_mp1_10;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant3_mp2_10, cargo_subtype) {
			0: ss_e5_series_pant3_mp2_10;
			1: ss_h5_series_pant3_mp2_10;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant3_mp3_10, cargo_subtype) {
			0: ss_e5_series_pant3_mp3_10;
			1: ss_h5_series_pant3_mp3_10;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant3_mp4_10, cargo_subtype) {
			0: ss_e5_series_pant3_mp4_10;
			1: ss_h5_series_pant3_mp4_10;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant3_mp5_10, cargo_subtype) {
			0: ss_e5_series_pant3_mp5_10;
			1: ss_h5_series_pant3_mp5_10;
		}

	/* PANT3 REVERSED*/
		// E5
		spriteset(ss_e5_series_pant3_rev_mp1_10,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_pant3_rev_mp2_10,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_pant3_rev_mp3_10,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_pant3_rev_mp4_10,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_pant3_rev_mp5_10,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}

		alternative_sprites(ss_e5_series_pant3_rev_mp1_10,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_reversed(1,601)}
		alternative_sprites(ss_e5_series_pant3_rev_mp2_10,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_reversed(1,621)}
		alternative_sprites(ss_e5_series_pant3_rev_mp3_10,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_reversed(1,641)}	
		alternative_sprites(ss_e5_series_pant3_rev_mp4_10,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_reversed(1,661)}	
		alternative_sprites(ss_e5_series_pant3_rev_mp5_10,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_reversed(1,681)}	

		// H5
		spriteset(ss_h5_series_pant3_rev_mp1_10,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_pant3_rev_mp2_10,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_pant3_rev_mp3_10,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_pant3_rev_mp4_10,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_pant3_rev_mp5_10,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}

		alternative_sprites(ss_h5_series_pant3_rev_mp1_10,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_reversed(1,601)}
		alternative_sprites(ss_h5_series_pant3_rev_mp2_10,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_reversed(1,621)}
		alternative_sprites(ss_h5_series_pant3_rev_mp3_10,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_reversed(1,641)}	
		alternative_sprites(ss_h5_series_pant3_rev_mp4_10,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_reversed(1,661)}	
		alternative_sprites(ss_h5_series_pant3_rev_mp5_10,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_reversed(1,681)}	

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant3_rev_mp1_10, cargo_subtype) {
			0: ss_e5_series_pant3_rev_mp1_10;
			1: ss_h5_series_pant3_rev_mp1_10;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant3_rev_mp2_10, cargo_subtype) {
			0: ss_e5_series_pant3_rev_mp2_10;
			1: ss_h5_series_pant3_rev_mp2_10;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant3_rev_mp3_10, cargo_subtype) {
			0: ss_e5_series_pant3_rev_mp3_10;
			1: ss_h5_series_pant3_rev_mp3_10;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant3_rev_mp4_10, cargo_subtype) {
			0: ss_e5_series_pant3_rev_mp4_10;
			1: ss_h5_series_pant3_rev_mp4_10;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant3_rev_mp5_10, cargo_subtype) {
			0: ss_e5_series_pant3_rev_mp5_10;
			1: ss_h5_series_pant3_rev_mp5_10;
		}

	/* PANT8 */
		// E5 
		spriteset(ss_e5_series_pant8_mp1_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_pant8_mp2_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_pant8_mp3_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_pant8_mp4_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_pant8_mp5_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}

		alternative_sprites(ss_e5_series_pant8_mp5_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_cab_rev_standard(1,601)}
		alternative_sprites(ss_e5_series_pant8_mp4_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_cab_rev_standard(1,621)}
		alternative_sprites(ss_e5_series_pant8_mp3_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_cab_rev_standard(1,641)}	
		alternative_sprites(ss_e5_series_pant8_mp2_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_cab_rev_standard(1,661)}	
		alternative_sprites(ss_e5_series_pant8_mp1_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_cab_rev_standard(1,681)}

		// H5
		spriteset(ss_h5_series_pant8_mp1_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_pant8_mp2_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_pant8_mp3_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_pant8_mp4_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_pant8_mp5_10,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}

		alternative_sprites(ss_h5_series_pant8_mp5_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_cab_rev_standard(1,601)}
		alternative_sprites(ss_h5_series_pant8_mp4_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_cab_rev_standard(1,621)}
		alternative_sprites(ss_h5_series_pant8_mp3_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_cab_rev_standard(1,641)}	
		alternative_sprites(ss_h5_series_pant8_mp2_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_cab_rev_standard(1,661)}	
		alternative_sprites(ss_h5_series_pant8_mp1_10,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_cab_rev_standard(1,681)}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant8_mp1_10, cargo_subtype) {
			0: ss_e5_series_pant8_mp1_10;
			1: ss_h5_series_pant8_mp1_10;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant8_mp2_10, cargo_subtype) {
			0: ss_e5_series_pant8_mp2_10;
			1: ss_h5_series_pant8_mp2_10;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant8_mp3_10, cargo_subtype) {
			0: ss_e5_series_pant8_mp3_10;
			1: ss_h5_series_pant8_mp3_10;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant8_mp4_10, cargo_subtype) {
			0: ss_e5_series_pant8_mp4_10;
			1: ss_h5_series_pant8_mp4_10;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant8_mp5_10, cargo_subtype) {
			0: ss_e5_series_pant8_mp5_10;
			1: ss_h5_series_pant8_mp5_10;
		}

	/* PANT8 REVERSED*/
		// E5
		spriteset(ss_e5_series_pant8_rev_mp1_10,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_pant8_rev_mp2_10,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_pant8_rev_mp3_10,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_pant8_rev_mp4_10,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_e5_series_pant8_rev_mp5_10,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}

		alternative_sprites(ss_e5_series_pant8_rev_mp5_10,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_cab_rev_reversed(1,601)}
		alternative_sprites(ss_e5_series_pant8_rev_mp4_10,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_cab_rev_reversed(1,621)}
		alternative_sprites(ss_e5_series_pant8_rev_mp3_10,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_cab_rev_reversed(1,641)}	
		alternative_sprites(ss_e5_series_pant8_rev_mp2_10,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_cab_rev_reversed(1,661)}	
		alternative_sprites(ss_e5_series_pant8_rev_mp1_10,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/e5_miniparts.png")  {template_2_cab_rev_reversed(1,681)}	

		// H5
		spriteset(ss_h5_series_pant8_rev_mp1_10,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_pant8_rev_mp2_10,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_pant8_rev_mp3_10,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_pant8_rev_mp4_10,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
		spriteset(ss_h5_series_pant8_rev_mp5_10,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}

		alternative_sprites(ss_h5_series_pant8_rev_mp5_10,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_cab_rev_reversed(1,601)}
		alternative_sprites(ss_h5_series_pant8_rev_mp4_10,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_cab_rev_reversed(1,621)}
		alternative_sprites(ss_h5_series_pant8_rev_mp3_10,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_cab_rev_reversed(1,641)}	
		alternative_sprites(ss_h5_series_pant8_rev_mp2_10,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_cab_rev_reversed(1,661)}	
		alternative_sprites(ss_h5_series_pant8_rev_mp1_10,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5_series/10/h5_miniparts.png")  {template_2_cab_rev_reversed(1,681)}	

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant8_rev_mp1_10, cargo_subtype) {
			0: ss_e5_series_pant8_rev_mp1_10;
			1: ss_h5_series_pant8_rev_mp1_10;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant8_rev_mp2_10, cargo_subtype) {
			0: ss_e5_series_pant8_rev_mp2_10;
			1: ss_h5_series_pant8_rev_mp2_10;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant8_rev_mp3_10, cargo_subtype) {
			0: ss_e5_series_pant8_rev_mp3_10;
			1: ss_h5_series_pant8_rev_mp3_10;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant8_rev_mp4_10, cargo_subtype) {
			0: ss_e5_series_pant8_rev_mp4_10;
			1: ss_h5_series_pant8_rev_mp4_10;
		}

		switch(FEAT_TRAINS, PARENT, sw_e5_series_pant8_rev_mp5_10, cargo_subtype) {
			0: ss_e5_series_pant8_rev_mp5_10;
			1: ss_h5_series_pant8_rev_mp5_10;
		}

/* E5 minipart logic */
	// Yellow Light Forwards
		switch (FEAT_TRAINS, SELF, ss_e5_series_cabyf_mp1_10_check, other_veh_curv_info(4) == 0 && other_veh_curv_info(1) == 0 && other_veh_z_offset(4) == 0 && other_veh_z_offset(1) == 0 ) {
				1: sw_e5_series_cabyf_mp1_10;		   
				dummy_sprites;			
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_cabyf_mp2_10_check, other_veh_curv_info(3) == 0 && other_veh_curv_info(-1) == 0 && other_veh_z_offset(3) == 0 && other_veh_z_offset(-1) == 0 ) {
				1: sw_e5_series_cabyf_mp2_10;		   
				sw_e5_series_cabyf_10on2; 
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_cabyf_mp3_10_check, other_veh_curv_info(2) == 0 && other_veh_curv_info(-2) == 0 && other_veh_z_offset(2) == 0 && other_veh_z_offset(-2) == 0 ) {
				1: sw_e5_series_cabyf_mp3_10;		   
				dummy_sprites;			
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_cabyf_mp4_10_check, other_veh_curv_info(1) == 0 && other_veh_curv_info(-3) == 0 && other_veh_z_offset(1) == 0 && other_veh_z_offset(-3) == 0 ) {
				1: sw_e5_series_cabyf_mp4_10;		   
				dummy_sprites;						
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_cabyf_mp5_10_check, other_veh_curv_info(-1) == 0 && other_veh_curv_info(-4) == 0 && other_veh_z_offset(-1) == 0 && other_veh_z_offset(-4) == 0 ) {
				1: sw_e5_series_cabyf_mp5_10;		   
				dummy_sprites;					
			}

	// Yellow Light Backwards
	
		switch (FEAT_TRAINS, SELF, ss_e5_series_cabyb_mp1_10_check, other_veh_curv_info(-4) == 0 && other_veh_curv_info(-1) == 0 && other_veh_z_offset(-4) == 0 && other_veh_z_offset(-1) == 0 ) {
				1: sw_e5_series_cabyb_mp1_10;		   
				dummy_sprites;				
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_cabyb_mp2_10_check, other_veh_curv_info(-3) == 0 && other_veh_curv_info(1) == 0 && other_veh_z_offset(-3) == 0 && other_veh_z_offset(1) == 0 ) {
				1: sw_e5_series_cabyb_mp2_10;		   
				dummy_sprites;				
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_cabyb_mp3_10_check, other_veh_curv_info(-2) == 0 && other_veh_curv_info(2) == 0 && other_veh_z_offset(-2) == 0 && other_veh_z_offset(2) == 0 ) {
				1: sw_e5_series_cabyb_mp3_10;		   
				dummy_sprites;					
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_cabyb_mp4_10_check, other_veh_curv_info(-1) == 0 && other_veh_curv_info(3) == 0 && other_veh_z_offset(-1) == 0 && other_veh_z_offset(3) == 0 ) {
				1: sw_e5_series_cabyb_mp4_10;		   
				sw_e5_series_cabyb_10on2; 						
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_cabyb_mp5_10_check, other_veh_curv_info(1) == 0 && other_veh_curv_info(4) == 0 && other_veh_z_offset(1) == 0 && other_veh_z_offset(4) == 0 ) {
				1: sw_e5_series_cabyb_mp5_10;		   
				dummy_sprites;						
			}
	
	// Red Light Backwards
		switch (FEAT_TRAINS, SELF, ss_e5_series_cabrb_mp1_10_check, other_veh_curv_info(-4) == 0 && other_veh_curv_info(-1) == 0 && other_veh_z_offset(-4) == 0 && other_veh_z_offset(-1) == 0 ) {
				1: sw_e5_series_cabrb_mp1_10;		   
				dummy_sprites;				
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_cabrb_mp2_10_check, other_veh_curv_info(-3) == 0 && other_veh_curv_info(1) == 0 && other_veh_z_offset(-3) == 0 && other_veh_z_offset(1) == 0 ) {
				1: sw_e5_series_cabrb_mp2_10;		   
				dummy_sprites;				
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_cabrb_mp3_10_check, other_veh_curv_info(-2) == 0 && other_veh_curv_info(2) == 0 && other_veh_z_offset(-2) == 0 && other_veh_z_offset(2) == 0 ) {
				1: sw_e5_series_cabrb_mp3_10;		   
				dummy_sprites;				
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_cabrb_mp4_10_check, other_veh_curv_info(-1) == 0 && other_veh_curv_info(3) == 0 && other_veh_z_offset(-1) == 0 && other_veh_z_offset(3) == 0 ) {
				1: sw_e5_series_cabrb_mp4_10;		   
				sw_e5_series_cabrb_10on2;							
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_cabrb_mp5_10_check, other_veh_curv_info(1) == 0 && other_veh_curv_info(4) == 0 && other_veh_z_offset(1) == 0 && other_veh_z_offset(4) == 0 ) {
				1: sw_e5_series_cabrb_mp5_10;		   
				dummy_sprites;				
			}

	// Red Light Forwards
		switch (FEAT_TRAINS, SELF, ss_e5_series_cabrf_mp1_10_check, other_veh_curv_info(1) == 0 && other_veh_curv_info(4) == 0 && other_veh_z_offset(1) == 0 && other_veh_z_offset(4) == 0 ) {
				1: sw_e5_series_cabrf_mp1_10;		   
				dummy_sprites;				
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_cabrf_mp2_10_check, other_veh_curv_info(-1) == 0 && other_veh_curv_info(3) == 0 && other_veh_z_offset(-1) == 0 && other_veh_z_offset(3) == 0 ) {
				1: sw_e5_series_cabrf_mp2_10;		   
				sw_e5_series_cabrf_10on2;			
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_cabrf_mp3_10_check, other_veh_curv_info(-2) == 0 && other_veh_curv_info(2) == 0 && other_veh_z_offset(-2) == 0 && other_veh_z_offset(2) == 0 ) {
				1: sw_e5_series_cabrf_mp3_10;		   
				dummy_sprites;					
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_cabrf_mp4_10_check, other_veh_curv_info(-3) == 0 && other_veh_curv_info(1) == 0 && other_veh_z_offset(-3) == 0 && other_veh_z_offset(1) == 0 ) {
				1: sw_e5_series_cabrf_mp4_10;		   
				dummy_sprites;						
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_cabrf_mp5_10_check, other_veh_curv_info(-4) == 0 && other_veh_curv_info(-1) == 0 && other_veh_z_offset(-4) == 0 && other_veh_z_offset(-1) == 0 ) {
				1: sw_e5_series_cabrf_mp5_10;		   
				dummy_sprites;				
			}

	// Coach
			switch (FEAT_TRAINS, SELF, ss_e5_series_coach_mp1_10_check, other_veh_curv_info(1) == 0 && other_veh_curv_info(4) == 0 && other_veh_z_offset(1) == 0 && other_veh_z_offset(4) == 0 ) {
					1: sw_e5_series_coach_mp1_10;		   
					dummy_sprites;						
				}

			switch (FEAT_TRAINS, SELF, ss_e5_series_coach_mp2_10_check, other_veh_curv_info(-1) == 0 && other_veh_curv_info(3) == 0 && other_veh_z_offset(-1) == 0 && other_veh_z_offset(3) == 0 ) {
					1: sw_e5_series_coach_mp2_10;		   
					sw_e5_series_coach_10on2;					
				}

			switch (FEAT_TRAINS, SELF, ss_e5_series_coach_mp3_10_check, other_veh_curv_info(-2) == 0 && other_veh_curv_info(2) == 0 && other_veh_z_offset(-2) == 0 && other_veh_z_offset(2) == 0 ) {
					1: sw_e5_series_coach_mp3_10;		   
					dummy_sprites;						
				}

			switch (FEAT_TRAINS, SELF, ss_e5_series_coach_mp4_10_check, other_veh_curv_info(-3) == 0 && other_veh_curv_info(1) == 0 && other_veh_z_offset(-3) == 0 && other_veh_z_offset(1) == 0 ) {
					1: sw_e5_series_coach_mp4_10;		   
					dummy_sprites;						
				}

			switch (FEAT_TRAINS, SELF, ss_e5_series_coach_mp5_10_check, other_veh_curv_info(-4) == 0 && other_veh_curv_info(-1) == 0 && other_veh_z_offset(-4) == 0 && other_veh_z_offset(-1) == 0 ) {
					1: sw_e5_series_coach_mp5_10;		   
					dummy_sprites;					
				}
		
	// Coach Reversed
		switch (FEAT_TRAINS, SELF, ss_e5_series_coach_rev_mp1_10_check, other_veh_curv_info(-4) == 0 && other_veh_curv_info(-1) == 0 && other_veh_z_offset(-4) == 0 && other_veh_z_offset(-1) == 0 ) {
				1: sw_e5_series_coach_rev_mp1_10;		   
				dummy_sprites;				
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_coach_rev_mp2_10_check, other_veh_curv_info(-3) == 0 && other_veh_curv_info(1) == 0 && other_veh_z_offset(-3) == 0 && other_veh_z_offset(1) == 0 ) {
				1: sw_e5_series_coach_rev_mp2_10;		   
				dummy_sprites;				
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_coach_rev_mp3_10_check, other_veh_curv_info(-2) == 0 && other_veh_curv_info(2) == 0 && other_veh_z_offset(-2) == 0 && other_veh_z_offset(2) == 0 ) {
				1: sw_e5_series_coach_rev_mp3_10;		   
				dummy_sprites;					
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_coach_rev_mp4_10_check, other_veh_curv_info(-1) == 0 && other_veh_curv_info(3) == 0 && other_veh_z_offset(-1) == 0 && other_veh_z_offset(3) == 0 ) {
				1: sw_e5_series_coach_rev_mp4_10;		   
				sw_e5_series_coach_rev_10on2;						
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_coach_rev_mp5_10_check, other_veh_curv_info(1) == 0 && other_veh_curv_info(4) == 0 && other_veh_z_offset(1) == 0 && other_veh_z_offset(4) == 0 ) {
				1: sw_e5_series_coach_rev_mp5_10;		   
				dummy_sprites;							
			}

	// Pant3
			switch (FEAT_TRAINS, SELF, ss_e5_series_pant3_mp1_10_check, other_veh_curv_info(1) == 0 && other_veh_curv_info(4) == 0 && other_veh_z_offset(1) == 0 && other_veh_z_offset(4) == 0 ) {
					1: sw_e5_series_pant3_mp1_10;		   
					dummy_sprites;						
				}

			switch (FEAT_TRAINS, SELF, ss_e5_series_pant3_mp2_10_check, other_veh_curv_info(-1) == 0 && other_veh_curv_info(3) == 0 && other_veh_z_offset(-1) == 0 && other_veh_z_offset(3) == 0 ) {
					1: sw_e5_series_pant3_mp2_10;		   
					sw_e5_series_pant3_10on2;					
				}

			switch (FEAT_TRAINS, SELF, ss_e5_series_pant3_mp3_10_check, other_veh_curv_info(-2) == 0 && other_veh_curv_info(2) == 0 && other_veh_z_offset(-2) == 0 && other_veh_z_offset(2) == 0 ) {
					1: sw_e5_series_pant3_mp3_10;		   
					dummy_sprites;						
				}

			switch (FEAT_TRAINS, SELF, ss_e5_series_pant3_mp4_10_check, other_veh_curv_info(-3) == 0 && other_veh_curv_info(1) == 0 && other_veh_z_offset(-3) == 0 && other_veh_z_offset(1) == 0 ) {
					1: sw_e5_series_pant3_mp4_10;		   
					dummy_sprites;						
				}

			switch (FEAT_TRAINS, SELF, ss_e5_series_pant3_mp5_10_check, other_veh_curv_info(-4) == 0 && other_veh_curv_info(-1) == 0 && other_veh_z_offset(-4) == 0 && other_veh_z_offset(-1) == 0 ) {
					1: sw_e5_series_pant3_mp5_10;		   
					dummy_sprites;					
				}
		
	// Pant3 Reversed
		switch (FEAT_TRAINS, SELF, ss_e5_series_pant3_rev_mp1_10_check, other_veh_curv_info(-4) == 0 && other_veh_curv_info(-1) == 0 && other_veh_z_offset(-4) == 0 && other_veh_z_offset(-1) == 0 ) {
				1: sw_e5_series_pant3_rev_mp1_10;		   
				dummy_sprites;				
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_pant3_rev_mp2_10_check, other_veh_curv_info(-3) == 0 && other_veh_curv_info(1) == 0 && other_veh_z_offset(-3) == 0 && other_veh_z_offset(1) == 0 ) {
				1: sw_e5_series_pant3_rev_mp2_10;		   
				dummy_sprites;				
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_pant3_rev_mp3_10_check, other_veh_curv_info(-2) == 0 && other_veh_curv_info(2) == 0 && other_veh_z_offset(-2) == 0 && other_veh_z_offset(2) == 0 ) {
				1: sw_e5_series_pant3_rev_mp3_10;		   
				dummy_sprites;					
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_pant3_rev_mp4_10_check, other_veh_curv_info(-1) == 0 && other_veh_curv_info(3) == 0 && other_veh_z_offset(-1) == 0 && other_veh_z_offset(3) == 0 ) {
				1: sw_e5_series_pant3_rev_mp4_10;		   
				sw_e5_series_pant3_rev_10on2;						
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_pant3_rev_mp5_10_check, other_veh_curv_info(1) == 0 && other_veh_curv_info(4) == 0 && other_veh_z_offset(1) == 0 && other_veh_z_offset(4) == 0 ) {
				1: sw_e5_series_pant3_rev_mp5_10;		   
				dummy_sprites;							
			}

	// Pant8
			switch (FEAT_TRAINS, SELF, ss_e5_series_pant8_mp1_10_check, other_veh_curv_info(1) == 0 && other_veh_curv_info(4) == 0 && other_veh_z_offset(1) == 0 && other_veh_z_offset(4) == 0 ) {
					1: sw_e5_series_pant8_mp1_10;		   
					dummy_sprites;						
				}

			switch (FEAT_TRAINS, SELF, ss_e5_series_pant8_mp2_10_check, other_veh_curv_info(-1) == 0 && other_veh_curv_info(3) == 0 && other_veh_z_offset(-1) == 0 && other_veh_z_offset(3) == 0 ) {
					1: sw_e5_series_pant8_mp2_10;		   
					sw_e5_series_pant8_10on2;					
				}

			switch (FEAT_TRAINS, SELF, ss_e5_series_pant8_mp3_10_check, other_veh_curv_info(-2) == 0 && other_veh_curv_info(2) == 0 && other_veh_z_offset(-2) == 0 && other_veh_z_offset(2) == 0 ) {
					1: sw_e5_series_pant8_mp3_10;		   
					dummy_sprites;						
				}

			switch (FEAT_TRAINS, SELF, ss_e5_series_pant8_mp4_10_check, other_veh_curv_info(-3) == 0 && other_veh_curv_info(1) == 0 && other_veh_z_offset(-3) == 0 && other_veh_z_offset(1) == 0 ) {
					1: sw_e5_series_pant8_mp4_10;		   
					dummy_sprites;						
				}

			switch (FEAT_TRAINS, SELF, ss_e5_series_pant8_mp5_10_check, other_veh_curv_info(-4) == 0 && other_veh_curv_info(-1) == 0 && other_veh_z_offset(-4) == 0 && other_veh_z_offset(-1) == 0 ) {
					1: sw_e5_series_pant8_mp5_10;		   
					dummy_sprites;					
				}
		
	// Pant8 Reversed
		switch (FEAT_TRAINS, SELF, ss_e5_series_pant8_rev_mp1_10_check, other_veh_curv_info(-4) == 0 && other_veh_curv_info(-1) == 0 && other_veh_z_offset(-4) == 0 && other_veh_z_offset(-1) == 0 ) {
				1: sw_e5_series_pant8_rev_mp1_10;		   
				dummy_sprites;				
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_pant8_rev_mp2_10_check, other_veh_curv_info(-3) == 0 && other_veh_curv_info(1) == 0 && other_veh_z_offset(-3) == 0 && other_veh_z_offset(1) == 0 ) {
				1: sw_e5_series_pant8_rev_mp2_10;		   
				dummy_sprites;				
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_pant8_rev_mp3_10_check, other_veh_curv_info(-2) == 0 && other_veh_curv_info(2) == 0 && other_veh_z_offset(-2) == 0 && other_veh_z_offset(2) == 0 ) {
				1: sw_e5_series_pant8_rev_mp3_10;		   
				dummy_sprites;					
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_pant8_rev_mp4_10_check, other_veh_curv_info(-1) == 0 && other_veh_curv_info(3) == 0 && other_veh_z_offset(-1) == 0 && other_veh_z_offset(3) == 0 ) {
				1: sw_e5_series_pant8_rev_mp4_10;		   
				sw_e5_series_pant8_rev_10on2;						
			}

		switch (FEAT_TRAINS, SELF, ss_e5_series_pant8_rev_mp5_10_check, other_veh_curv_info(1) == 0 && other_veh_curv_info(4) == 0 && other_veh_z_offset(1) == 0 && other_veh_z_offset(4) == 0 ) {
				1: sw_e5_series_pant8_rev_mp5_10;		   
				dummy_sprites;							
			}
# 1 "src/trains/e5e6_series/e5e6_series.pnml" 3
# 1 "src/trains/e5e6_series/pnml/e6_miniparts.pnml" 1

// GRAPHICS

	/* CAB YELLOW FORWARDS*/
	spriteset(ss_e6_series_cabyf_mp1,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_e6_series_cabyf_mp2,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_e6_series_cabyf_mp3,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_e6_series_cabyf_mp4,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}

	//  1 2 3 4 
	alternative_sprites(ss_e6_series_cabyf_mp1,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/minipartsv2.png")  {template_2_standard(1,1)}
	alternative_sprites(ss_e6_series_cabyf_mp2,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/minipartsv2.png")  {template_2_standard(1,21)}
	alternative_sprites(ss_e6_series_cabyf_mp3,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/minipartsv2.png")  {template_2_standard(1,41)}	
	alternative_sprites(ss_e6_series_cabyf_mp4,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/minipartsv2.png")  {template_2_standard(1,61)}	

	/* CAB RED FORWARDS*/
	spriteset(ss_e6_series_cabrf_mp1,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_e6_series_cabrf_mp2,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_e6_series_cabrf_mp3,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_e6_series_cabrf_mp4,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}

	//  4 3 2 1 
	alternative_sprites(ss_e6_series_cabrf_mp4,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/minipartsv2.png")  {template_2_cab_rev_standard(1,361)}
	alternative_sprites(ss_e6_series_cabrf_mp3,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/minipartsv2.png")  {template_2_cab_rev_standard(1,381)}
	alternative_sprites(ss_e6_series_cabrf_mp2,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/minipartsv2.png")  {template_2_cab_rev_standard(1,401)}	
	alternative_sprites(ss_e6_series_cabrf_mp1,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/minipartsv2.png")  {template_2_cab_rev_standard(1,421)}	

	/* CAB YELLOW BACKWARDS*/
	spriteset(ss_e6_series_cabyb_mp1,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_e6_series_cabyb_mp2,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_e6_series_cabyb_mp3,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_e6_series_cabyb_mp4,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}

	// 4 3 2 1
	alternative_sprites(ss_e6_series_cabyb_mp4,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/minipartsv2.png")  {template_2_cab_rev_reversed(1,241)}
	alternative_sprites(ss_e6_series_cabyb_mp3,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/minipartsv2.png")  {template_2_cab_rev_reversed(1,261)}
	alternative_sprites(ss_e6_series_cabyb_mp2,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/minipartsv2.png")  {template_2_cab_rev_reversed(1,281)}	
	alternative_sprites(ss_e6_series_cabyb_mp1,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/minipartsv2.png")  {template_2_cab_rev_reversed(1,301)}	

	/* CAB RED BACKWARDS*/
    spriteset(ss_e6_series_cabrb_mp1,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_e6_series_cabrb_mp2,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_e6_series_cabrb_mp3,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_e6_series_cabrb_mp4,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}

	// 1 2 3 4
	alternative_sprites(ss_e6_series_cabrb_mp1,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/minipartsv2.png")  {template_2_reversed(1,121)}
	alternative_sprites(ss_e6_series_cabrb_mp2,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/minipartsv2.png")  {template_2_reversed(1,141)}
	alternative_sprites(ss_e6_series_cabrb_mp3,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/minipartsv2.png")  {template_2_reversed(1,161)}	
	alternative_sprites(ss_e6_series_cabrb_mp4,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/minipartsv2.png")  {template_2_reversed(1,181)}	

/* COACH */
	spriteset(ss_e6_series_coach_mp1,             		 	"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_e6_series_coach_mp2,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_e6_series_coach_mp3,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_e6_series_coach_mp4,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}

	// 1 2 3 4
	alternative_sprites(ss_e6_series_coach_mp1,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/minipartsv2.png")  {template_2_standard(1,481)}
	alternative_sprites(ss_e6_series_coach_mp2,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/minipartsv2.png")  {template_2_standard(1,501)}
	alternative_sprites(ss_e6_series_coach_mp3,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/minipartsv2.png")  {template_2_standard(1,521)}	
	alternative_sprites(ss_e6_series_coach_mp4,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/minipartsv2.png")  {template_2_standard(1,541)}	

/* COACH REV*/
	spriteset(ss_e6_series_coach_rev_mp1,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_e6_series_coach_rev_mp2,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_e6_series_coach_rev_mp3,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_e6_series_coach_rev_mp4,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}

	// 1 2 3 4
	alternative_sprites(ss_e6_series_coach_rev_mp1,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/minipartsv2.png")  {template_2_reversed(1,481)}
	alternative_sprites(ss_e6_series_coach_rev_mp2,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/minipartsv2.png")  {template_2_reversed(1,501)}
	alternative_sprites(ss_e6_series_coach_rev_mp3,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/minipartsv2.png")  {template_2_reversed(1,521)}	
	alternative_sprites(ss_e6_series_coach_rev_mp4,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/minipartsv2.png")  {template_2_reversed(1,541)}	

/* PANT2 */
	spriteset(ss_e6_series_pant2_mp1,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_e6_series_pant2_mp2,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_e6_series_pant2_mp3,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_e6_series_pant2_mp4,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}

	// 1 2 3 4
	alternative_sprites(ss_e6_series_pant2_mp1,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/minipartsv2.png")  {template_2_standard(1,601)}
	alternative_sprites(ss_e6_series_pant2_mp2,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/minipartsv2.png")  {template_2_standard(1,621)}
	alternative_sprites(ss_e6_series_pant2_mp3,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/minipartsv2.png")  {template_2_standard(1,641)}	
	alternative_sprites(ss_e6_series_pant2_mp4,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/minipartsv2.png")  {template_2_standard(1,661)}	

/* PANT2 REV*/
	spriteset(ss_e6_series_pant2_rev_mp1,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_e6_series_pant2_rev_mp2,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_e6_series_pant2_rev_mp3,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_e6_series_pant2_rev_mp4,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}

	// 1 2 3 4
	alternative_sprites(ss_e6_series_pant2_rev_mp1,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/minipartsv2.png")  {template_2_reversed(1,601)}
	alternative_sprites(ss_e6_series_pant2_rev_mp2,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/minipartsv2.png")  {template_2_reversed(1,621)}
	alternative_sprites(ss_e6_series_pant2_rev_mp3,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/minipartsv2.png")  {template_2_reversed(1,641)}	
	alternative_sprites(ss_e6_series_pant2_rev_mp4,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/minipartsv2.png")  {template_2_reversed(1,661)}	

/* PANT6 */
	spriteset(ss_e6_series_pant6_mp1,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_e6_series_pant6_mp2,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_e6_series_pant6_mp3,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_e6_series_pant6_mp4,             			"src/trains/dummy/empty.png") {template_dummy(0,0)}

	// 1 2 3 4
	alternative_sprites(ss_e6_series_pant6_mp1,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/minipartsv2.png")  {template_2_standard(1,721)}
	alternative_sprites(ss_e6_series_pant6_mp2,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/minipartsv2.png")  {template_2_standard(1,741)}
	alternative_sprites(ss_e6_series_pant6_mp3,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/minipartsv2.png")  {template_2_standard(1,761)}	
	alternative_sprites(ss_e6_series_pant6_mp4,     			ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/minipartsv2.png")  {template_2_standard(1,781)}	

/* PANT2 REV*/
	spriteset(ss_e6_series_pant6_rev_mp1,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_e6_series_pant6_rev_mp2,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_e6_series_pant6_rev_mp3,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}
	spriteset(ss_e6_series_pant6_rev_mp4,             		"src/trains/dummy/empty.png") {template_dummy(0,0)}

	// 1 2 3 4
	alternative_sprites(ss_e6_series_pant6_rev_mp1,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/minipartsv2.png")  {template_2_reversed(1,721)}
	alternative_sprites(ss_e6_series_pant6_rev_mp2,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/minipartsv2.png")  {template_2_reversed(1,741)}
	alternative_sprites(ss_e6_series_pant6_rev_mp3,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/minipartsv2.png")  {template_2_reversed(1,761)}	
	alternative_sprites(ss_e6_series_pant6_rev_mp4,     		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/minipartsv2.png")  {template_2_reversed(1,781)}	

// 8 on 2 sprites

	// CAB
	spriteset(ss_e6_series_cabyf_8on2,                      "src/trains/dummy/mucar.png")  {template_8_standard(1,1)}
	spriteset(ss_e6_series_cabrf_8on2,                      "src/trains/dummy/mucar.png")  {template_8_standard(1,1)}
	spriteset(ss_e6_series_cabyb_8on2,                      "src/trains/dummy/mucar.png")  {template_8_standard(1,1)}
	spriteset(ss_e6_series_cabrb_8on2,                      "src/trains/dummy/mucar.png")  {template_8_standard(1,1)}

	alternative_sprites(ss_e6_series_cabyf_8on2,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/e6.png") {template_8_on_2_standard(1,1)}
	alternative_sprites(ss_e6_series_cabrf_8on2,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/e6.png") {template_8_on_2_cab_rev_standard(1,41)}
	alternative_sprites(ss_e6_series_cabyb_8on2,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/e6.png") {template_8_on_2_cab_rev_reversed(1,1)}
	alternative_sprites(ss_e6_series_cabrb_8on2,            ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/e6.png") {template_8_on_2_reversed(1,41)}

	// COACH
	spriteset(ss_e6_series_coach_corner,                    "src/trains/dummy/mucar.png")  {template_8_standard(1,1)}
	spriteset(ss_e6_series_coach_rev_corner,                "src/trains/dummy/mucar.png")  {template_8_standard(1,1)}

	alternative_sprites(ss_e6_series_coach_corner,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/e6.png") {template_8_on_2_standard(1,201)}
	alternative_sprites(ss_e6_series_coach_rev_corner,      ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/e6.png") {template_8_on_2_reversed(1,201)}

	// PANT2
	spriteset(ss_e6_series_pant2_corner,                    "src/trains/dummy/mucar.png")  {template_8_standard(1,1)}
	spriteset(ss_e6_series_pant2_rev_corner,                "src/trains/dummy/mucar.png")  {template_8_standard(1,1)}

	alternative_sprites(ss_e6_series_pant2_corner,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/e6.png") {template_8_on_2_standard(1,161)}
	alternative_sprites(ss_e6_series_pant2_rev_corner,      ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/e6.png") {template_8_on_2_reversed(1,161)}

	// PANT6
	spriteset(ss_e6_series_pant6_corner,                    "src/trains/dummy/mucar.png")  {template_8_standard(1,1)}
	spriteset(ss_e6_series_pant6_rev_corner,                "src/trains/dummy/mucar.png")  {template_8_standard(1,1)}

	alternative_sprites(ss_e6_series_pant6_corner,          ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/e6.png") {template_8_on_2_standard(1,241)}
	alternative_sprites(ss_e6_series_pant6_rev_corner,      ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e6_series/e6.png") {template_8_on_2_reversed(1,241)}


// Minipart switches
	// CAB Yellow Light Forwards
		switch (FEAT_TRAINS, SELF, ss_e6_series_cabyf_mp1_check, other_veh_curv_info(1) == 0 && other_veh_curv_info(3) == 0 && other_veh_z_offset(1) == 0 && other_veh_z_offset(3) == 0 ) {
				1: ss_e6_series_cabyf_mp1;		   
				ss_e6_series_cabyf_8on2;					
			}

		switch (FEAT_TRAINS, SELF, ss_e6_series_cabyf_mp2_check, other_veh_curv_info(-2) == 0 && other_veh_curv_info(2) == 0 && other_veh_z_offset(-1) == 0 && other_veh_z_offset(2) == 0 ) {
				1: ss_e6_series_cabyf_mp2;		   
				dummy_sprites;					
			}

		switch (FEAT_TRAINS, SELF, ss_e6_series_cabyf_mp3_check, other_veh_curv_info(-2) == 0 && other_veh_curv_info(1) == 0 && other_veh_z_offset(-2) == 0 && other_veh_z_offset(1) == 0 ) {
				1: ss_e6_series_cabyf_mp3;		   
				dummy_sprites;						
			}

		switch (FEAT_TRAINS, SELF, ss_e6_series_cabyf_mp4_check, other_veh_curv_info(-3) == 0 && other_veh_curv_info(-1) == 0 && other_veh_z_offset(-3) == 0 && other_veh_z_offset(-1) == 0 ) {
				1: ss_e6_series_cabyf_mp4;		   
				dummy_sprites;						
			}

	// CAB Yellow Light Backwards
		switch (FEAT_TRAINS, SELF, ss_e6_series_cabyb_mp1_check, other_veh_curv_info(-1) == 0 && other_veh_curv_info(-3) == 0 && other_veh_z_offset(-1) == 0 && other_veh_z_offset(-3) == 0 ) {
				1: ss_e6_series_cabyb_mp1;		   
				dummy_sprites;						
			}

		switch (FEAT_TRAINS, SELF, ss_e6_series_cabyb_mp2_check, other_veh_curv_info(1) == 0 && other_veh_curv_info(-2) == 0 && other_veh_z_offset(1) == 0 && other_veh_z_offset(-2) == 0 ) {
				1: ss_e6_series_cabyb_mp2;		   
				dummy_sprites;					
			}

		switch (FEAT_TRAINS, SELF, ss_e6_series_cabyb_mp3_check, other_veh_curv_info(2) == 0 && other_veh_curv_info(-1) == 0 && other_veh_z_offset(2) == 0 && other_veh_z_offset(-1) == 0 ) {
				1: ss_e6_series_cabyb_mp3;		   
				dummy_sprites;						
			}

		switch (FEAT_TRAINS, SELF, ss_e6_series_cabyb_mp4_check, other_veh_curv_info(3) == 0 && other_veh_curv_info(1) == 0 && other_veh_z_offset(3) == 0 && other_veh_z_offset(1) == 0 ) {
				1: ss_e6_series_cabyb_mp4;		   
				ss_e6_series_cabyb_8on2;					
			}

	// CAB Red Light Backwards
		switch (FEAT_TRAINS, SELF, ss_e6_series_cabrb_mp1_check, other_veh_curv_info(-1) == 0 && other_veh_curv_info(-3) == 0 && other_veh_z_offset(-1) == 0 && other_veh_z_offset(-3) == 0 ) {
				1: ss_e6_series_cabrb_mp1;		   
				dummy_sprites;					
			}

		switch (FEAT_TRAINS, SELF, ss_e6_series_cabrb_mp2_check, other_veh_curv_info(1) == 0 && other_veh_curv_info(-2) == 0 && other_veh_z_offset(1) == 0 && other_veh_z_offset(-2) == 0 ) {
				1: ss_e6_series_cabrb_mp2;		   
				dummy_sprites;					
			}

		switch (FEAT_TRAINS, SELF, ss_e6_series_cabrb_mp3_check, other_veh_curv_info(2) == 0 && other_veh_curv_info(-1) == 0 && other_veh_z_offset(2) == 0 && other_veh_z_offset(-1) == 0 ) {
				1: ss_e6_series_cabrb_mp3;		   
				dummy_sprites;						
			}

		switch (FEAT_TRAINS, SELF, ss_e6_series_cabrb_mp4_check, other_veh_curv_info(3) == 0 && other_veh_curv_info(1) == 0 && other_veh_z_offset(3) == 0 && other_veh_z_offset(1) == 0 ) {
				1: ss_e6_series_cabrb_mp4;		   
				ss_e6_series_cabrb_8on2;					
			}

	// CAB Red Light Forwards

		switch (FEAT_TRAINS, SELF, ss_e6_series_cabrf_mp1_check, other_veh_curv_info(1) == 0 && other_veh_curv_info(3) == 0 && other_veh_z_offset(1) == 0 && other_veh_z_offset(3) == 0 ) {
				1: ss_e6_series_cabrf_mp1;		   
				ss_e6_series_cabrf_8on2;					
			}

		switch (FEAT_TRAINS, SELF, ss_e6_series_cabrf_mp2_check, other_veh_curv_info(-1) == 0 && other_veh_curv_info(2) == 0 && other_veh_z_offset(-1) == 0 && other_veh_z_offset(2) == 0 ) {
				1: ss_e6_series_cabrf_mp2;		   
				dummy_sprites;					
			}

		switch (FEAT_TRAINS, SELF, ss_e6_series_cabrf_mp3_check, other_veh_curv_info(-2) == 0 && other_veh_curv_info(1) == 0 && other_veh_z_offset(-2) == 0 && other_veh_z_offset(1) == 0 ) {
				1: ss_e6_series_cabrf_mp3;		   
				dummy_sprites;						
			}

		switch (FEAT_TRAINS, SELF, ss_e6_series_cabrf_mp4_check, other_veh_curv_info(-3) == 0 && other_veh_curv_info(-1) == 0 && other_veh_z_offset(-3) == 0 && other_veh_z_offset(-1) == 0 ) {
				1: ss_e6_series_cabrf_mp4;		   
				dummy_sprites;						
			}

	// Coach
		switch (FEAT_TRAINS, SELF, ss_e6_series_coach_mp1_check, other_veh_curv_info(1) == 0 && other_veh_curv_info(3) == 0 && other_veh_z_offset(1) == 0 && other_veh_z_offset(3) == 0 ) {
				1: ss_e6_series_coach_mp1;		   
				ss_e6_series_coach_corner;					
			}

		switch (FEAT_TRAINS, SELF, ss_e6_series_coach_mp2_check, other_veh_curv_info(-1) == 0 && other_veh_curv_info(2) == 0 && other_veh_z_offset(-1) == 0 && other_veh_z_offset(2) == 0 ) {
				1: ss_e6_series_coach_mp2;		   
				dummy_sprites;					
			}

		switch (FEAT_TRAINS, SELF, ss_e6_series_coach_mp3_check, other_veh_curv_info(-2) == 0 && other_veh_curv_info(1) == 0 && other_veh_z_offset(-2) == 0 && other_veh_z_offset(1) == 0 ) {
				1: ss_e6_series_coach_mp3;		   
				dummy_sprites;						
			}

		switch (FEAT_TRAINS, SELF, ss_e6_series_coach_mp4_check, other_veh_curv_info(-3) == 0 && other_veh_curv_info(-1) == 0 && other_veh_z_offset(-3) == 0 && other_veh_z_offset(-1) == 0 ) {
				1: ss_e6_series_coach_mp4;		   
				dummy_sprites;						
			}

	// Coach Reversed
		switch (FEAT_TRAINS, SELF, ss_e6_series_coach_rev_mp1_check, other_veh_curv_info(-3) == 0 && other_veh_curv_info(-1) == 0 && other_veh_z_offset(-3) == 0 && other_veh_z_offset(-1) == 0 ) {
				1: ss_e6_series_coach_rev_mp1;		   
				dummy_sprites;				
			}

		switch (FEAT_TRAINS, SELF, ss_e6_series_coach_rev_mp2_check, other_veh_curv_info(-2) == 0 && other_veh_curv_info(1) == 0 && other_veh_z_offset(-2) == 0 && other_veh_z_offset(1) == 0 ) {
				1: ss_e6_series_coach_rev_mp2;		   
				dummy_sprites;						
			}		

		switch (FEAT_TRAINS, SELF, ss_e6_series_coach_rev_mp3_check, other_veh_curv_info(-1) == 0 && other_veh_curv_info(2) == 0 && other_veh_z_offset(-1) == 0 && other_veh_z_offset(2) == 0 ) {
				1: ss_e6_series_coach_rev_mp3;		   
				dummy_sprites;						
			}

		switch (FEAT_TRAINS, SELF, ss_e6_series_coach_rev_mp4_check, other_veh_curv_info(1) == 0 && other_veh_curv_info(3) == 0 && other_veh_z_offset(1) == 0 && other_veh_z_offset(3) == 0 ) {
				1: ss_e6_series_coach_rev_mp4;		   
				ss_e6_series_coach_rev_corner;						
			}

	// Pant2
		switch (FEAT_TRAINS, SELF, ss_e6_series_pant2_mp1_check, other_veh_curv_info(1) == 0 && other_veh_curv_info(3) == 0 && other_veh_z_offset(1) == 0 && other_veh_z_offset(3) == 0 ) {
				1: ss_e6_series_pant2_mp1;		   
				ss_e6_series_pant2_corner;					
			}

		switch (FEAT_TRAINS, SELF, ss_e6_series_pant2_mp2_check, other_veh_curv_info(-1) == 0 && other_veh_curv_info(2) == 0 && other_veh_z_offset(-1) == 0 && other_veh_z_offset(2) == 0 ) {
				1: ss_e6_series_pant2_mp2;		   
				dummy_sprites;					
			}

		switch (FEAT_TRAINS, SELF, ss_e6_series_pant2_mp3_check, other_veh_curv_info(-2) == 0 && other_veh_curv_info(1) == 0 && other_veh_z_offset(-2) == 0 && other_veh_z_offset(1) == 0 ) {
				1: ss_e6_series_pant2_mp3;		   
				dummy_sprites;						
			}

		switch (FEAT_TRAINS, SELF, ss_e6_series_pant2_mp4_check, other_veh_curv_info(-3) == 0 && other_veh_curv_info(-1) == 0 && other_veh_z_offset(-3) == 0 && other_veh_z_offset(-1) == 0 ) {
				1: ss_e6_series_pant2_mp4;		   
				dummy_sprites;						
			}

	// Pant2 Reversed
		switch (FEAT_TRAINS, SELF, ss_e6_series_pant2_rev_mp1_check, other_veh_curv_info(-3) == 0 && other_veh_curv_info(-1) == 0 && other_veh_z_offset(-3) == 0 && other_veh_z_offset(-1) == 0 ) {
				1: ss_e6_series_pant2_rev_mp1;		   
				dummy_sprites;				
			}

		switch (FEAT_TRAINS, SELF, ss_e6_series_pant2_rev_mp2_check, other_veh_curv_info(-2) == 0 && other_veh_curv_info(1) == 0 && other_veh_z_offset(-2) == 0 && other_veh_z_offset(1) == 0 ) {
				1: ss_e6_series_pant2_rev_mp2;		   
				dummy_sprites;						
			}		

		switch (FEAT_TRAINS, SELF, ss_e6_series_pant2_rev_mp3_check, other_veh_curv_info(-1) == 0 && other_veh_curv_info(2) == 0 && other_veh_z_offset(-1) == 0 && other_veh_z_offset(2) == 0 ) {
				1: ss_e6_series_pant2_rev_mp3;		   
				dummy_sprites;						
			}

		switch (FEAT_TRAINS, SELF, ss_e6_series_pant2_rev_mp4_check, other_veh_curv_info(1) == 0 && other_veh_curv_info(3) == 0 && other_veh_z_offset(1) == 0 && other_veh_z_offset(3) == 0 ) {
				1: ss_e6_series_pant2_rev_mp4;		   
				ss_e6_series_pant2_rev_corner;						
			}

	// Pant6
		switch (FEAT_TRAINS, SELF, ss_e6_series_pant6_mp1_check, other_veh_curv_info(1) == 0 && other_veh_curv_info(3) == 0 && other_veh_z_offset(1) == 0 && other_veh_z_offset(3) == 0 ) {
				1: ss_e6_series_pant6_mp1;		   
				ss_e6_series_pant6_corner;					
			}

		switch (FEAT_TRAINS, SELF, ss_e6_series_pant6_mp2_check, other_veh_curv_info(-1) == 0 && other_veh_curv_info(2) == 0 && other_veh_z_offset(-1) == 0 && other_veh_z_offset(2) == 0 ) {
				1: ss_e6_series_pant6_mp2;		   
				dummy_sprites;					
			}

		switch (FEAT_TRAINS, SELF, ss_e6_series_pant6_mp3_check, other_veh_curv_info(-2) == 0 && other_veh_curv_info(1) == 0 && other_veh_z_offset(-2) == 0 && other_veh_z_offset(1) == 0 ) {
				1: ss_e6_series_pant6_mp3;		   
				dummy_sprites;						
			}

		switch (FEAT_TRAINS, SELF, ss_e6_series_pant6_mp4_check, other_veh_curv_info(-3) == 0 && other_veh_curv_info(-1) == 0 && other_veh_z_offset(-3) == 0 && other_veh_z_offset(-1) == 0 ) {
				1: ss_e6_series_pant6_mp4;		   
				dummy_sprites;						
			}

	// Pant6 Reversed
		switch (FEAT_TRAINS, SELF, ss_e6_series_pant6_rev_mp1_check, other_veh_curv_info(-3) == 0 && other_veh_curv_info(-1) == 0 && other_veh_z_offset(-3) == 0 && other_veh_z_offset(-1) == 0 ) {
				1: ss_e6_series_pant6_rev_mp1;		   
				dummy_sprites;				
			}

		switch (FEAT_TRAINS, SELF, ss_e6_series_pant6_rev_mp2_check, other_veh_curv_info(-2) == 0 && other_veh_curv_info(1) == 0 && other_veh_z_offset(-2) == 0 && other_veh_z_offset(1) == 0 ) {
				1: ss_e6_series_pant6_rev_mp2;		   
				dummy_sprites;						
			}		

		switch (FEAT_TRAINS, SELF, ss_e6_series_pant6_rev_mp3_check, other_veh_curv_info(-1) == 0 && other_veh_curv_info(2) == 0 && other_veh_z_offset(-1) == 0 && other_veh_z_offset(2) == 0 ) {
				1: ss_e6_series_pant6_rev_mp3;		   
				dummy_sprites;						
			}

		switch (FEAT_TRAINS, SELF, ss_e6_series_pant6_rev_mp4_check, other_veh_curv_info(1) == 0 && other_veh_curv_info(3) == 0 && other_veh_z_offset(1) == 0 && other_veh_z_offset(3) == 0 ) {
				1: ss_e6_series_pant6_rev_mp4;		   
				ss_e6_series_pant6_rev_corner;						
			}
# 1 "src/trains/e5e6_series/e5e6_series.pnml" 3

	switch(FEAT_TRAINS, SELF, sw_e5e6_series_subtype_text, cargo_subtype) {
		0: return string(LV_E5E6_SERIES_E5);
		1: return string(LV_E5E6_SERIES_H5);
		return CB_RESULT_NO_TEXT;
		}

	spriteset (ss_buy_e5e6_series_pink_livery_12,	        		"src/trains/dummy/purchase.png") {template_purchase(0, 0)}
	alternative_sprites(ss_buy_e5e6_series_pink_livery_12,   		ZOOM_LEVEL_NORMAL, BIT_DEPTH_32BPP, "src/trains/e5e6_series/buy_e5e6.png") {template_purchase(0, 0)}

switch (FEAT_TRAINS, SELF, sw_e5e6_series_backwards_10, position_in_consist_from_end ) {				
		// 1 Cab
		0:  ss_e5_series_cabrb_mp1_10_check;
		1:  ss_e5_series_cabrb_mp2_10_check;
		2:  ss_e5_series_cabrb_mp3_10_check;
		3:  ss_e5_series_cabrb_mp4_10_check;
		4:  ss_e5_series_cabrb_mp5_10_check;
		// 2 Coach 
		5:  ss_e5_series_coach_rev_mp1_10_check;
		6:  ss_e5_series_coach_rev_mp2_10_check;
		7:  ss_e5_series_coach_rev_mp3_10_check;
		8:  ss_e5_series_coach_rev_mp4_10_check;
		9:  ss_e5_series_coach_rev_mp5_10_check;
		// 3 Coach
		10: ss_e5_series_pant3_rev_mp1_10_check;
		11: ss_e5_series_pant3_rev_mp2_10_check;
		12: ss_e5_series_pant3_rev_mp3_10_check;
		13: ss_e5_series_pant3_rev_mp4_10_check;
		14: ss_e5_series_pant3_rev_mp5_10_check;
		// 4 Panto
		15: ss_e5_series_coach_rev_mp1_10_check;
		16: ss_e5_series_coach_rev_mp2_10_check;
		17: ss_e5_series_coach_rev_mp3_10_check;
		18: ss_e5_series_coach_rev_mp4_10_check;
		19: ss_e5_series_coach_rev_mp5_10_check;
		// 5 Coach
		20: ss_e5_series_coach_rev_mp1_10_check;
		21: ss_e5_series_coach_rev_mp2_10_check;
		22: ss_e5_series_coach_rev_mp3_10_check;
		23: ss_e5_series_coach_rev_mp4_10_check;
		24: ss_e5_series_coach_rev_mp5_10_check;
		// 6 Coach
		25: ss_e5_series_coach_rev_mp1_10_check;
		26: ss_e5_series_coach_rev_mp2_10_check;
		27: ss_e5_series_coach_rev_mp3_10_check;
		28: ss_e5_series_coach_rev_mp4_10_check;
		29: ss_e5_series_coach_rev_mp5_10_check;
		// 7 Coach
		30: ss_e5_series_coach_rev_mp1_10_check;
		31: ss_e5_series_coach_rev_mp2_10_check;
		32: ss_e5_series_coach_rev_mp3_10_check;
		33: ss_e5_series_coach_rev_mp4_10_check;
		34: ss_e5_series_coach_rev_mp5_10_check;
		// 8 Coach
		35: ss_e5_series_pant8_rev_mp1_10_check;
		36: ss_e5_series_pant8_rev_mp2_10_check;
		37: ss_e5_series_pant8_rev_mp3_10_check;
		38: ss_e5_series_pant8_rev_mp4_10_check;
		39: ss_e5_series_pant8_rev_mp5_10_check;
		// 9 Coach
		40: ss_e5_series_coach_rev_mp1_10_check;
		41: ss_e5_series_coach_rev_mp2_10_check;
		42: ss_e5_series_coach_rev_mp3_10_check;
		43: ss_e5_series_coach_rev_mp4_10_check;
		44: ss_e5_series_coach_rev_mp5_10_check;
		// 10 Cab
		45: ss_e5_series_cabyb_mp1_10_check;
		46: ss_e5_series_cabyb_mp2_10_check;
		47: ss_e5_series_cabyb_mp3_10_check;
		48: ss_e5_series_cabyb_mp4_10_check;
		49: ss_e5_series_cabyb_mp5_10_check;
		// E6 Series
		// 1 Cab
		50: ss_e6_series_cabrb_mp1_check;
		51: ss_e6_series_cabrb_mp2_check;
		52: ss_e6_series_cabrb_mp3_check;
		53: ss_e6_series_cabrb_mp4_check;
		// 2 Panto
		54: ss_e6_series_pant2_rev_mp1_check;
		55: ss_e6_series_pant2_rev_mp2_check;
		56: ss_e6_series_pant2_rev_mp3_check;
		57: ss_e6_series_pant2_rev_mp4_check;
		// 3 Coach
		58: ss_e6_series_coach_rev_mp1_check;
		59: ss_e6_series_coach_rev_mp2_check;
		60: ss_e6_series_coach_rev_mp3_check;
		61: ss_e6_series_coach_rev_mp4_check;
		// 4 Coach
		62: ss_e6_series_coach_rev_mp1_check;
		63: ss_e6_series_coach_rev_mp2_check;
		64: ss_e6_series_coach_rev_mp3_check;
		65: ss_e6_series_coach_rev_mp4_check;
		// 5 Coach
		66: ss_e6_series_coach_rev_mp1_check;
		67: ss_e6_series_coach_rev_mp2_check;
		68: ss_e6_series_coach_rev_mp3_check;
		69: ss_e6_series_coach_rev_mp4_check;
		// 6 Panto
		70: ss_e6_series_pant6_rev_mp1_check;
		71: ss_e6_series_pant6_rev_mp2_check;
		72: ss_e6_series_pant6_rev_mp3_check;
		73: ss_e6_series_pant6_rev_mp4_check;
		// 7 Cab
		74: ss_e6_series_cabyb_mp1_check;
		75: ss_e6_series_cabyb_mp2_check;
		76: ss_e6_series_cabyb_mp3_check;
		77: ss_e6_series_cabyb_mp4_check;
		dummy_sprites;			
	}

switch (FEAT_TRAINS, SELF, sw_e5e6_series_forwards_10, position_in_consist ) {				
		0:  ss_e5_series_cabyf_mp1_10_check;
		1:  ss_e5_series_cabyf_mp2_10_check;
		2:  ss_e5_series_cabyf_mp3_10_check;
		3:  ss_e5_series_cabyf_mp4_10_check;
		4:  ss_e5_series_cabyf_mp5_10_check;
		// 2 Coach 
		5:  ss_e5_series_coach_mp1_10_check;
		6:  ss_e5_series_coach_mp2_10_check;
		7:  ss_e5_series_coach_mp3_10_check;
		8:  ss_e5_series_coach_mp4_10_check;
		9:  ss_e5_series_coach_mp5_10_check;
		// 3 Coach
		10: ss_e5_series_pant3_mp1_10_check;
		11: ss_e5_series_pant3_mp2_10_check;
		12: ss_e5_series_pant3_mp3_10_check;
		13: ss_e5_series_pant3_mp4_10_check;
		14: ss_e5_series_pant3_mp5_10_check;
		// 4 Panto
		15: ss_e5_series_coach_mp1_10_check;
		16: ss_e5_series_coach_mp2_10_check;
		17: ss_e5_series_coach_mp3_10_check;
		18: ss_e5_series_coach_mp4_10_check;
		19: ss_e5_series_coach_mp5_10_check;
		// 5 Coach
		20: ss_e5_series_coach_mp1_10_check;
		21: ss_e5_series_coach_mp2_10_check;
		22: ss_e5_series_coach_mp3_10_check;
		23: ss_e5_series_coach_mp4_10_check;
		24: ss_e5_series_coach_mp5_10_check;
		// 6 Coach
		25: ss_e5_series_coach_mp1_10_check;
		26: ss_e5_series_coach_mp2_10_check;
		27: ss_e5_series_coach_mp3_10_check;
		28: ss_e5_series_coach_mp4_10_check;
		29: ss_e5_series_coach_mp5_10_check;
		// 7 Coach
		30: ss_e5_series_coach_mp1_10_check;
		31: ss_e5_series_coach_mp2_10_check;
		32: ss_e5_series_coach_mp3_10_check;
		33: ss_e5_series_coach_mp4_10_check;
		34: ss_e5_series_coach_mp5_10_check;
		// 8 Coach
		35: ss_e5_series_pant8_mp1_10_check;
		36: ss_e5_series_pant8_mp2_10_check;
		37: ss_e5_series_pant8_mp3_10_check;
		38: ss_e5_series_pant8_mp4_10_check;
		39: ss_e5_series_pant8_mp5_10_check;
		// 9 Coach
		40: ss_e5_series_coach_mp1_10_check;
		41: ss_e5_series_coach_mp2_10_check;
		42: ss_e5_series_coach_mp3_10_check;
		43: ss_e5_series_coach_mp4_10_check;
		44: ss_e5_series_coach_mp5_10_check;
		// 10 Cab
		45: ss_e5_series_cabrf_mp1_10_check;
		46: ss_e5_series_cabrf_mp2_10_check;
		47: ss_e5_series_cabrf_mp3_10_check;
		48: ss_e5_series_cabrf_mp4_10_check;
		49: ss_e5_series_cabrf_mp5_10_check;
		// E6 Series
		// 1 Cab
		50: ss_e6_series_cabyf_mp1_check;
		51: ss_e6_series_cabyf_mp2_check;
		52: ss_e6_series_cabyf_mp3_check;
		53: ss_e6_series_cabyf_mp4_check;
		// 2 Panto
		54: ss_e6_series_pant2_mp1_check;
		55: ss_e6_series_pant2_mp2_check;
		56: ss_e6_series_pant2_mp3_check;
		57: ss_e6_series_pant2_mp4_check;
		// 3 Coach
		58: ss_e6_series_coach_mp1_check;
		59: ss_e6_series_coach_mp2_check;
		60: ss_e6_series_coach_mp3_check;
		61: ss_e6_series_coach_mp4_check;
		// 4 Coach
		62: ss_e6_series_coach_mp1_check;
		63: ss_e6_series_coach_mp2_check;
		64: ss_e6_series_coach_mp3_check;
		65: ss_e6_series_coach_mp4_check;
		// 5 Coach
		66: ss_e6_series_coach_mp1_check;
		67: ss_e6_series_coach_mp2_check;
		68: ss_e6_series_coach_mp3_check;
		69: ss_e6_series_coach_mp4_check;
		// 6 Panto
		70: ss_e6_series_pant6_mp1_check;
		71: ss_e6_series_pant6_mp2_check;
		72: ss_e6_series_pant6_mp3_check;
		73: ss_e6_series_pant6_mp4_check;
		// 7 Cab
		74: ss_e6_series_cabrf_mp1_check;
		75: ss_e6_series_cabrf_mp2_check;
		76: ss_e6_series_cabrf_mp3_check;
		77: ss_e6_series_cabrf_mp4_check;
		dummy_sprites;				
	}

switch (FEAT_TRAINS, SELF, sw_e5e6_series_backwards_12, position_in_consist_from_end ) {				
		// 1 Cab
		0:  ss_e5_series_cabrb_mp1_12_check;
		1:  ss_e5_series_cabrb_mp2_12_check;
		2:  ss_e5_series_cabrb_mp3_12_check;
		3:  ss_e5_series_cabrb_mp4_12_check;
		4:  ss_e5_series_cabrb_mp5_12_check;
		5:  ss_e5_series_cabrb_mp6_12_check;
		// 2 Coach 
		6:  ss_e5_series_coach_rev_mp1_12_check;
		7:  ss_e5_series_coach_rev_mp2_12_check;
		8:  ss_e5_series_coach_rev_mp3_12_check;
		9:  ss_e5_series_coach_rev_mp4_12_check;
		10: ss_e5_series_coach_rev_mp5_12_check;
		11: ss_e5_series_coach_rev_mp6_12_check;
		// 3 Coach
		12: ss_e5_series_pant3_rev_mp1_12_check;
		13: ss_e5_series_pant3_rev_mp2_12_check;
		14: ss_e5_series_pant3_rev_mp3_12_check;
		15: ss_e5_series_pant3_rev_mp4_12_check;
		16: ss_e5_series_pant3_rev_mp5_12_check;
		17: ss_e5_series_pant3_rev_mp6_12_check;
		// 4 Panto
		18: ss_e5_series_coach_rev_mp1_12_check;
		19: ss_e5_series_coach_rev_mp2_12_check;
		20: ss_e5_series_coach_rev_mp3_12_check;
		21: ss_e5_series_coach_rev_mp4_12_check;
		22: ss_e5_series_coach_rev_mp5_12_check;
		23: ss_e5_series_coach_rev_mp6_12_check;
		// 5 Coach
		24: ss_e5_series_coach_rev_mp1_12_check;
		25: ss_e5_series_coach_rev_mp2_12_check;
		26: ss_e5_series_coach_rev_mp3_12_check;
		27: ss_e5_series_coach_rev_mp4_12_check;
		28: ss_e5_series_coach_rev_mp5_12_check;
		29: ss_e5_series_coach_rev_mp6_12_check;
		// 6 Coach
		30: ss_e5_series_coach_rev_mp1_12_check;
		31: ss_e5_series_coach_rev_mp2_12_check;
		32: ss_e5_series_coach_rev_mp3_12_check;
		33: ss_e5_series_coach_rev_mp4_12_check;
		34: ss_e5_series_coach_rev_mp5_12_check;
		35: ss_e5_series_coach_rev_mp6_12_check;
		// 7 Coach
		36: ss_e5_series_coach_rev_mp1_12_check;
		37: ss_e5_series_coach_rev_mp2_12_check;
		38: ss_e5_series_coach_rev_mp3_12_check;
		39: ss_e5_series_coach_rev_mp4_12_check;
		40: ss_e5_series_coach_rev_mp5_12_check;
		41: ss_e5_series_coach_rev_mp6_12_check;
		// 8 Coach
		42: ss_e5_series_pant8_rev_mp1_12_check;
		43: ss_e5_series_pant8_rev_mp2_12_check;
		44: ss_e5_series_pant8_rev_mp3_12_check;
		45: ss_e5_series_pant8_rev_mp4_12_check;
		46: ss_e5_series_pant8_rev_mp5_12_check;
		47: ss_e5_series_pant8_rev_mp6_12_check;
		// 9 Coach
		48: ss_e5_series_coach_rev_mp1_12_check;
		49: ss_e5_series_coach_rev_mp2_12_check;
		50: ss_e5_series_coach_rev_mp3_12_check;
		51: ss_e5_series_coach_rev_mp4_12_check;
		52: ss_e5_series_coach_rev_mp5_12_check;
		53: ss_e5_series_coach_rev_mp6_12_check;
		// 10 Cab
		54: ss_e5_series_cabyb_mp1_12_check;
		55: ss_e5_series_cabyb_mp2_12_check;
		56: ss_e5_series_cabyb_mp3_12_check;
		57: ss_e5_series_cabyb_mp4_12_check;
		58: ss_e5_series_cabyb_mp5_12_check;
		59: ss_e5_series_cabyb_mp6_12_check;
		// E6 Series
		// 1 Cab
		60: ss_e6_series_cabrb_mp1_check;
		61: ss_e6_series_cabrb_mp2_check;
		62: ss_e6_series_cabrb_mp3_check;
		63: ss_e6_series_cabrb_mp4_check;
		// 2 Panto
		64: ss_e6_series_pant2_rev_mp1_check;
		65: ss_e6_series_pant2_rev_mp2_check;
		66: ss_e6_series_pant2_rev_mp3_check;
		67: ss_e6_series_pant2_rev_mp4_check;
		// 3 Coach
		68: ss_e6_series_coach_rev_mp1_check;
		69: ss_e6_series_coach_rev_mp2_check;
		70: ss_e6_series_coach_rev_mp3_check;
		71: ss_e6_series_coach_rev_mp4_check;
		// 4 Coach
		72: ss_e6_series_coach_rev_mp1_check;
		73: ss_e6_series_coach_rev_mp2_check;
		74: ss_e6_series_coach_rev_mp3_check;
		75: ss_e6_series_coach_rev_mp4_check;
		// 5 Coach
		76: ss_e6_series_coach_rev_mp1_check;
		77: ss_e6_series_coach_rev_mp2_check;
		78: ss_e6_series_coach_rev_mp3_check;
		79: ss_e6_series_coach_rev_mp4_check;
		// 6 Panto
		80: ss_e6_series_pant6_rev_mp1_check;
		81: ss_e6_series_pant6_rev_mp2_check;
		82: ss_e6_series_pant6_rev_mp3_check;
		83: ss_e6_series_pant6_rev_mp4_check;
		// 7 Cab
		84: ss_e6_series_cabyb_mp1_check;
		85: ss_e6_series_cabyb_mp2_check;
		86: ss_e6_series_cabyb_mp3_check;
		87: ss_e6_series_cabyb_mp4_check;
		dummy_sprites;				
	}		

switch (FEAT_TRAINS, SELF, sw_e5e6_series_forwards_12, position_in_consist ) {				
		0:  ss_e5_series_cabyf_mp1_12_check;
		1:  ss_e5_series_cabyf_mp2_12_check;
		2:  ss_e5_series_cabyf_mp3_12_check;
		3:  ss_e5_series_cabyf_mp4_12_check;
		4:  ss_e5_series_cabyf_mp5_12_check;
		5:  ss_e5_series_cabyf_mp6_12_check;
		// 2 Coach 
		6:  ss_e5_series_coach_mp1_12_check;
		7:  ss_e5_series_coach_mp2_12_check;
		8:  ss_e5_series_coach_mp3_12_check;
		9:  ss_e5_series_coach_mp4_12_check;
		10: ss_e5_series_coach_mp5_12_check;
		11: ss_e5_series_coach_mp6_12_check;
		// 3 Coach
		12: ss_e5_series_pant3_mp1_12_check;
		13: ss_e5_series_pant3_mp2_12_check;
		14: ss_e5_series_pant3_mp3_12_check;
		15: ss_e5_series_pant3_mp4_12_check;
		16: ss_e5_series_pant3_mp5_12_check;
		17: ss_e5_series_pant3_mp6_12_check;
		// 4 Panto
		18: ss_e5_series_coach_mp1_12_check;
		19: ss_e5_series_coach_mp2_12_check;
		20: ss_e5_series_coach_mp3_12_check;
		21: ss_e5_series_coach_mp4_12_check;
		22: ss_e5_series_coach_mp5_12_check;
		23: ss_e5_series_coach_mp6_12_check;
		// 5 Coach
		24: ss_e5_series_coach_mp1_12_check;
		25: ss_e5_series_coach_mp2_12_check;
		26: ss_e5_series_coach_mp3_12_check;
		27: ss_e5_series_coach_mp4_12_check;
		28: ss_e5_series_coach_mp5_12_check;
		29: ss_e5_series_coach_mp6_12_check;
		// 6 Coach
		30: ss_e5_series_coach_mp1_12_check;
		31: ss_e5_series_coach_mp2_12_check;
		32: ss_e5_series_coach_mp3_12_check;
		33: ss_e5_series_coach_mp4_12_check;
		34: ss_e5_series_coach_mp5_12_check;
		35: ss_e5_series_coach_mp6_12_check;
		// 7 Coach
		36: ss_e5_series_coach_mp1_12_check;
		37: ss_e5_series_coach_mp2_12_check;
		38: ss_e5_series_coach_mp3_12_check;
		39: ss_e5_series_coach_mp4_12_check;
		40: ss_e5_series_coach_mp5_12_check;
		41: ss_e5_series_coach_mp6_12_check;
		// 8 Coach
		42: ss_e5_series_pant8_mp1_12_check;
		43: ss_e5_series_pant8_mp2_12_check;
		44: ss_e5_series_pant8_mp3_12_check;
		45: ss_e5_series_pant8_mp4_12_check;
		46: ss_e5_series_pant8_mp5_12_check;
		47: ss_e5_series_pant8_mp6_12_check;
		// 9 Coach
		48: ss_e5_series_coach_mp1_12_check;
		49: ss_e5_series_coach_mp2_12_check;
		50: ss_e5_series_coach_mp3_12_check;
		51: ss_e5_series_coach_mp4_12_check;
		52: ss_e5_series_coach_mp5_12_check;
		53: ss_e5_series_coach_mp6_12_check;
		// 10 Cab
		54: ss_e5_series_cabrf_mp1_12_check;
		55: ss_e5_series_cabrf_mp2_12_check;
		56: ss_e5_series_cabrf_mp3_12_check;
		57: ss_e5_series_cabrf_mp4_12_check;
		58: ss_e5_series_cabrf_mp5_12_check;
		59: ss_e5_series_cabrf_mp6_12_check;
		// E6 Series
		// 1 Cab
		60: ss_e6_series_cabyf_mp1_check;
		61: ss_e6_series_cabyf_mp2_check;
		62: ss_e6_series_cabyf_mp3_check;
		63: ss_e6_series_cabyf_mp4_check;
		// 2 Panto
		64: ss_e6_series_pant2_mp1_check;
		65: ss_e6_series_pant2_mp2_check;
		66: ss_e6_series_pant2_mp3_check;
		67: ss_e6_series_pant2_mp4_check;
		// 3 Coach
		68: ss_e6_series_coach_mp1_check;
		69: ss_e6_series_coach_mp2_check;
		70: ss_e6_series_coach_mp3_check;
		71: ss_e6_series_coach_mp4_check;
		// 4 Coach
		72: ss_e6_series_coach_mp1_check;
		73: ss_e6_series_coach_mp2_check;
		74: ss_e6_series_coach_mp3_check;
		75: ss_e6_series_coach_mp4_check;
		// 5 Coach
		76: ss_e6_series_coach_mp1_check;
		77: ss_e6_series_coach_mp2_check;
		78: ss_e6_series_coach_mp3_check;
		79: ss_e6_series_coach_mp4_check;
		// 6 Panto
		80: ss_e6_series_pant6_mp1_check;
		81: ss_e6_series_pant6_mp2_check;
		82: ss_e6_series_pant6_mp3_check;
		83: ss_e6_series_pant6_mp4_check;
		// 7 Cab
		84: ss_e6_series_cabrf_mp1_check;
		85: ss_e6_series_cabrf_mp2_check;
		86: ss_e6_series_cabrf_mp3_check;
		87: ss_e6_series_cabrf_mp4_check;
		dummy_sprites;					
	}

switch (FEAT_TRAINS, SELF, sw_e5e6_series_backwards, param_spritelength) {
        1: sw_e5e6_series_backwards_10;		    	// Length 10
        sw_e5e6_series_backwards_12;				// Length 12
    }

switch (FEAT_TRAINS, SELF, sw_e5e6_series_forwards, param_spritelength) {
        1: sw_e5e6_series_forwards_10;		    // Length 10
        sw_e5e6_series_forwards_12;				// Length 12
    }

switch (FEAT_TRAINS, PARENT, sw_e5e6_series_graphics, vehicle_is_reversed ) {				
		0:  sw_e5e6_series_forwards; 				
		sw_e5e6_series_backwards;
	}

switch (FEAT_TRAINS, SELF, sw_e5e6_series_articulated_part_12, extra_callback_info1) {
		1 .. 87: return series_e5e6;									
		return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
	}

switch (FEAT_TRAINS, SELF, sw_e5e6_series_articulated_part_10, extra_callback_info1) {
		1 .. 77: return series_e5e6;									
		return CB_RESULT_NO_MORE_ARTICULATED_PARTS;
	}

switch (FEAT_TRAINS, SELF, sw_e5e6_series_articulated_part, param_spritelength) {
        1: sw_e5e6_series_articulated_part_10;		    // Length 10
        sw_e5e6_series_articulated_part_12;				// Length 12
    }


/*---Coupling Switch---*/
switch(FEAT_TRAINS, SELF, sw_e5e6_series_attach_vehid, [vehicle_type_id == series_e5e6]) {
 		0: return string(MU_UNIQUE);
	}

// Description
switch (FEAT_TRAINS, SELF, sw_e5e6_series_additional_text, param_spritelength) {
        1: string(STR_DESC_E5E6_SERIES_10);		   	 	// Length 10
        string(STR_DESC_E5E6_SERIES_12);				// Length 12
    }

item(FEAT_TRAINS, series_e5e6) {
	property {
		/* Menu */
		name: 							string(STR_NAME_E5E6_SERIES);
		sprite_id:                      SPRITE_ID_NEW_TRAIN; 		// required to enable new graphics
		misc_flags:                     bitmask(TRAIN_FLAG_2CC, TRAIN_FLAG_MU, TRAIN_FLAG_TILT, TRAIN_FLAG_AUTOREFIT, TRAIN_FLAG_SPRITE_STACK);
		running_cost_base:              RUNNING_COST_ELECTRIC;
		engine_class:                   ENGINE_CLASS_ELECTRIC;
		variant_group:					2005;
		/* Availability */
		climates_available:             ALL_CLIMATES;
		introduction_date:              date(2011,03,05); 
		model_life:                     VEHICLE_NEVER_EXPIRES;		
		vehicle_life:                   30;							// 
		track_type:                     SHINKANSEN;
		/* Cargo */
		reliability_decay:              5;
		refittable_cargo_classes:       bitmask(CC_PASSENGERS);
		refit_cost:                     0;
		default_cargo_type:             PASS;
		ai_special_flag:                AI_FLAG_PASSENGER;
		cargo_capacity:                 1;							// 
		loading_speed:                  50;							
		cargo_age_period:               278; 						// 1.5 times normal for this expensive long-distance train
		/* Stats */
		speed:                          321 km/h;					// Operational Top Speed
		power:                          (8064 + 12864) hp;			// Agreed to https://en.wikipedia.org/wiki/E5_and_H5_Series_Shinkansen
		weight:                         (453 + 306) tons;					// Agreed to https://en.wikipedia.org/wiki/E5_and_H5_Series_Shinkansen
		tractive_effort_coefficient:    0.3;
		air_drag_coefficient:			0;
	}
	graphics {
		/* Menu */
		additional_text:                sw_e5e6_series_additional_text;
		cargo_subtype_text:             sw_e5e6_series_subtype_text;
		can_attach_wagon:				sw_e5e6_series_attach_vehid;
		//start_stop:						sw_e5e6_series_stop_start;
		/* Graphics */
		default:                        sw_e5e6_series_graphics;
		purchase:                       ss_buy_e5e6_series_pink_livery_12;
		articulated_part:               sw_e5e6_series_articulated_part;	
		visual_effect_and_powered:      sw_visual_effect_and_powered;
		/* Stats */
		length:                         2;
		cargo_capacity:                 25 * CapacityFactor();
		loading_speed:					25 * CapacityFactor() / param_loading_2D;
		cargo_age_period:				param_decay_express;
		cost_factor:                    144;
		running_cost_factor:            (298 + 127 * NumberCarsInConsist() ) * RunningCostFactor();
		purchase_running_cost_factor:   298 + 127 * NumberCarsInConsist();	
	}
}
# 1 "JPplusShinkansen.pnml" 4

// GRF OVERRIDES
# 1 "src/grfoverrides.pnml" 1
if (param_japansetdisable == 0) {
	disable_item(FEAT_TRAINS, 0, 115); //Disables original vehicles
}

//JPSet3 DUPLICATION 

if (param_japansetdisable == 1) {
	engine_override("SZ\0D\00");

	item(FEAT_TRAINS, japanset_0_series, 0x17) {
		property {
			climates_available: NO_CLIMATE;
		}
	} 

	item(FEAT_TRAINS, japanset_100_series, 0x3a) {
		property {
			climates_available: NO_CLIMATE;
		}
	} 

	item(FEAT_TRAINS, japanset_300_series, 0x3d) {
		property {
			climates_available: NO_CLIMATE;
		}
	} 

	item(FEAT_TRAINS, japanset_500_series, 0x46) {
		property {
			climates_available: NO_CLIMATE;
		}
	} 

	item(FEAT_TRAINS, japanset_700_series, 0x4b) {
		property {
			climates_available: NO_CLIMATE;
		}
	} 

	item(FEAT_TRAINS, japanset_n700_series, 0x5f) {
		property {
			climates_available: NO_CLIMATE;
		}
	} 

	item(FEAT_TRAINS, japanset_800_series, 0x4f) {
		property {
			climates_available: NO_CLIMATE;
		}
	} 

	item(FEAT_TRAINS, japanset_200_series, 0x4c) {
		property {
			climates_available: NO_CLIMATE;
		}
	} 

	item(FEAT_TRAINS, japanset_400_series, 0x400) {
		property {
			climates_available: NO_CLIMATE;
		}
	} 

	item(FEAT_TRAINS, japanset_e1_series, 0x45) {
		property {
			climates_available: NO_CLIMATE;
		}
	} 

	item(FEAT_TRAINS, japanset_e2_series, 0x65) {
		property {
			climates_available: NO_CLIMATE;
		}
	} 

	item(FEAT_TRAINS, japanset_e3_series, 0x401) {
		property {
			climates_available: NO_CLIMATE;
		}
	} 

	item(FEAT_TRAINS, japanset_e4_series, 0x6d) {
		property {
			climates_available: NO_CLIMATE;
		}
	} 

	item(FEAT_TRAINS, japanset_e5_series, 0x6e) {
		property {
			climates_available: NO_CLIMATE;
		}
	} 

	item(FEAT_TRAINS, japanset_e6_series, 0x402) {
		property {
			climates_available: NO_CLIMATE;
		}
	} 

	item(FEAT_TRAINS, japanset_e7_series, 0x72) {
		property {
			climates_available: NO_CLIMATE;
		}
	} 

	item(FEAT_TRAINS, japanset_pax_car, 0x59) {
		property {
			climates_available: NO_CLIMATE;
		}
	} 

	item(FEAT_TRAINS, japanset_mail_car, 0x5a) {
		property {
			climates_available: NO_CLIMATE;
		}
	} 

}
# 1 "JPplusShinkansen.pnml" 4
